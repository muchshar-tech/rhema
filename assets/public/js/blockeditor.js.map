{"version":3,"file":"js/blockeditor.js","mappings":"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ACA;WACA,iBAAiB,qBAAqB;WACtC;WACA;WACA;WACA;WACA,kBAAkB,qBAAqB;WACvC,oHAAoH,iDAAiD;WACrK;WACA,KAAK;WACL;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;;;;WC7BA;WACA;WACA;WACA,eAAe,4BAA4B;WAC3C,eAAe;WACf,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA,uDAAuD,qCAAqC,kBAAkB;WAC9G;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,sDAAsD;WACtD,sCAAsC,iEAAiE;WACvG,8DAA8D,wBAAwB,uBAAuB;WAC7G;WACA,+BAA+B;WAC/B;WACA;WACA;;;;;WCzBA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,GAAG;WACH;WACA;WACA,CAAC;;;;;WCPD,8CAA8C;;;;;WCA9C;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;WCNA;WACA;WACA;WACA;WACA;;;;;WCJA;;WAEA;WACA;WACA;WACA;WACA;WACA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA,8CAA8C;;WAE9C;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,iCAAiC,mCAAmC;WACpE;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,MAAM,qBAAqB;WAC3B;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;;;;;UElDA;UACA;UACA;UACA,qFAAqF,+DAA+D;UACpJ","sources":["webpack://rhema/./assets/src/js/blockeditor.js","webpack://rhema/./assets/src/js/blockeditor/BibleSelector.jsx","webpack://rhema/./assets/src/js/blockeditor/PluginSidebar.jsx","webpack://rhema/./assets/src/js/common/index.js","webpack://rhema/./assets/src/js/constants.js","webpack://rhema/./assets/src/js/frontend/books/index.jsx","webpack://rhema/./assets/src/js/frontend/components/index.jsx","webpack://rhema/./assets/src/js/frontend/footers/index.jsx","webpack://rhema/./assets/src/js/frontend/forms/Form.jsx","webpack://rhema/./assets/src/js/frontend/forms/index.jsx","webpack://rhema/./assets/src/js/frontend/headers/index.jsx","webpack://rhema/./assets/src/js/frontend/layouts/BibleRaws.jsx","webpack://rhema/./assets/src/js/frontend/layouts/Body.jsx","webpack://rhema/./assets/src/js/frontend/layouts/Bottom.jsx","webpack://rhema/./assets/src/js/frontend/layouts/Content.jsx","webpack://rhema/./assets/src/js/frontend/layouts/Drawer.jsx","webpack://rhema/./assets/src/js/frontend/layouts/PageWrapper.jsx","webpack://rhema/./assets/src/js/frontend/layouts/Top.jsx","webpack://rhema/./assets/src/js/frontend/layouts/index.jsx","webpack://rhema/./assets/src/js/frontend/pages/chapters.jsx","webpack://rhema/./assets/src/js/frontend/pages/error.jsx","webpack://rhema/./assets/src/js/frontend/pages/home.jsx","webpack://rhema/./assets/src/js/frontend/pages/index.jsx","webpack://rhema/./assets/src/js/frontend/pages/verses.jsx","webpack://rhema/./assets/src/js/frontend/paragraph/index.jsx","webpack://rhema/./assets/src/js/frontend/search/index.jsx","webpack://rhema/./assets/src/js/frontend/states/dataSlice.js","webpack://rhema/./assets/src/js/frontend/states/generalSlice.js","webpack://rhema/./assets/src/js/frontend/states/selectedSlice.js","webpack://rhema/./assets/src/js/frontend/store.js","webpack://rhema/./assets/src/js/frontend/tabs/index.jsx","webpack://rhema/./assets/src/js/frontend/tools/BooksSelector.jsx","webpack://rhema/./assets/src/js/frontend/tools/Bordered.jsx","webpack://rhema/./assets/src/js/frontend/tools/Borderless.jsx","webpack://rhema/./assets/src/js/frontend/tools/SearchBarInput.jsx","webpack://rhema/./assets/src/js/frontend/tools/index.jsx","webpack://rhema/./assets/src/js/frontend/utilities.js","webpack://rhema/./assets/src/js/schema/index.js","webpack://rhema/./assets/src/js/services/index.js","webpack://rhema/./assets/src/postcss/blockeditor.pcss","webpack://rhema/external var \"LOCALIZE_SCRIPT_VARIABLES\"","webpack://rhema/external var \"React\"","webpack://rhema/external var \"_\"","webpack://rhema/external window [\"wp\",\"coreData\"]","webpack://rhema/external window [\"wp\",\"editPost\"]","webpack://rhema/external window [\"wp\",\"i18n\"]","webpack://rhema/external window [\"wp\",\"plugins\"]","webpack://rhema/webpack/bootstrap","webpack://rhema/webpack/runtime/chunk loaded","webpack://rhema/webpack/runtime/compat get default export","webpack://rhema/webpack/runtime/create fake namespace object","webpack://rhema/webpack/runtime/define property getters","webpack://rhema/webpack/runtime/global","webpack://rhema/webpack/runtime/hasOwnProperty shorthand","webpack://rhema/webpack/runtime/make namespace object","webpack://rhema/webpack/runtime/node module decorator","webpack://rhema/webpack/runtime/jsonp chunk loading","webpack://rhema/webpack/before-startup","webpack://rhema/webpack/startup","webpack://rhema/webpack/after-startup"],"sourcesContent":["/**\r\n * SASS\r\n */\r\nimport '../postcss/blockeditor.pcss'\r\n\r\n/**\r\n * JavaScript\r\n */\r\nimport { registerPlugin } from '@wordpress/plugins'\r\nimport { PluginSidebar } from '@wordpress/edit-post'\r\n\r\nimport RHEMA_LOCALIZE from 'RHEMA_LOCALIZE'\r\nimport Sidebar from './blockeditor/PluginSidebar'\r\n\r\nregisterPlugin(RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT, {\r\n    icon: 'book-alt',\r\n    render: () => {\r\n        return (\r\n            <PluginSidebar name={RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT} title=\"Bible Relations\">\r\n                <Sidebar />\r\n            </PluginSidebar>\r\n        )\r\n    },\r\n})","import React from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { MemoryRouter, Routes, Route, Navigate } from 'react-router-dom'\r\n\r\nimport RHEMA_LOCALIZE from 'RHEMA_LOCALIZE'\r\nimport * as Pages from '@components/frontend/pages'\r\n\r\nconst style = `:host, :root {display:block;margin: 0; font-size: 16px;}`\r\nconst pluginFrontendCssUrl = RHEMA_LOCALIZE.RHEMA_BLOCK_EDITOR_CSS_URL\r\n\r\nconst BibleSelector = () => {\r\n    return (\r\n        <MemoryRouter>\r\n            <style>\r\n                @import '{pluginFrontendCssUrl}';\r\n                @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC&display=swap');\r\n                {style}\r\n            </style>\r\n            <Routes>\r\n                <Route path=\"/bible\">\r\n                    <Route path=\":books1\">\r\n                        <Route path=\":verse1\" element={<Pages.Verses />} />\r\n                        <Route\r\n                            path=\":verse1/-/:books2/:verse2\"\r\n                            element={<Pages.Verses />}\r\n                        />\r\n                        <Route index element={<Pages.Chapters />} />\r\n                    </Route>\r\n                    <Route path=\"error\" element={<Pages.Error />} />\r\n                </Route>\r\n                <Route index element={<Pages.RandomlyChapter />} />\r\n            </Routes>\r\n        </MemoryRouter>\r\n    )\r\n}\r\n\r\nexport default BibleSelector\r\n","import React, { useState } from 'react'\r\nimport { Provider } from 'react-redux'\r\nimport ReactShadowRoot from 'react-shadow-root'\r\nimport {\r\n    PanelBody,\r\n    Panel,\r\n    PanelRow,\r\n    PanelHeader,\r\n    Button,\r\n    Modal,\r\n} from '@wordpress/components'\r\nimport { useEntityProp } from '@wordpress/core-data'\r\nimport { __ } from '@wordpress/i18n'\r\n\r\nimport BibleSelector from './BibleSelector'\r\nimport { Store } from '@components/frontend/store'\r\n\r\nexport default () => {\r\n    const [meta, setMeta] = useEntityProp('postType', 'post', 'meta')\r\n    const [isOpen, setOpen] = useState(false)\r\n    const openModal = () => setOpen(true)\r\n    const closeModal = (e) => {\r\n        if (\r\n            !!e &&\r\n            e.type !== 'click' &&\r\n            e.type !== 'keydown' &&\r\n            e.key !== 'Escape'\r\n        ) {\r\n            return false\r\n        }\r\n        console.trace('close')\r\n        setOpen(false)\r\n    }\r\n    return (\r\n        <>\r\n            <Panel className=\"tailwind\">\r\n                <PanelBody>\r\n                    <div>123</div>\r\n                </PanelBody>\r\n            </Panel>\r\n            <Panel>\r\n                <PanelBody title=\"Selector\" initialOpen={true}>\r\n                    <PanelRow>My Panel Inputs and Labels</PanelRow>\r\n                    <Button variant=\"secondary\" onClick={openModal}>\r\n                        Open Modal\r\n                    </Button>\r\n                </PanelBody>\r\n            </Panel>\r\n            {isOpen && (\r\n                <Modal\r\n                    title=\"Bible verse selector\"\r\n                    overlayClassName=\"tailwind\"\r\n                    className=\"[&>div.components-modal\\_\\_content]:pt-0 [&>div.components-modal\\_\\_content]:px-0 [&>div.components-modal\\_\\_content]:pb-0\"\r\n                    onRequestClose={closeModal}\r\n                    size=\"large\"\r\n                    __experimentalHideHeader={true}\r\n                >\r\n                    <ReactShadowRoot>\r\n                        <Provider\r\n                            store={\r\n                                new Store({\r\n                                    general: {\r\n                                        routerMode: 'memory',\r\n                                        layoutAllocationMode: 'split',\r\n                                        footerSwitch: {\r\n                                            main: {\r\n                                                confirmSelection: true,\r\n                                            },\r\n                                        },\r\n                                    },\r\n                                })\r\n                            }\r\n                        >\r\n                            <BibleSelector />\r\n                        </Provider>\r\n                    </ReactShadowRoot>\r\n                </Modal>\r\n            )}\r\n        </>\r\n    )\r\n}\r\n","/**\r\n * 將相同的書、章的字串縮短\r\n * @param array queryString\r\n * @returns string\r\n */\r\nexport const queryStringModifier = (queryString = []) => {\r\n    if (!queryString || !Array.isArray(queryString) || queryString.length === 0) {\r\n        return ['聖經目錄']\r\n    }\r\n    if (queryString.length < 2) {\r\n        return ['']\r\n    }\r\n    const rangeFrom = queryString[0]\r\n    const rangeTo = queryString[1] ? queryString[1] : queryString[0]\r\n    const isSameBook = rangeFrom.book.name === rangeTo.book.name\r\n    const isSameChapter = rangeFrom.chapter === rangeTo.chapter\r\n    let returnQueryString = [\r\n        `${rangeFrom.book.name} ${rangeFrom.chapter}:${rangeFrom.verse}`,\r\n    ]\r\n    if (!!rangeTo && !!rangeTo.book && rangeTo.chapter && rangeTo.verse) {\r\n        returnQueryString[0] += `-${isSameBook ? '' : rangeTo.book.name + ' '}${isSameChapter ? '' : rangeTo.chapter + ':'\r\n            }${rangeTo.verse}`\r\n    }\r\n    return returnQueryString\r\n}\r\n\r\nexport const retrieveLogosSignedToken = (sessionStorageApi) => {\r\n    try {\r\n        return sessionStorageApi.getItem('logos.token')\r\n    } catch (e) {\r\n        return ''\r\n    }\r\n}\r\n\r\nexport const setLogosSignedToken = (sessionStorageApi, token) => {\r\n    try {\r\n        sessionStorageApi.setItem('logos.token', token)\r\n    } catch (e) {\r\n        return false\r\n    }\r\n    return true\r\n}\r\n\r\nexport const removeLogosSignedToken = (sessionStorageApi) => {\r\n    try {\r\n        sessionStorageApi.removeItem('logos.token')\r\n    } catch (e) {\r\n        return false\r\n    }\r\n    return true\r\n}\r\n\r\nexport const capitalizeFirstLetter = (string) => {\r\n    return string.charAt(0).toUpperCase() + string.slice(1)\r\n}\r\n\r\nexport const localDateTime = (moment, value, timeZone = 0) => {\r\n    if (\r\n        !moment ||\r\n        typeof moment !== 'function' ||\r\n        Object.prototype.hasOwnProperty.call(moment, 'utcOffset') ||\r\n        Object.prototype.hasOwnProperty.call(moment, 'format')\r\n    ) {\r\n        return value\r\n    }\r\n    return moment(value).utcOffset(timeZone).format('YYYY/MM/DD hh:mm:ss')\r\n}\r\nexport const retrieveFontSize = (size) => {\r\n    const sizeMap = {\r\n        sm: 'text-14px',\r\n        md: 'text-16px',\r\n        lg: 'text-18px',\r\n    }\r\n    if (typeof sizeMap[size] === 'undefined') {\r\n        return 'text-16px'\r\n    }\r\n    return sizeMap[size]\r\n}\r\nexport const retrieveResponseFromRTK = (response) => {\r\n    let code = ''\r\n    let label = ''\r\n    let message = 'There has been a critical error.'\r\n    if (response) {\r\n        console.log('response')\r\n    }\r\n    return {\r\n        code,\r\n        label,\r\n        message,\r\n    }\r\n}\r\nexport const isJsonStr = (str) => {\r\n    try {\r\n        JSON.parse(str)\r\n    } catch (e) {\r\n        return false\r\n    }\r\n    return true\r\n}\r\n\r\nexport const converterFilter = (raws, chapterNumber) => {\r\n    return raws.filter((raw) => raw.chapter === chapterNumber)\r\n}","import { __ } from '@wordpress/i18n'\r\n\r\nimport RHEMA_LOCALIZE from 'RHEMA_LOCALIZE'\r\n\r\nexport const ACTIVATING_COUNT_DOWN_TIME = 4000\r\nexport const IDENTITY_TYPE = 'domain'\r\nexport const { RHEMA_CONSTANTS } = RHEMA_LOCALIZE\r\nexport const PRODUCT_SLUG_NAMES = {\r\n    DONATE: 'donate-for-txipartners', ...RHEMA_CONSTANTS.FEATURE_SLUG_NAMES\r\n}\r\nexport const PRODUCT_SLUG_2_REST_NAME_MAP = Object.keys(RHEMA_CONSTANTS.FEATURE_SLUG_NAMES).reduce((obj, key) => {\r\n    if (obj.hasOwnProperty(key)) {\r\n        return obj\r\n    }\r\n    const slug = RHEMA_CONSTANTS.FEATURE_SLUG_NAMES[key]\r\n    const restName = RHEMA_CONSTANTS.FEATURE_NAMES[key]\r\n    obj[slug] = restName\r\n    return obj\r\n}, {})\r\nexport const PRODUCT_SLUGS = Object.values(PRODUCT_SLUG_NAMES)\r\nexport const ERROR_MESSAGE_MAPPING = {\r\n    rest_cookie_invalid_nonce: __(\r\n        `error/page-is-expired`,\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n}\r\nexport const UI_MESSAGE_MAPPING = {\r\n    'bible-entry-path': __(\r\n        'bible-entry-path',\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n    'default-translation': __(\r\n        'default-translation',\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n    'default-translation/default': __(\r\n        'default-translation/default',\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n    'features/description/core': __(`Rhema core function: read and query the whole Bible`, RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT),\r\n    'features/description/download2host': __(`Download the bible to your own host, no need to obtain data from a third-party server to increase the speed of Bible query`, RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT),\r\n    'features/description/relation': __(`Automatically correlate related posts with verses, bible verse insertion tool`, RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT),\r\n    'features/description/offline': __(`Support PWA, so that the Bible of the website can be read offline on mobile phones`, RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT),\r\n    'features/status': __(`features/status`, RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT),\r\n    'features/comming-soon': __(\r\n        `features/comming-soon`,\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n    'features/active': __(`features/active`, RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT),\r\n    'features/license': __(\r\n        `features/license`,\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n    'my-account/signin-logos': __(\r\n        `my-account/signin-logos`,\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n    'my-account/description': __(\r\n        `If you have lost your License Key, you can log in here to check all the License Keys you have obtained in the past.`,\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n    'my-account/forgot-password': __(\r\n        `my-account/forgot-password`,\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n    'my-account/forgot-password-description': __(\r\n        `my-account/forgot-password-description`,\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n    'my-account/verify-email': __(\r\n        `my-account/verify-email`,\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n    'my-account/verify-email-description': __(\r\n        `Send the verification letter to your mailbox, copy the startup code and paste it to the field below`,\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n    'my-account/back-to-signin': __(\r\n        `my-account/back-to-signin`,\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n    'my-account/signin': __(\r\n        `my-account/signin`,\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n    'my-account/signing': __(\r\n        `my-account/signing`,\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n    'my-account/send-verify-email': __(\r\n        `my-account/send-verify-email`,\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n    'my-account/sending-verify-email': __(\r\n        `my-account/sending-verify-email`,\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n    'my-account/sent-verify-email': __(\r\n        `my-account/sent-verify-email`,\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n    'my-account/submit-verify-email': __(\r\n        `my-account/submit-verify-email`,\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n    'my-account/submitting-verify-email': __(\r\n        `my-account/submitting-verify-email`,\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n    'my-account/send-forgot-password': __(\r\n        `my-account/send-forgot-password`,\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n    'my-account/sending-forgot-password': __(\r\n        `my-account/sending-forgot-password`,\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n    'my-account/sent-forgot-password': __(\r\n        `my-account/sent-forgot-password`,\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n    'my-account/have-authorization-code': __(\r\n        `my-account/have-authorization-code`,\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n    'my-account/submit-forgot-password': __(\r\n        `my-account/submit-forgot-password`,\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n    'my-account/submitting-forgot-password': __(\r\n        `my-account/submitting-forgot-password`,\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n    'my-account/welcome': __(\r\n        `Welcome to Logos. You can check your information related to Logos here after logging in.`,\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n    'about/paragraph-1': __(\r\n        `Rhema is a WordPress plugin developed and operated by Muchshar on behalf of EON Center. Its purpose is to provide digital Bible services to churches, increasing the exposure of church websites when searching for Bible-related content. It offers church members the ability to search for and access teachings and sermons related to specific Bible verses, serving as a tool for spreading the gospel and providing pastoral care.`,\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n    'about/paragraph-2': __(\r\n        `If you are willing to support our ministry, please consider making a donation to us.`,\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n    'about/title/service-policy': __(\r\n        `Service Policy`,\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n    'about/service-policy/update-maintenance': __(\r\n        `Feature Updates and Maintenance: We will regularly update and maintain the plugin to ensure its compatibility with the latest version of WordPress and continue to improve and add new features. We strive to address known issues and vulnerabilities promptly by providing patches and fixes. If you encounter any problems or discover any vulnerabilities, please visit %s to report your issues.`,\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n    'about/service-policy/rights-reserved': __(\r\n        `Rights Reserved: Muchshar Ltd. reserves the right to determine whether you are allowed to use this plugin.`,\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n    'about/link/donation-1': __(\r\n        `Taiwan Donation Link`,\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n    'about/link/donation-2': __(\r\n        `Overseas Donation Link`,\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n\r\n    'bible-directory': __(`bible-directory`, RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT),\r\n    'bible-directory/old-testament': __(\r\n        `bible-directory/old-testament`,\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n    'bible-directory/new-testament': __(\r\n        `bible-directory/new-testament`,\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n    'bible-directory/book': __(\r\n        `bible-directory/book`,\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n    'bible-directory/chapter': __(\r\n        `bible-directory/chapter`,\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n    'bible-directory/verse': __(\r\n        `bible-directory/verse`,\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n    'selected-verses': __(`Selected Verses`, RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT),\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\n\r\nimport { UI_MESSAGE_MAPPING } from '@components/constants'\r\nimport { LinkVerse } from '@assets/js/frontend/components'\r\nimport { clickBookSelector } from '@assets/js/frontend/states/generalSlice'\r\nimport { onClickVerse } from '@assets/js/frontend/utilities'\r\n\r\nconst Block = ({\r\n    onClick,\r\n    className: extraClassName = '',\r\n    title,\r\n    desc,\r\n    selected,\r\n    size = 'medium',\r\n    children,\r\n}) => {\r\n    const hasTitle = !!title && typeof title === 'string' && title.length > 0\r\n    const hasDesc = !!desc && typeof desc === 'string' && desc.length > 0\r\n    const sizeIsVaild = ['small', 'medium', 'large'].some(\r\n        (correctlySize) => correctlySize === size\r\n    )\r\n    if (!sizeIsVaild) {\r\n        throw new Error('Component `Block` size of param are invaild.')\r\n    }\r\n    const Title = hasTitle ? (\r\n        <span\r\n            className={`block w-full px-3 font-medium text-gray-900 group-hover:text-rose-600 ${\r\n                selected ? 'text-rose-600' : ''\r\n            }`}\r\n        >\r\n            {title}\r\n        </span>\r\n    ) : null\r\n    const Desc = hasDesc ? (\r\n        <small\r\n            className={`px-3 text-gray-600 group-hover:text-rose-600 group-selected:text-rose-600 ${\r\n                selected ? 'text-rose-600' : ''\r\n            }`}\r\n        >\r\n            {desc}\r\n        </small>\r\n    ) : null\r\n    const classNames = [\r\n        'border',\r\n        'bg-white',\r\n        'flex',\r\n        'flex-wrap',\r\n        'items-center',\r\n        ...(size === 'small'\r\n            ? [\r\n                  'w-1/6',\r\n                  'xs:min-w-1/8',\r\n                  'xs:w-1/8',\r\n                  'md:min-w-1/12',\r\n                  'md:w-1/12',\r\n                  'lg:min-w-[40px]',\r\n                  'lg:min-w-1/24',\r\n                  'lg:w-1/24',\r\n                  'every-6:border-r-0',\r\n                  'xs:every-6:border-r',\r\n                  'only-xs:every-8:border-r',\r\n                  'only-md:every-12:border-r',\r\n                  'only-lg:every-24:border-r',\r\n              ]\r\n            : []),\r\n        ...(size === 'medium'\r\n            ? [\r\n                  'w-1/4',\r\n                  'xs:min-w-1/6',\r\n                  'xs:w-1/6',\r\n                  'md:min-w-1/8',\r\n                  'md:w-1/8',\r\n                  'lg:min-w-1/12',\r\n                  'lg:w-1/12',\r\n                  'every-4:border-r-0',\r\n                  'xs:every-4:border-r',\r\n                  'only-xs:every-6:border-r',\r\n                  'only-md:every-8:border-r',\r\n                  'only-lg:every-12:border-r',\r\n              ]\r\n            : []),\r\n        'border-t-0',\r\n        'border-l-0',\r\n        'aspect-square',\r\n        'content-center',\r\n        'group',\r\n        'hover:bg-gray-100',\r\n        'cursor-pointer',\r\n        selected ? 'bg-gray-100' : '',\r\n        ...extraClassName.split(' '),\r\n    ].join(' ')\r\n    return (\r\n        <li className={classNames} onClick={onClick}>\r\n            {children ? children : Title}\r\n            {children ? null : Desc}\r\n        </li>\r\n    )\r\n}\r\n\r\nBlock.propTypes = {\r\n    onClick: PropTypes.func,\r\n    className: PropTypes.string,\r\n    title: PropTypes.string,\r\n    desc: PropTypes.string,\r\n    selected: PropTypes.bool,\r\n    size: PropTypes.string,\r\n    children: PropTypes.oneOfType([\r\n        PropTypes.element,\r\n        PropTypes.arrayOf(PropTypes.element),\r\n    ]),\r\n}\r\n\r\nconst BlockWrap = ({ className: extraClassname = '', children }) => {\r\n    return (\r\n        <ul className={['flex flex-auto flex-wrap', extraClassname].join(' ')}>\r\n            {children}\r\n        </ul>\r\n    )\r\n}\r\n\r\nBlockWrap.propTypes = {\r\n    className: PropTypes.string,\r\n    children: PropTypes.oneOfType([\r\n        PropTypes.element,\r\n        PropTypes.arrayOf(PropTypes.element),\r\n    ]),\r\n}\r\n\r\nconst Container = ({ className: extraClassname = '', toggle, children }) => {\r\n    const classNames = [\r\n        toggle ? 'flex' : 'hidden',\r\n        'flex-wrap',\r\n        ...extraClassname.split(' '),\r\n    ].join(' ')\r\n    return <div className={classNames}>{children}</div>\r\n}\r\n\r\nContainer.propTypes = {\r\n    className: PropTypes.string,\r\n    toggle: PropTypes.bool,\r\n    children: PropTypes.oneOfType([\r\n        PropTypes.element,\r\n        PropTypes.arrayOf(PropTypes.element),\r\n    ]),\r\n}\r\n\r\nconst List = () => {\r\n    const showBooksSelector = useSelector(\r\n        (state) => state.general.headersSwitch.books\r\n    )\r\n    const booksDataSelector = useSelector((state) => state.data.books)\r\n    const classNames = [\r\n        ...(showBooksSelector ? ['flex'] : ['hidden']),\r\n        'flex-auto',\r\n        'bg-white',\r\n        'overflow-y-auto',\r\n    ].join(' ')\r\n    return (\r\n        <div className={classNames}>\r\n            <Books {...{ booksData: booksDataSelector }} />\r\n            <Chapters />\r\n            <Verses />\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Books = ({ booksData }) => {\r\n    const dispatch = useDispatch()\r\n    const toggleBooks = useSelector(\r\n        (state) => state.general.booksSelector.books\r\n    )\r\n    const booksDataSelector = useSelector((state) => [\r\n        ...state.data.books.old,\r\n        ...state.data.books.new,\r\n    ])\r\n    const currentQueryString = useSelector((state) => state.data.readingQuerys)\r\n    const currentSelectionSelector = useSelector(\r\n        (state) => state.general.currentSelection\r\n    )\r\n    const onClickBlock = function (bookIndex) {\r\n        console.log(bookIndex)\r\n        dispatch(\r\n            clickBookSelector({\r\n                books: booksDataSelector.filter((book) => {\r\n                    return book.index === bookIndex\r\n                })[0],\r\n            })\r\n        )\r\n    }\r\n    return (\r\n        <Container toggle={toggleBooks}>\r\n            <div className=\"w-full text-sm p-3 bg-gray-200 text-gray-500\">\r\n                {UI_MESSAGE_MAPPING[`bible-directory/old-testament`]}\r\n            </div>\r\n            <BlockWrap className=\"bg-gray-200\">\r\n                {booksData.old.map(({ abbr, name, index }, idx) => {\r\n                    const isSomeInCurrentQuery =\r\n                        currentQueryString.filter(\r\n                            (query) => query.book.name === name\r\n                        )[0] || false\r\n                    const isCurrentSelection =\r\n                        currentSelectionSelector.books.index === index\r\n                    const classNames = [\r\n                        isSomeInCurrentQuery ? 'bg-gray-100' : '',\r\n                    ]\r\n                    return (\r\n                        <Block\r\n                            className={classNames.join(' ')}\r\n                            onClick={onClickBlock.bind(this, index)}\r\n                            key={idx}\r\n                            {...{\r\n                                title: abbr,\r\n                                desc: name,\r\n                                selected: isCurrentSelection,\r\n                            }}\r\n                        />\r\n                    )\r\n                })}\r\n            </BlockWrap>\r\n            <div className=\"w-full text-sm p-3 bg-gray-200 text-gray-500\">\r\n                {UI_MESSAGE_MAPPING[`bible-directory/new-testament`]}\r\n            </div>\r\n            <BlockWrap className=\"bg-gray-200\">\r\n                {booksData.new.map(({ abbr, name, index }, idx) => {\r\n                    const isSomeInCurrentQuery = currentQueryString.filter(\r\n                        (query) => query.book.name === name\r\n                    )[0]\r\n                    const isCurrentSelection =\r\n                        currentSelectionSelector.books.index === index\r\n                    const classNames = [\r\n                        isSomeInCurrentQuery ? 'bg-gray-100' : '',\r\n                    ]\r\n                    return (\r\n                        <Block\r\n                            className={classNames.join(' ')}\r\n                            onClick={onClickBlock.bind(this, index)}\r\n                            key={idx}\r\n                            {...{\r\n                                title: abbr,\r\n                                desc: name,\r\n                                selected: isCurrentSelection,\r\n                            }}\r\n                        />\r\n                    )\r\n                })}\r\n            </BlockWrap>\r\n        </Container>\r\n    )\r\n}\r\n\r\nBooks.propTypes = {\r\n    booksData: PropTypes.object,\r\n}\r\n\r\nconst Chapters = () => {\r\n    const dispatch = useDispatch()\r\n    const toggleChapters = useSelector(\r\n        (state) => state.general.booksSelector.chapters\r\n    )\r\n    const currentQueryString = useSelector((state) => state.data.readingQuerys)\r\n    const chapterVerseInfo = useSelector(\r\n        (state) => state.data.translation.info.chapterVerseInfo\r\n    )\r\n    const currentSelectionBookIndex = useSelector(\r\n        (state) => state.general.currentSelection.books.index\r\n    )\r\n    const currentSelectionChapter = useSelector(\r\n        (state) => state.general.currentSelection.chapters\r\n    )\r\n    const currentQueryBookIndexs = Object.keys(chapterVerseInfo).filter(\r\n        (bookIndex) =>\r\n            currentQueryString.some(\r\n                (query) => query.book.index === Number(bookIndex)\r\n            )\r\n    )\r\n    const currentQueryChapters = currentQueryBookIndexs.map((bookIndex) =>\r\n        Object.keys(chapterVerseInfo[bookIndex])\r\n    )\r\n    const currentSelectionChapters = currentSelectionBookIndex\r\n        ? [Object.keys(chapterVerseInfo[currentSelectionBookIndex])]\r\n        : null\r\n    const displayChapters = currentSelectionChapters\r\n        ? currentSelectionChapters\r\n        : currentQueryChapters\r\n    const onClickBlock = function (number) {\r\n        dispatch(\r\n            clickBookSelector({\r\n                chapters: Number(number),\r\n            })\r\n        )\r\n    }\r\n    return (\r\n        <Container className=\"w-full\" toggle={toggleChapters}>\r\n            {displayChapters.map((chapterNumber, idx) => {\r\n                return (\r\n                    <BlockWrap key={idx} className=\"items-start content-start\">\r\n                        {chapterNumber.map((number, idx) => {\r\n                            const isSomeInCurrentQuery =\r\n                                currentQueryString.filter((query) =>\r\n                                    currentSelectionBookIndex\r\n                                        ? Number(query.book.index) ===\r\n                                              Number(\r\n                                                  currentSelectionBookIndex\r\n                                              ) &&\r\n                                          Number(query.chapter) ===\r\n                                              Number(number)\r\n                                        : Number(query.chapter) ===\r\n                                          Number(number)\r\n                                )[0] || false\r\n                            const isCurrentSelection =\r\n                                currentSelectionChapter === Number(number)\r\n                            const classNames = ['text-center']\r\n                            if (isSomeInCurrentQuery) {\r\n                                classNames.push('bg-gray-100')\r\n                            }\r\n                            return (\r\n                                <Block\r\n                                    onClick={onClickBlock.bind(this, number)}\r\n                                    className={classNames.join(' ')}\r\n                                    size=\"small\"\r\n                                    key={idx}\r\n                                    {...{\r\n                                        title: number.toString(),\r\n                                        selected: isCurrentSelection,\r\n                                    }}\r\n                                />\r\n                            )\r\n                        })}\r\n                    </BlockWrap>\r\n                )\r\n            })}\r\n        </Container>\r\n    )\r\n}\r\n\r\nconst Verses = () => {\r\n    const toggleVerses = useSelector(\r\n        (state) => state.general.booksSelector.verses\r\n    )\r\n    const currentQueryString = useSelector((state) => state.data.readingQuerys)\r\n    const chapterVerseInfo = useSelector(\r\n        (state) => state.data.translation.info.chapterVerseInfo\r\n    )\r\n    const currentSelectionBooks = useSelector(\r\n        (state) => state.general.currentSelection.books\r\n    )\r\n    const currentSelectionBookIndex = currentSelectionBooks.index\r\n    const currentSelectionChapter = useSelector(\r\n        (state) => state.general.currentSelection.chapters\r\n    )\r\n    const isSameQueryBookChapter = currentQueryString.every(\r\n        (query, index, arr) =>\r\n            arr.every(\r\n                (arrQuery) =>\r\n                    arrQuery.book.index === query.book.index &&\r\n                    arrQuery.chapter === query.chapter\r\n            )\r\n    )\r\n    const currentQueryChapterVerseInfo =\r\n        currentQueryString.length > 0\r\n            ? isSameQueryBookChapter\r\n                ? {\r\n                      [currentQueryString[0]?.chapter]:\r\n                          chapterVerseInfo[currentQueryString[0]?.book.index][\r\n                              currentQueryString[0]?.chapter\r\n                          ],\r\n                  }\r\n                : currentQueryString.reduce(\r\n                      (accumulator, query, currentIndex, currentArray) => {\r\n                          const currentQueryBook = currentArray[0].book\r\n                          const currentQueryChapter = query.chapter\r\n                          const chapterMaxVerse =\r\n                              chapterVerseInfo[currentQueryBook.index][\r\n                                  query.chapter\r\n                              ]\r\n                          accumulator[currentQueryChapter] = chapterMaxVerse\r\n                          return accumulator\r\n                      },\r\n                      {}\r\n                  )\r\n            : {}\r\n    const displayBooksIndex = currentSelectionBookIndex\r\n        ? currentSelectionBookIndex\r\n        : currentQueryString.length > 0\r\n        ? currentQueryString[0].book.index\r\n        : 0\r\n    const displayChapterVerseInfo = currentSelectionChapter\r\n        ? {\r\n              [currentSelectionChapter]:\r\n                  chapterVerseInfo[\r\n                      currentSelectionBookIndex\r\n                          ? currentSelectionBookIndex\r\n                          : currentQueryString[0].book.index\r\n                  ][currentSelectionChapter],\r\n          }\r\n        : currentQueryChapterVerseInfo\r\n    const isQueryAndSelectionSame = currentQueryString.some(\r\n        (query) =>\r\n            query.book.index === currentSelectionBookIndex &&\r\n            Number(query.chapter) === currentSelectionChapter\r\n    )\r\n    return (\r\n        <Container className=\"w-full\" toggle={toggleVerses}>\r\n            {Object.keys(displayChapterVerseInfo).map(\r\n                (chapter, index, arrData) => {\r\n                    const maxVerse =\r\n                        chapterVerseInfo[displayBooksIndex][chapter]\r\n                    const verses = new Array(maxVerse)\r\n                        .fill(0)\r\n                        .map((ele, index) => index + 1)\r\n                    return (\r\n                        <div key={index} className=\"w-full\">\r\n                            {arrData.length > 1 ? (\r\n                                <div className=\"w-full text-sm p-3 bg-gray-200 text-gray-500\">\r\n                                    {chapter}\r\n                                </div>\r\n                            ) : null}\r\n                            <BlockWrap className=\"items-start content-start\">\r\n                                {verses.map((number, idx) => {\r\n                                    let isSomeInCurrentQuery = false\r\n                                    if (\r\n                                        Array.isArray(currentQueryString) &&\r\n                                        currentQueryString.length > 0\r\n                                    ) {\r\n                                        const literalIntegral =\r\n                                            Number(chapter) * 100 + number\r\n                                        const fromIntegral =\r\n                                            Number(\r\n                                                currentQueryString[0].chapter\r\n                                            ) *\r\n                                                100 +\r\n                                            Number(currentQueryString[0].verse)\r\n                                        const toIntegral =\r\n                                            Number(\r\n                                                currentQueryString[1].chapter\r\n                                            ) *\r\n                                                100 +\r\n                                            Number(currentQueryString[1].verse)\r\n                                        isSomeInCurrentQuery =\r\n                                            isQueryAndSelectionSame &&\r\n                                            literalIntegral >= fromIntegral &&\r\n                                            literalIntegral <= toIntegral\r\n                                    }\r\n                                    const classNames = ['text-center']\r\n                                    if (isSomeInCurrentQuery) {\r\n                                        classNames.push('bg-gray-100')\r\n                                    }\r\n                                    return (\r\n                                        <Block\r\n                                            className={classNames.join(' ')}\r\n                                            size=\"small\"\r\n                                            key={idx}\r\n                                            {...{ title: number.toString() }}\r\n                                        >\r\n                                            <LinkVerse\r\n                                                onClick={onClickVerse.bind(\r\n                                                    this,\r\n                                                    {\r\n                                                        book: currentSelectionBookIndex,\r\n                                                        chapter:\r\n                                                            currentSelectionChapter,\r\n                                                        verse: number,\r\n                                                        maxVerseNumberOfChapter:\r\n                                                            maxVerse,\r\n                                                    }\r\n                                                )}\r\n                                                book={displayBooksIndex}\r\n                                                chapter={Number(chapter)}\r\n                                                number={number}\r\n                                            />\r\n                                        </Block>\r\n                                    )\r\n                                })}\r\n                            </BlockWrap>\r\n                        </div>\r\n                    )\r\n                }\r\n            )}\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport { List, onClickVerse }\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Link } from 'react-router-dom'\r\nimport { useSelector } from 'react-redux'\r\nimport Ripples from 'react-ripples'\r\nimport Highlighter from 'react-highlight-words'\r\n\r\nimport { generateVerseUrl } from '@assets/js/frontend/utilities'\r\n\r\nexport const Button = ({ onClick, children }) => {\r\n    return (\r\n        <Ripples\r\n            {...{\r\n                ...(onClick && { onClick }),\r\n            }}\r\n        >\r\n            <div className=\"flex cursor-pointer items-center leading-18px text-base md:text-lg md:leading-22px justify-center overflow-hidden bg-white border border-gray-300 rounded-sm w-72px md:w-80px py-5px md:py-8px\">\r\n                {children}\r\n            </div>\r\n        </Ripples>\r\n    )\r\n}\r\n\r\nexport const KeywordLabel = ({ className, onClick, children }) => {\r\n    const classNames = [\r\n        'p-2',\r\n        'bg-zinc-200',\r\n        'inline-block',\r\n        'text-sm',\r\n        className,\r\n    ].join(' ')\r\n    return (\r\n        <span\r\n            className={classNames}\r\n            {...{\r\n                ...(onClick ? { onClick } : {}),\r\n            }}\r\n        >\r\n            {children}\r\n        </span>\r\n    )\r\n}\r\n\r\nexport const StringLabel = ({ className, children }) => {\r\n    const classNames = ['inline-block', 'text-sm', className].join(' ')\r\n    return <span className={classNames}>{children}</span>\r\n}\r\n\r\nexport const DrawerTitle = ({ children }) => {\r\n    return <h3>{children}</h3>\r\n}\r\n\r\nexport const LinkVerse = ({ book, chapter, number, onClick }) => {\r\n    const booksData = useSelector((state) => [\r\n        ...state.data.books.old,\r\n        ...state.data.books.new,\r\n    ])\r\n    const slug = booksData[book - 1].slug\r\n    return (\r\n        <Link\r\n            onClick={onClick}\r\n            className={`flex w-full h-full justify-center items-center px-3 font-medium text-gray-900 group-hover:text-rose-600`}\r\n            to={generateVerseUrl(slug, chapter, number)}\r\n        >\r\n            {number.toString()}\r\n        </Link>\r\n    )\r\n}\r\n\r\nLinkVerse.propTypes = {\r\n    book: PropTypes.number,\r\n    chapter: PropTypes.number,\r\n    number: PropTypes.number,\r\n}\r\n\r\nexport const Line = ({\r\n    bookAbbr,\r\n    chapterNum,\r\n    verseNum,\r\n    className,\r\n    onClick,\r\n    children,\r\n}) => {\r\n    const booksDataSelector = useSelector((state) => [\r\n        ...state.data.books.old,\r\n        ...state.data.books.new,\r\n    ])\r\n    const currentKeywords = useSelector(\r\n        (state) => state.general.search.keywords.current\r\n    )\r\n\r\n    const classNames = [\r\n        'flex',\r\n        'cursor-pointer',\r\n        'before:whitespace-nowrap',\r\n        'before:p-3px',\r\n        'before:mt-5px',\r\n        'before:content-[attr(data-book-abbr)_\"_\"attr(data-chapter-num)\":\"_attr(data-verse-num)]',\r\n        'before:text-12px',\r\n        'before:inline-flex',\r\n        'before:items-start',\r\n        'before:justify-center',\r\n        'before:text-center',\r\n        'before:align-text-top',\r\n        'before:text-gray-400',\r\n        'before:leading-none',\r\n        'before:decoration-sky-500',\r\n        className,\r\n    ].join(' ')\r\n\r\n    const bookAbbrString = booksDataSelector[bookAbbr - 1].abbr\r\n    return (\r\n        <span\r\n            {...(onClick ? { onClick } : {})}\r\n            {...(bookAbbr\r\n                ? {\r\n                      'data-book-abbr': bookAbbrString,\r\n                  }\r\n                : {})}\r\n            {...(chapterNum\r\n                ? {\r\n                      'data-chapter-num': chapterNum,\r\n                  }\r\n                : {})}\r\n            {...(verseNum\r\n                ? {\r\n                      'data-verse-num': verseNum,\r\n                  }\r\n                : {})}\r\n            className={classNames}\r\n        >\r\n            <Highlighter\r\n                highlightClassName=\"text-rose-600\"\r\n                searchWords={currentKeywords.split(' ')}\r\n                autoEscape={true}\r\n                textToHighlight={children}\r\n            />\r\n        </span>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { max } from 'lodash'\r\nimport { Button } from '@wordpress/components'\r\nimport { FiChevronLeft, FiChevronRight } from 'react-icons/fi'\r\n\r\nimport * as Layout from '@components/frontend/layouts'\r\nimport * as Tools from '@components/frontend/tools'\r\nimport {\r\n    onSwipMoveChapterPage,\r\n    onCompletedSwipMoveChapter,\r\n    generateVerseUrl,\r\n} from '@components/frontend/utilities'\r\n\r\nconst Main = ({ className }) => {\r\n    const stateData = useSelector((state) => state.data)\r\n    const showConfirm = useSelector(\r\n        (state) => state.general.footerSwitch.main.confirmSelection\r\n    )\r\n    const { pagePos } = useSelector((state) => state.general.pageSwipper)\r\n    const { readingQuerys } = stateData\r\n    const { chapterVerseInfo } = stateData.translation?.info\r\n\r\n    const classNames = ['justify-between', className].join(' ')\r\n    const currentBookIndex = readingQuerys[0]?.book?.index\r\n    const chapterPaged = parseInt(readingQuerys[0].chapter)\r\n\r\n    const maxChapterNumberOfCurrentBook = max(\r\n        Object.keys(chapterVerseInfo[currentBookIndex]).map((num) =>\r\n            Number(num)\r\n        )\r\n    )\r\n\r\n    const onMoveFirstPage = onSwipMoveChapterPage.bind(this, chapterPaged, -1)\r\n    const onMoveLastPage = onSwipMoveChapterPage.bind(this, chapterPaged, 1)\r\n\r\n    return (\r\n        <Layout.Top.Row className={classNames}>\r\n            <Layout.Top.LeftSide>\r\n                <Tools.Borderless\r\n                    label=\"Prev Chapter\"\r\n                    disabled={chapterPaged <= 1}\r\n                    onClick={() => {\r\n                        onMoveFirstPage()\r\n                        onCompletedSwipMoveChapter(\r\n                            {\r\n                                currentBookIndex,\r\n                                chapterPaged,\r\n                                readingQuerys,\r\n                            },\r\n                            -1,\r\n                            pagePos,\r\n                            true\r\n                        )\r\n                    }}\r\n                >\r\n                    <FiChevronLeft\r\n                        {...{\r\n                            ...(chapterPaged <= 1 ? { color: '#6b7280' } : {}),\r\n                        }}\r\n                    />\r\n                </Tools.Borderless>\r\n                <Tools.Borderless\r\n                    label=\"Next Chapter\"\r\n                    disabled={chapterPaged >= maxChapterNumberOfCurrentBook}\r\n                    onClick={() => {\r\n                        onMoveLastPage()\r\n                        onCompletedSwipMoveChapter(\r\n                            {\r\n                                currentBookIndex,\r\n                                chapterPaged,\r\n                                readingQuerys,\r\n                            },\r\n                            1,\r\n                            pagePos,\r\n                            true\r\n                        )\r\n                    }}\r\n                >\r\n                    <FiChevronRight\r\n                        {...{\r\n                            ...(chapterPaged >= maxChapterNumberOfCurrentBook\r\n                                ? { color: '#6b7280' }\r\n                                : {}),\r\n                        }}\r\n                    />\r\n                </Tools.Borderless>\r\n            </Layout.Top.LeftSide>\r\n            <Layout.Top.RightSide>\r\n                {showConfirm ? (\r\n                    <Button variant=\"primary\">Confirm</Button>\r\n                ) : null}\r\n            </Layout.Top.RightSide>\r\n        </Layout.Top.Row>\r\n    )\r\n}\r\n\r\nexport { Main }\r\n","import React from 'react'\r\n\r\nconst Form = ({ onSubmit, children }) => {\r\n    return (\r\n        <form onSubmit={onSubmit} className=\"w-full flex flex-col\">\r\n            {children}\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default Form","import React, { useState } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { useForm } from 'react-hook-form'\r\nimport { useSelect, useMultipleSelection } from 'downshift'\r\nimport Ripples from 'react-ripples'\r\n\r\nimport { toggleDrawer } from '@assets/js/frontend/states/generalSlice'\r\nimport Form from '@components/frontend/forms/Form'\r\n\r\nconst FieldRow = ({ className: extraClassname = '', children }) => {\r\n    const classNames = [\r\n        'w-full',\r\n        'border-b',\r\n        ...extraClassname.split(' '),\r\n    ].join(' ')\r\n    return <div className={classNames}>{children}</div>\r\n}\r\n\r\nconst CategorySelector = ({ options }) => {\r\n    const [isOpen, setIsOpen] = useState(false)\r\n    const [highlightedIndex, setHighlightedIndex] = useState(false)\r\n    const {\r\n        getSelectedItemProps,\r\n        getDropdownProps,\r\n        addSelectedItem,\r\n        removeSelectedItem,\r\n        selectedItems,\r\n    } = useMultipleSelection({ initialSelectedItems: [options[0], options[1]] })\r\n\r\n    const getFilteredItems = (items) =>\r\n        items.filter((item) => selectedItems.indexOf(item) < 0)\r\n\r\n    return (\r\n        <div>\r\n            <div\r\n                onBlur={() => {\r\n                    setIsOpen(false)\r\n                }}\r\n                onClick={(e) => {\r\n                    e.preventDefault()\r\n                    setIsOpen(!isOpen)\r\n                }}\r\n                tabIndex=\"-1\"\r\n                className=\"flex flex-wrap items-center px-10px pb-3px\"\r\n            >\r\n                {selectedItems.map((selectedItem, index) => (\r\n                    <span\r\n                        key={`selected-item-${index}`}\r\n                        className=\"py-7px px-5px mr-5px leading-20px mt-3px bg-gray-200 rounded-md overflow-hidden\"\r\n                        {...getSelectedItemProps({\r\n                            selectedItem,\r\n                            index,\r\n                        })}\r\n                    >\r\n                        {selectedItem}\r\n                        <span\r\n                            onClick={(e) => {\r\n                                e.stopPropagation()\r\n                                removeSelectedItem(selectedItem)\r\n                            }}\r\n                            className=\"ml-3px\"\r\n                        >\r\n                            &#10005;\r\n                        </span>\r\n                    </span>\r\n                ))}\r\n                <div\r\n                    className=\"py-7px pt-10px leading-20px outline-1 outline-graborder-gray-400\"\r\n                    {...getDropdownProps({ preventKeyAction: isOpen })}\r\n                >\r\n                    請選擇所屬的分類\r\n                </div>\r\n            </div>\r\n            <ul\r\n                className={[\r\n                    ...(isOpen ? ['block'] : ['hidden']),\r\n                    'absolute left-0 right-0 bg-white shadow-md max-h-80 overflow-scroll w-inherit z-50',\r\n                ].join(' ')}\r\n            >\r\n                {getFilteredItems(options).map((item, index) => (\r\n                    <li\r\n                        style={\r\n                            highlightedIndex === index\r\n                                ? { backgroundColor: '#bde4ff' }\r\n                                : {}\r\n                        }\r\n                        className=\"p-10px leading-20px flex flex-col\"\r\n                        key={`${item}${index}`}\r\n                        onMouseDown={() => {\r\n                            addSelectedItem(getFilteredItems(options)[index])\r\n                        }}\r\n                    >\r\n                        {item}\r\n                    </li>\r\n                ))}\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Footer = ({ children }) => {\r\n    return (\r\n        <div className=\"flex flex-row justify-between px-12px py-3px\">\r\n            {children}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Posts = () => {\r\n    const {\r\n        register,\r\n        handleSubmit,\r\n        formState: { errors },\r\n    } = useForm()\r\n    const onSubmit = (data) => console.log(data)\r\n    const dispatch = useDispatch()\r\n\r\n    return (\r\n        <Form onSubmit={handleSubmit(onSubmit)}>\r\n            <FieldRow>\r\n                <input\r\n                    className=\"bg-transparent w-full px-10px outline-0 leading-40px\"\r\n                    placeholder=\"請輸入您的標題\"\r\n                    {...register('title', { required: true })}\r\n                />\r\n                {errors.title && <span>This field is required</span>}\r\n            </FieldRow>\r\n            <FieldRow>\r\n                <CategorySelector\r\n                    options={[\r\n                        'Category 1',\r\n                        'Category 2',\r\n                        'Category 3',\r\n                        'Category 4',\r\n                        'Category 5',\r\n                        'Category 6',\r\n                    ]}\r\n                />\r\n            </FieldRow>\r\n            <FieldRow className=\"flex-auto h-full\">\r\n                <textarea\r\n                    className=\"bg-transparent w-full h-full px-10px outline-0 leading-40px\"\r\n                    placeholder=\"請輸入您的內容\"\r\n                    {...register('content', { required: true })}\r\n                />\r\n            </FieldRow>\r\n            <Footer>\r\n                <Ripples>\r\n                    <button\r\n                        className=\"p-12px\"\r\n                        onClick={() =>\r\n                            dispatch(toggleDrawer({ name: 'new-post' }))\r\n                        }\r\n                    >\r\n                        取消\r\n                    </button>\r\n                </Ripples>\r\n                <Ripples>\r\n                    <button className=\"p-12px\">確認</button>\r\n                </Ripples>\r\n            </Footer>\r\n        </Form>\r\n    )\r\n}\r\n\r\nexport { Posts, Form }\r\n","import React from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { useForm } from 'react-hook-form'\r\nimport { joiResolver } from '@hookform/resolvers/joi'\r\nimport { BiChevronLeft, BiFontSize } from 'react-icons/bi'\r\n\r\nimport { UI_MESSAGE_MAPPING } from '@components/constants'\r\nimport * as FieldSchama from '@components/schema'\r\nimport { switchHeadersMain, changeFontSize, switchHeadersSearch, changeSearchPaged, inputSearchKeywords } from '@assets/js/frontend/states/generalSlice'\r\n\r\nimport { queryStringModifier } from '@assets/js/frontend/utilities'\r\nimport * as Layout from '@components/frontend/layouts'\r\nimport * as Tools from '@components/frontend/tools'\r\nimport * as Tabs from '@components/frontend/tabs'\r\nimport RHEMA_LOCALIZE from 'RHEMA_LOCALIZE'\r\n\r\nconst Main = ({ hideReadingTool = false }) => {\r\n    const dispatch = useDispatch()\r\n    const showMainHeader = useSelector((state) => state.general.headersSwitch.main)\r\n    const showSearchHeader = useSelector((state) => state.general.headersSwitch.search)\r\n    const queryString = useSelector((state) => state.data.readingQuerys)\r\n    const classNames = [\r\n        ...(showMainHeader || showSearchHeader ? ['flex'] : ['hidden']),\r\n        'ralative',\r\n        'py-11px',\r\n        'px-12px',\r\n        'md:py-10px',\r\n        'justify-between',\r\n    ].join(' ')\r\n\r\n    const searchFormMethods = useForm({\r\n        defaultValues: {\r\n            words: '',\r\n        },\r\n        resolver: joiResolver(FieldSchama.searchBibleRawsByKeyword),\r\n    })\r\n\r\n    const { register, formState, handleSubmit } = searchFormMethods\r\n    const { isSubmitting: isSearching, errors } = formState\r\n\r\n    const onSubmit = async (data) => {\r\n        console.log(data)\r\n        dispatch(inputSearchKeywords(data.words))\r\n        dispatch(changeSearchPaged(1))\r\n        dispatch(switchHeadersSearch())\r\n    }\r\n\r\n    const onClickFontSize = () => {\r\n        dispatch(changeFontSize())\r\n    }\r\n\r\n    return (\r\n        <Layout.Top.Row className={classNames}>\r\n            <Layout.Top.LeftSide>\r\n                {showMainHeader ? (\r\n                    <Tools.BooksSelectorButton range={queryStringModifier(queryString)} />\r\n                ) : (\r\n                    <Tools.Borderless onClick={() => dispatch(switchHeadersMain())}>\r\n                        <BiChevronLeft className=\"h-20px w-20px right-4px md:right-10px text-neutral-700\" />\r\n                    </Tools.Borderless>\r\n                )}\r\n            </Layout.Top.LeftSide>\r\n            <Layout.Top.RightSide>\r\n                <Tools.SearchBar\r\n                    expand={showSearchHeader}\r\n                    onSubmit={handleSubmit(onSubmit)}\r\n                    {...register('words', {\r\n                        required: true,\r\n                    })}\r\n                />\r\n                {hideReadingTool ? null : !showSearchHeader ? (\r\n                    <>\r\n                        <Tools.FullScreenToggle />\r\n                        <Tools.Borderless onClick={onClickFontSize}>\r\n                            <BiFontSize className=\"h-20px w-20px right-4px md:right-10px text-neutral-700\" />\r\n                        </Tools.Borderless>\r\n                        <Tools.Borderless onClick={() => dispatch(toggleDrawer({ name: 'relative-posts' }))}>\r\n                            <BsLayoutTextSidebarReverse className=\"h-20px w-20px right-4px md:right-10px text-neutral-700\" />\r\n                        </Tools.Borderless>\r\n                    </>\r\n                ) : null}\r\n            </Layout.Top.RightSide>\r\n        </Layout.Top.Row>\r\n    )\r\n}\r\nconst Books = () => {\r\n    const showBooksHeader = useSelector((state) => state.general.headersSwitch.books)\r\n    const classNames = [...(showBooksHeader ? ['flex'] : ['hidden']), 'w-full', 'items-center', 'flex-wrap'].join(' ')\r\n    const dispatch = useDispatch()\r\n    return (\r\n        <div className={classNames}>\r\n            <Layout.Top.Row className=\"items-center w-full py-11px px-12px md:py-10px justify-between\">\r\n                <Layout.Top.LeftSide>\r\n                    <Tools.Borderless onClick={() => dispatch(switchHeadersMain())}>\r\n                        <BiChevronLeft className=\"h-20px w-20px right-4px md:right-10px text-neutral-700\" />\r\n                    </Tools.Borderless>\r\n                </Layout.Top.LeftSide>\r\n                <Layout.Top.MiddleSide className=\"text-16px\">{UI_MESSAGE_MAPPING['bible-directory']}</Layout.Top.MiddleSide>\r\n                <Layout.Top.RightSide>\r\n                    <Tools.Bordered>和合本</Tools.Bordered>\r\n                </Layout.Top.RightSide>\r\n            </Layout.Top.Row>\r\n            <Tabs.BookTab />\r\n        </div>\r\n    )\r\n}\r\nconst Selection = () => {\r\n    const dispatch = useDispatch()\r\n    const showSelectionHeader = useSelector((state) => state.general.headersSwitch.selection)\r\n    const classNames = [...(showSelectionHeader ? ['flex'] : ['hidden']), 'w-full', 'items-center', 'flex-wrap'].join(' ')\r\n    return (\r\n        <div className={classNames}>\r\n            <Layout.Top.Row className=\"items-center w-full py-11px px-12px md:py-10px justify-between\">\r\n                <Layout.Top.LeftSide>\r\n                    <Tools.Borderless onClick={() => dispatch(switchHeadersMain())}>\r\n                        <BiChevronLeft className=\"h-20px w-20px right-4px md:right-10px text-neutral-700\" />\r\n                    </Tools.Borderless>\r\n                </Layout.Top.LeftSide>\r\n                <Layout.Top.MiddleSide>\r\n                    <Tools.CurrentRawsSelected />\r\n                </Layout.Top.MiddleSide>\r\n                <Layout.Top.RightSide></Layout.Top.RightSide>\r\n            </Layout.Top.Row>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport { Main, Books, Selection }\r\n","import React, { useMemo } from 'react'\r\nimport { useParams } from 'react-router-dom'\r\nimport { max } from 'lodash'\r\nimport Skeleton from 'react-loading-skeleton'\r\n\r\nimport * as Paragraph from '@components/frontend/paragraph'\r\nimport { Page } from '@assets/js/frontend/layouts'\r\nimport Content from '@assets/js/frontend/layouts/Content'\r\nimport {\r\n    onSwipMoveChapterPage,\r\n    onCompletedSwipMoveChapter,\r\n    retrieveBookIndexBySlug,\r\n} from '@components/frontend/utilities'\r\n\r\nconst BibleRaws = ({\r\n    currentSelection,\r\n    readingQuerys,\r\n    bookRaws,\r\n    chapterVerseInfo,\r\n    selectedRaws,\r\n}) => {\r\n    const chapterPaged = parseInt(readingQuerys[0].chapter)\r\n    let currentBookIndex = readingQuerys[0]?.book?.index\r\n    if (!currentBookIndex) {\r\n        const { books1: bookSlugOfParam } = useParams()\r\n        currentBookIndex = retrieveBookIndexBySlug(bookSlugOfParam)\r\n    }\r\n\r\n    if (!chapterVerseInfo) {\r\n        return null\r\n    }\r\n\r\n    const maxChapterNumberOfCurrentBook = max(\r\n        Object.keys(chapterVerseInfo[currentBookIndex]).map((num) =>\r\n            Number(num)\r\n        )\r\n    )\r\n\r\n    const prepareChaptersSlot = new Array(maxChapterNumberOfCurrentBook)\r\n        .fill(null)\r\n        .map((item, slotIdx) => {\r\n            const slotChapterNumber = slotIdx + 1\r\n            const fetchedChapterRaws = bookRaws.filter((raw) => {\r\n                return raw.chapter === slotChapterNumber\r\n            })\r\n            if (fetchedChapterRaws.length > 0) {\r\n                return fetchedChapterRaws\r\n            }\r\n            return {\r\n                maxVerseNumber:\r\n                    chapterVerseInfo[currentBookIndex][slotChapterNumber],\r\n                chapterNumber: slotChapterNumber,\r\n            }\r\n        })\r\n\r\n    const renderChapters = useMemo(() => {\r\n        let returnChapters = (\r\n            Array.isArray(prepareChaptersSlot)\r\n                ? prepareChaptersSlot\r\n                : [prepareChaptersSlot]\r\n        ).filter((chapter, idx) => {\r\n            const chapterPageNumber = idx + 1\r\n            const pagesCount = prepareChaptersSlot.length || 0\r\n            return (\r\n                chapterPageNumber === chapterPaged ||\r\n                chapterPageNumber ===\r\n                    chapterPaged + (pagesCount > chapterPaged ? 1 : 0) ||\r\n                chapterPageNumber === chapterPaged - (chapterPaged > 1 ? 1 : 0)\r\n            )\r\n        })\r\n        let middleChapterIndex = returnChapters.findIndex(\r\n            (raws) => Number(raws.chapter) === chapterPaged\r\n        )\r\n        return returnChapters.sort((a) => {\r\n            const chapterNumber = Array.isArray(a)\r\n                ? a[0]?.chapter\r\n                : a.chapterNumber\r\n            return chapterNumber >= middleChapterIndex ? 1 : -1\r\n        })\r\n    }, [bookRaws, chapterPaged])\r\n\r\n    return (\r\n        <Content\r\n            pagePosition={\r\n                chapterPaged === 1\r\n                    ? 'left'\r\n                    : chapterPaged > 1 &&\r\n                      chapterPaged < maxChapterNumberOfCurrentBook\r\n                    ? 'middle'\r\n                    : 'right'\r\n            }\r\n            currentBookMaxChapter={maxChapterNumberOfCurrentBook}\r\n            currentChapter={chapterPaged}\r\n            onMoveFirstPage={onSwipMoveChapterPage.bind(this, chapterPaged, -1)}\r\n            onMoveLastPage={onSwipMoveChapterPage.bind(this, chapterPaged, 1)}\r\n            onCompletedMove={onCompletedSwipMoveChapter.bind(this, {\r\n                currentBookIndex,\r\n                chapterPaged,\r\n                readingQuerys,\r\n            })}\r\n        >\r\n            {renderChapters.map((raws) => {\r\n                const pageIdx = raws?.chapterNumber || raws[0].chapter\r\n                const isWaitingLoading =\r\n                    raws.length === 0 || !Array.isArray || raws.maxVerseNumber\r\n                return (\r\n                    <Page key={pageIdx}>\r\n                        <Paragraph.Block>\r\n                            {isWaitingLoading ? (\r\n                                <Skeleton\r\n                                    inline={true}\r\n                                    count={raws.maxVerseNumber}\r\n                                />\r\n                            ) : (\r\n                                raws.map((raw) => {\r\n                                    const shouldPicked =\r\n                                        !!currentSelection &&\r\n                                        currentSelection?.chapters ===\r\n                                            raw.chapter &&\r\n                                        currentSelection?.verses === raw.verse\r\n                                    return (\r\n                                        <Paragraph.Line\r\n                                            picked={shouldPicked}\r\n                                            active={selectedRaws.some(\r\n                                                (selectedRaw) =>\r\n                                                    selectedRaw.id === raw.id\r\n                                            )}\r\n                                            id={raw.id}\r\n                                            key={raw.id}\r\n                                            verseNum={raw.verse}\r\n                                        >\r\n                                            {raw.text}\r\n                                        </Paragraph.Line>\r\n                                    )\r\n                                })\r\n                            )}\r\n                        </Paragraph.Block>\r\n                    </Page>\r\n                )\r\n            })}\r\n        </Content>\r\n    )\r\n}\r\n\r\nexport default BibleRaws\r\n","import React from 'react'\r\n\r\nconst Body = ({ showScroll, allocationMode, className, children }) => {\r\n    const classnames = [\r\n        'relative',\r\n        'flex-auto',\r\n        'overflow-x-hidden',\r\n        'bg-white',\r\n        ...(showScroll ? ['overflow-y-auto'] : ['overflow-y-hidden']),\r\n        ...(allocationMode === 'split' ? ['flex [&>div]:flex-1'] : []),\r\n        className,\r\n    ].join(' ')\r\n    return <div className={classnames}>{children}</div>\r\n}\r\n\r\nexport default Body\r\n","import React from 'react'\r\n\r\nconst Bottom = ({ className, children }) => {\r\n    const classNames = [\r\n        'flex sticky z-20 bottom-0 w-full py-11px px-12px md:py-10px text-12px md:text-14px bg-white border-t justify-end space-x-4 rounded-b',\r\n        className,\r\n    ].join(' ')\r\n    return <div className={classNames}>{children}</div>\r\n}\r\n\r\nexport default Bottom\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport PropTypes from 'prop-types'\r\nimport { clamp } from 'lodash'\r\nimport Swipe from 'react-easy-swipe'\r\nimport useResizeObserver from '@react-hook/resize-observer'\r\n\r\nimport { updatePageSwipper } from '@assets/js/frontend/states/generalSlice'\r\nimport PageWrapper from '@components/frontend/layouts/PageWrapper'\r\n\r\nconst Content = ({\r\n    pagePosition = 'middle',\r\n    currentBookMaxChapter,\r\n    currentChapter,\r\n    onMoveFirstPage,\r\n    onMoveLastPage,\r\n    onCompletedMove,\r\n    children,\r\n}) => {\r\n    const dispatch = useDispatch()\r\n\r\n    const pageWrappersRef = React.useRef(null)\r\n\r\n    const changePageMovePercentageThreshold = 6\r\n    const maxChapterNumberOfCurrentBook = parseInt(currentBookMaxChapter) || 1\r\n    const currentChapterNumber = parseInt(currentChapter) || 1\r\n\r\n    const initialPos =\r\n        pagePosition === 'middle' ? 1 : pagePosition === 'left' ? 0 : 1\r\n\r\n    const showMain = useSelector(\r\n        (state) =>\r\n            state.general.headersSwitch.main ||\r\n            state.general.headersSwitch.selection\r\n    )\r\n    const fullscreen = useSelector((state) => state.general.fullscreen)\r\n    const { pagePos, onTransition } = useSelector(\r\n        (state) => state.general.pageSwipper\r\n    )\r\n    const [currentContentMaxHeight, setCurrentContentMaxHeight] = useState(0)\r\n    const [movePercentage, setMovePercentage] = useState(0)\r\n    // const onSwipeStart = (event) => {}\r\n\r\n    const onSwipeMove = (position, event) => {\r\n        const movePercentageX = Number(\r\n            ((position.x / Number(screen.width)) * 100).toFixed(1)\r\n        )\r\n        if (\r\n            movePercentageX > changePageMovePercentageThreshold &&\r\n            movePercentageX < -changePageMovePercentageThreshold\r\n        ) {\r\n            event.preventDefault()\r\n        }\r\n        // console.log(`Moved ${movePercentageX}`)\r\n        // const movePercentageY = Number(\r\n        //     ((position.y / Number(screen.width)) * 100).toFixed(1)\r\n        // )\r\n        // console.log(`Moved ${position.y} pixels vertically`, event)\r\n        // console.log(`Moved ${movePercentageY} percentage vertically`, event)\r\n        setMovePercentage(\r\n            clamp(\r\n                movePercentageX,\r\n                pagePosition !== 'right'\r\n                    ? -99\r\n                    : -changePageMovePercentageThreshold,\r\n                pagePosition !== 'left' ? 99 : changePageMovePercentageThreshold\r\n            )\r\n        )\r\n        dispatch(updatePageSwipper({ onTransition: true }))\r\n    }\r\n\r\n    const onSwipeEnd = (event) => {\r\n        const moveAbsPercentage = Math.abs(movePercentage)\r\n        if (moveAbsPercentage > changePageMovePercentageThreshold) {\r\n            const nextPagePos = clamp(\r\n                movePercentage < 0 ? pagePos + 1 : pagePos - 1,\r\n                0,\r\n                2\r\n            )\r\n            if (nextPagePos === 0 || (initialPos === 2 && nextPagePos === 1)) {\r\n                onMoveFirstPage()\r\n            }\r\n            if (nextPagePos === 2 || (initialPos === 0 && nextPagePos === 1)) {\r\n                onMoveLastPage()\r\n            }\r\n            dispatch(updatePageSwipper({ pagePos: nextPagePos }))\r\n        }\r\n        setMovePercentage(0)\r\n    }\r\n\r\n    const handlerOnTransitionEnd = () => {\r\n        console.log('onTransitionEnd', pagePos, initialPos)\r\n        if (pagePos === initialPos) {\r\n            return\r\n        }\r\n        let offsetNext = 0\r\n        let pagePosNext = pagePos\r\n        if (initialPos > pagePos && currentChapterNumber - 1 > 0) {\r\n            offsetNext = -1\r\n        }\r\n        if (\r\n            initialPos < pagePos &&\r\n            currentChapterNumber + 1 <= maxChapterNumberOfCurrentBook\r\n        ) {\r\n            offsetNext = 1\r\n        }\r\n        onCompletedMove(\r\n            offsetNext,\r\n            initialPos === 0 ? 1 : initialPos === 2 ? 1 : initialPos,\r\n            false\r\n        )\r\n    }\r\n\r\n    const classNames = [\r\n        'items-start',\r\n        'relative',\r\n        'flex',\r\n        'h-full',\r\n        'w-full',\r\n    ].join(' ')\r\n\r\n    const pageClassNames = [\r\n        ...(onTransition\r\n            ? ['transition-transform', 'ease-out', 'duration-500']\r\n            : []),\r\n        'min-w-full',\r\n        ...(fullscreen ? ['h-full'] : []),\r\n        'overflow-y-auto',\r\n        'px-10',\r\n        'py-10',\r\n    ]\r\n\r\n    useEffect(() => {\r\n        dispatch(updatePageSwipper({ pagePos: initialPos }))\r\n    }, [initialPos])\r\n\r\n    useEffect(() => {\r\n        const currentContentDom =\r\n            pageWrappersRef?.current?.children[0]?.children[pagePos]\r\n        const currentContentMaxHeight = currentContentDom?.clientHeight\r\n\r\n        setCurrentContentMaxHeight(currentContentMaxHeight)\r\n    }, [currentChapterNumber])\r\n\r\n    useResizeObserver(pageWrappersRef, (entry) => {\r\n        const currentContentDom =\r\n            pageWrappersRef?.current?.children[0]?.children[pagePos]\r\n        const currentContentMaxHeight = currentContentDom?.clientHeight\r\n\r\n        setCurrentContentMaxHeight(currentContentMaxHeight)\r\n    })\r\n\r\n    return (\r\n        <div\r\n            ref={pageWrappersRef}\r\n            className={[\r\n                'flex min-w-320px flex-wrap overflow-hidden',\r\n                ...(showMain ? ['flex'] : ['hidden']),\r\n            ].join(' ')}\r\n            style={{\r\n                ...(currentContentMaxHeight > 0 && !fullscreen\r\n                    ? { maxHeight: `${currentContentMaxHeight}px` }\r\n                    : {}),\r\n            }}\r\n        >\r\n            <Swipe\r\n                onSwipeMove={onSwipeMove}\r\n                onSwipeEnd={onSwipeEnd}\r\n                className={classNames}\r\n            >\r\n                {Array.isArray(children) && children.length > 0 ? (\r\n                    children.map((child, idx) => {\r\n                        return (\r\n                            <PageWrapper\r\n                                {...{\r\n                                    key: child.key,\r\n                                    className: pageClassNames.join(' '),\r\n                                    movePercentage,\r\n                                    pagePos,\r\n                                    ...(idx === initialPos &&\r\n                                        pagePos !== initialPos && {\r\n                                            onTransitionEnd:\r\n                                                handlerOnTransitionEnd,\r\n                                        }),\r\n                                }}\r\n                            >\r\n                                {child}\r\n                            </PageWrapper>\r\n                        )\r\n                    })\r\n                ) : (\r\n                    <div className=\"px-6\">{children}</div>\r\n                )}\r\n            </Swipe>\r\n        </div>\r\n    )\r\n}\r\nContent.propTypes = {\r\n    pagePosition: PropTypes.string,\r\n    onMoveStartPage: PropTypes.func,\r\n    onMoveEndPage: PropTypes.func,\r\n    children: PropTypes.oneOfType([\r\n        PropTypes.string,\r\n        PropTypes.element,\r\n        PropTypes.arrayOf(PropTypes.element),\r\n    ]),\r\n}\r\n\r\nexport default Content\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { motion } from 'framer-motion'\r\nimport { FiMinusSquare } from 'react-icons/fi'\r\n\r\nimport * as Paragraph from '@components/frontend/paragraph'\r\n\r\nconst Drawer = ({ name, className: extraClassName = '', children }) => {\r\n    const showDrawer = useSelector((state) => state.general.drawer[name])\r\n    const fullscreen = useSelector((state) => state.general.fullscreen)\r\n    const allocationMode = useSelector(\r\n        (state) => state.general.layoutAllocationMode\r\n    )\r\n    const classNames = [\r\n        'z-10',\r\n        'hidden',\r\n        ...(fullscreen || allocationMode === 'split'\r\n            ? ['static']\r\n            : ['absolute']),\r\n        ...(fullscreen ? [] : ['drop-shadow-lg border-l']),\r\n        'right-0',\r\n        'left-0',\r\n        'md:left-1/2',\r\n        'bottom-0',\r\n        'top-0',\r\n        'min-h-full',\r\n        'flex-auto',\r\n        'bg-white/[.9]',\r\n        'backdrop-blur-sm',\r\n        'overflow-y-auto',\r\n        'overflow-x-hidden',\r\n        ...extraClassName.split(' '),\r\n    ].join(' ')\r\n    return (\r\n        <motion.div\r\n            animate={{\r\n                x: showDrawer ? '0%' : '100%',\r\n                display: 'flex',\r\n                transitionEnd: {\r\n                    ...(!showDrawer ? { display: 'none' } : {}),\r\n                },\r\n            }}\r\n            transition={{ ease: 'easeOut' }}\r\n            initial={false}\r\n            className={classNames}\r\n            onAnimationComplete={() => {}}\r\n        >\r\n            {children}\r\n        </motion.div>\r\n    )\r\n}\r\n\r\nDrawer.SelectedRaw = function SelectedRaw() {\r\n    const selectedRaws = useSelector((state) => state.selected.raws)\r\n    const booksDataSelector = useSelector((state) => [\r\n        ...state.data.books.old,\r\n        ...state.data.books.new,\r\n    ])\r\n    return (\r\n        <div className=\"w-full\">\r\n            {selectedRaws.map((raw) => {\r\n                const bookData = booksDataSelector[raw.book + 1]\r\n                const bookAbbr = bookData.abbr\r\n                return (\r\n                    <div key={raw.id}>\r\n                        <FiMinusSquare className=\"text-neutral-600 h-15px w-15px inline-block\" />\r\n                        <Paragraph.Line\r\n                            id={raw.id}\r\n                            bookAbbr={bookAbbr}\r\n                            chapterNum={raw.chapter}\r\n                            verseNum={raw.verse}\r\n                        >\r\n                            {raw.text}\r\n                        </Paragraph.Line>\r\n                    </div>\r\n                )\r\n            })}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Drawer\r\n","import React, { useEffect, useCallback, useRef } from 'react'\r\n\r\nconst PageWrapper = ({\r\n    className,\r\n    movePercentage,\r\n    pagePos,\r\n    onTransitionEnd,\r\n    children,\r\n}) => {\r\n    const ref = useRef(null)\r\n    const handlerOnTransitionEnd = useCallback(onTransitionEnd, [pagePos])\r\n    useEffect(() => {\r\n        const element = ref?.current\r\n\r\n        if (onTransitionEnd) {\r\n            element?.addEventListener('transitionend', handlerOnTransitionEnd)\r\n        }\r\n\r\n        return () => {\r\n            element?.removeEventListener(\r\n                'transitionend',\r\n                handlerOnTransitionEnd\r\n            )\r\n        }\r\n    }, [pagePos])\r\n    return (\r\n        <div\r\n            ref={ref}\r\n            style={{\r\n                transform: `translateX(${-(pagePos * 100) + movePercentage}%`,\r\n            }}\r\n            className={className}\r\n        >\r\n            {children}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PageWrapper\r\n","import React from 'react'\r\n\r\nconst Top = ({ children }) => {\r\n    const __wpAdminBar = document.getElementById('wpadminbar')\r\n    const hasWpAdminBar = __wpAdminBar !== null\r\n    const isWpAdmin = document.body.classList.contains('wp-admin')\r\n    const topBarHeight = hasWpAdminBar ? __wpAdminBar.clientHeight : 0\r\n    const classNames = [\r\n        'flex flex-wrap sticky z-20 items-center text-gray-800 bg-white border-b text-12px md:text-14px drop-shadow-sm rounded-t',\r\n        ...(!isWpAdmin && topBarHeight > 0 ? ['wp-sm:top-46px', 'md:top-32px'] : ['top-0']),\r\n    ].join(' ')\r\n    return <div className={classNames}>{children}</div>\r\n}\r\n\r\nTop.LeftSide = function LeftSide({ className: extraClassName = '', children }) {\r\n    const classNames = [\r\n        'flex',\r\n        'items-center',\r\n        'space-x-4',\r\n        ...extraClassName.split(' '),\r\n    ].join(' ')\r\n    return <div className={classNames}>{children}</div>\r\n}\r\n\r\nTop.MiddleSide = function MiddleSide({\r\n    className: extraClassName = '',\r\n    children,\r\n}) {\r\n    const classNames = [\r\n        'flex',\r\n        'items-center',\r\n        'absolute',\r\n        'top-1/2',\r\n        'left-1/2',\r\n        'transform',\r\n        '-translate-x-1/2',\r\n        '-translate-y-1/2',\r\n        ...extraClassName.split(' '),\r\n    ].join(' ')\r\n    return <div className={classNames}>{children}</div>\r\n}\r\n\r\nTop.RightSide = function RightSide({\r\n    className: extraClassName = '',\r\n    children,\r\n}) {\r\n    const classNames = [\r\n        'flex',\r\n        'items-center',\r\n        'space-x-4',\r\n        ...extraClassName.split(' '),\r\n    ].join(' ')\r\n    return <div className={classNames}>{children}</div>\r\n}\r\n\r\nTop.Row = function Row({ className: extraClassName = '', children }) {\r\n    const classNames = [\r\n        'relative',\r\n        'flex',\r\n        'items-center',\r\n        'w-full',\r\n        ...extraClassName.split(' '),\r\n    ].join(' ')\r\n    return <div className={classNames}>{children}</div>\r\n}\r\n\r\nexport default Top\r\n","import React from 'react'\r\nimport { isEqual } from 'lodash'\r\nimport { useSelector } from 'react-redux'\r\n\r\nimport BibleRaws from '@components/frontend/layouts/BibleRaws'\r\nimport Content from '@components/frontend/layouts/Content'\r\nimport Drawer from '@components/frontend/layouts/Drawer'\r\nimport Top from '@components/frontend/layouts/Top'\r\nimport Bottom from '@components/frontend/layouts/Bottom'\r\nimport BodyComponent from '@components/frontend/layouts/Body'\r\n\r\nconst AppContainer = ({ children }) => {\r\n    const fullscreen = useSelector((state) => state.general.fullscreen)\r\n\r\n    const fullscreenStyle = fullscreen\r\n        ? [\r\n              'fixed',\r\n              'top-0',\r\n              'right-0',\r\n              'bottom-0',\r\n              'left-0',\r\n              'z-99999',\r\n              'flex',\r\n              'flex-col',\r\n          ]\r\n        : ['container']\r\n    return (\r\n        <div\r\n            className={[\r\n                'mx-auto',\r\n                'font-bible',\r\n                'drop-shadow-md',\r\n                ...fullscreenStyle,\r\n            ].join(' ')}\r\n        >\r\n            {children}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Body = ({ className = '', children }) => {\r\n    const showScroll = useSelector((state) => {\r\n        const someDrawerOpend = Object.keys(state.general.drawer).some(\r\n            (key) => {\r\n                return state.general.drawer[key] === true\r\n            }\r\n        )\r\n        return !someDrawerOpend\r\n    })\r\n    const layoutAllocationMode = useSelector(\r\n        (state) => state.general.layoutAllocationMode\r\n    )\r\n    const hasFooter = useSelector((state) => {\r\n        return !!state.general.footerSwitch\r\n    })\r\n    const classNames = [className, ...(hasFooter ? ['pb-[31px]'] : [])].join(\r\n        ' '\r\n    )\r\n    return (\r\n        <BodyComponent className={classNames} showScroll={showScroll} allocationMode={layoutAllocationMode}>\r\n            {children}\r\n        </BodyComponent>\r\n    )\r\n}\r\n\r\nconst RawsContent = React.memo(BibleRaws, (prev, next) => {\r\n    if (!isEqual(prev.chapterVerseInfo, next.chapterVerseInfo)) {\r\n        return false\r\n    }\r\n    if (!isEqual(prev.readingQuerys, next.readingQuerys)) {\r\n        return false\r\n    }\r\n    if (!isEqual(prev.bookRaws, next.bookRaws)) {\r\n        return false\r\n    }\r\n    if (!isEqual(prev.selectedRaws, next.selectedRaws)) {\r\n        return false\r\n    }\r\n    return true\r\n})\r\n\r\nconst Page = ({ children }) => {\r\n    return <div>{children}</div>\r\n}\r\n\r\nexport { AppContainer, Body, Content, RawsContent, Drawer, Page, Top, Bottom }\r\n","import React, { useEffect } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\n\r\nimport * as Layout from '@components/frontend/layouts'\r\nimport * as Headers from '@components/frontend/headers'\r\nimport * as Books from '@components/frontend/books'\r\nimport * as Search from '@components/frontend/search'\r\nimport { useGetBibleRawQuery } from '@components/services'\r\nimport { switchHeadersBooks, currentSelection } from '@assets/js/frontend/states/generalSlice'\r\nimport {\r\n    generateRestRangeParam,\r\n    retrieveChapterByParamString,\r\n    validIsQueryWholeChapter,\r\n} from '@assets/js/frontend/utilities'\r\nimport { loadRaws } from '@assets/js/frontend/states/dataSlice'\r\n\r\nexport const Chapters = () => {\r\n    const dispatch = useDispatch()\r\n    const stateData = useSelector((state) => state.data)\r\n    const booksDataSelector = [\r\n        ...stateData.books.old,\r\n        ...stateData.books.new\r\n    ]\r\n    const { isAfterReload, readingQuerys, translation } = stateData\r\n    const { chapterVerseInfo } = translation?.info\r\n    const bookRaws = stateData.raws.filter((raw) => {\r\n        return raw.book === Number(readingQuerys[0].book.index)\r\n    })\r\n    const selectedRaws = useSelector((state) => state.selected.raws)\r\n\r\n    const isQueryWholeChapter = validIsQueryWholeChapter(\r\n        readingQuerys,\r\n        chapterVerseInfo\r\n    )\r\n\r\n    const urlParams = isAfterReload\r\n        ? generateRestRangeParam(useParams())\r\n        : [\r\n              `${readingQuerys[0].book.slug}${readingQuerys[0].chapter}:${readingQuerys[0].verse}`,\r\n          ]\r\n    const currentChapter = retrieveChapterByParamString(urlParams[0])\r\n\r\n    const { data, error, isFetching } = useGetBibleRawQuery({\r\n        ranges: urlParams,\r\n        withPrevChapter: isQueryWholeChapter,\r\n        withNextChapter: isQueryWholeChapter,\r\n    })\r\n\r\n    useEffect(() => {\r\n        if (data && Object.keys(data).length > 0) {\r\n            dispatch(loadRaws(data.data))\r\n        }\r\n    }, [data])\r\n\r\n    useEffect(() => {\r\n        if (error && Object.keys(error).length > 0) {\r\n            throw new Error(error.data.message)\r\n        }\r\n    }, [error])\r\n\r\n    useEffect(() => {\r\n        dispatch(\r\n            currentSelection({\r\n                books: booksDataSelector.filter((book) => {\r\n                    return book.index === readingQuerys[0].book.index\r\n                })[0],\r\n            })\r\n        )\r\n        dispatch(switchHeadersBooks())\r\n    }, [])\r\n    return (\r\n        <Layout.AppContainer>\r\n            <Layout.Top>\r\n                <Headers.Main />\r\n                <Headers.Books />\r\n                <Headers.Selection />\r\n            </Layout.Top>\r\n            <Layout.Body>\r\n                <Books.List />\r\n                <Search.Results />\r\n                <Layout.RawsContent\r\n                    {...{\r\n                        readingQuerys,\r\n                        bookRaws,\r\n                        chapterVerseInfo,\r\n                        currentChapter,\r\n                        selectedRaws,\r\n                    }}\r\n                />\r\n            </Layout.Body>\r\n        </Layout.AppContainer>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport RHEMA_LOCALIZE from 'RHEMA_LOCALIZE'\r\n\r\nimport * as Layout from '@components/frontend/layouts'\r\nimport { ERROR_MESSAGE_MAPPING } from '@components/constants'\r\n\r\nexport const Error = ({ error, resetErrorBoundary }) => {\r\n    const style = `:host, :root {display:block;margin: 24px auto; font-size: 16px;}`\r\n    const pluginFrontendCssUrl = RHEMA_LOCALIZE.RHEMA_FRONTEND_CSS_URL\r\n    const { message } = error\r\n    const displayMsg = ERROR_MESSAGE_MAPPING.hasOwnProperty(message)\r\n        ? ERROR_MESSAGE_MAPPING[message]\r\n        : message\r\n    return (\r\n        <Layout.AppContainer>\r\n            <style>\r\n                @import '{pluginFrontendCssUrl}'; @import\r\n                url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC&display=swap');\r\n                {style}\r\n            </style>\r\n            <Layout.Body>\r\n                <Layout.Content>\r\n                    <Layout.Page>{displayMsg}</Layout.Page>\r\n                </Layout.Content>\r\n            </Layout.Body>\r\n        </Layout.AppContainer>\r\n    )\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\nimport {\r\n    generateVerseUrl,\r\n    generateRandomlyChapter,\r\n} from '@assets/js/frontend/utilities'\r\nimport * as Layout from '@components/frontend/layouts'\r\nimport * as Headers from '@components/frontend/headers'\r\nimport * as Paragraph from '@components/frontend/paragraph'\r\nimport * as Books from '@components/frontend/books'\r\nimport * as Search from '@components/frontend/search'\r\nimport { updateReadingQuerys } from '@assets/js/frontend/states/dataSlice'\r\n\r\nconst Container = ({}) => {\r\n    return (\r\n        <Layout.AppContainer>\r\n            <Layout.Top>\r\n                <Headers.Main />\r\n                <Headers.Books />\r\n                <Headers.Selection />\r\n            </Layout.Top>\r\n            <Layout.Body>\r\n                <Books.List />\r\n                <Search.Results />\r\n                HOME\r\n            </Layout.Body>\r\n        </Layout.AppContainer>\r\n    )\r\n}\r\n\r\nconst MemoContainer = React.memo(Container, (prev, next) => {\r\n    return true\r\n})\r\n\r\nexport const Home = () => {\r\n    return <MemoContainer />\r\n}\r\n\r\nexport const RandomlyChapter = () => {\r\n    const navigate = useNavigate()\r\n    const dispatch = useDispatch()\r\n    const chapterVerseInfo = useSelector(\r\n        (state) => state.data.translation.info.chapterVerseInfo\r\n    )\r\n    const randomlyChapter = generateRandomlyChapter()\r\n    const currentBookIndex = randomlyChapter.book.index\r\n    const newReadingQuerys = [\r\n        {\r\n            book: { ...randomlyChapter.book },\r\n            chapter: randomlyChapter.chapter,\r\n            verse: 1,\r\n        },\r\n        {\r\n            book: { ...randomlyChapter.book },\r\n            chapter: randomlyChapter.chapter,\r\n            verse: chapterVerseInfo[currentBookIndex][randomlyChapter.chapter],\r\n        },\r\n    ]\r\n\r\n    useEffect(() => {\r\n        dispatch(updateReadingQuerys(newReadingQuerys))\r\n        navigate(\r\n            generateVerseUrl(\r\n                randomlyChapter.book.slug,\r\n                randomlyChapter.chapter,\r\n                1\r\n            )\r\n        )\r\n    }, [])\r\n    return null\r\n}\r\n","export { Home, RandomlyChapter } from './home'\r\nexport { Chapters } from './chapters'\r\nexport { Verses } from './verses'\r\nexport { Error } from './error'\r\n","import React, { useEffect } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { useParams } from 'react-router-dom'\r\n\r\nimport { UI_MESSAGE_MAPPING } from '@components/constants'\r\nimport * as Layout from '@components/frontend/layouts'\r\nimport * as Headers from '@components/frontend/headers'\r\nimport * as Footers from '@components/frontend/footers'\r\n\r\nimport * as Books from '@components/frontend/books'\r\nimport * as Search from '@components/frontend/search'\r\nimport * as Forms from '@components/frontend/forms'\r\nimport { DrawerTitle } from '@components/frontend/components'\r\nimport { useGetBibleRawQuery } from '@components/services'\r\nimport {\r\n    generateRestRangeParam,\r\n    retrieveChapterByParamString,\r\n    validIsQueryWholeChapter,\r\n    retrieveBookIndexBySlug,\r\n    goToVerse,\r\n} from '@assets/js/frontend/utilities'\r\nimport { loadRaws } from '@assets/js/frontend/states/dataSlice'\r\n\r\nexport const Verses = () => {\r\n    const dispatch = useDispatch()\r\n    const stateData = useSelector((state) => state.data)\r\n    const stateGeneral = useSelector((state) => state.general)\r\n    const isAfterReload = useSelector((state) => state.general.isAfterReload)\r\n    const params = useParams()\r\n\r\n    const { currentSelection } = stateGeneral\r\n    const { readingQuerys } = stateData\r\n    const { chapterVerseInfo } = stateData.translation?.info\r\n    let currentBookIndex = readingQuerys[0]?.book?.index\r\n    if (!currentBookIndex) {\r\n        const { books1: bookSlugOfParam } = useParams()\r\n        currentBookIndex = retrieveBookIndexBySlug(bookSlugOfParam)\r\n    }\r\n\r\n    const bookRaws = stateData.raws.filter((raw) => {\r\n        return raw.book === Number(currentBookIndex)\r\n    })\r\n    const selectedRaws = useSelector((state) => state.selected.raws)\r\n\r\n    const isQueryWholeChapter = validIsQueryWholeChapter(\r\n        readingQuerys,\r\n        chapterVerseInfo\r\n    )\r\n\r\n    let urlParams = generateRestRangeParam(params)\r\n    if (isAfterReload && readingQuerys.length > 0) {\r\n        urlParams = [\r\n            `${readingQuerys[0].book.slug}${readingQuerys[0].chapter}:${readingQuerys[0].verse}`,\r\n        ]\r\n    }\r\n\r\n    const currentChapter = retrieveChapterByParamString(urlParams[0])\r\n\r\n    const { data, error, isFetching } = useGetBibleRawQuery({\r\n        ranges: urlParams,\r\n        withPrevChapter: isQueryWholeChapter,\r\n        withNextChapter: isQueryWholeChapter,\r\n    })\r\n\r\n    useEffect(() => {\r\n        if (data && Object.keys(data).length > 0) {\r\n            dispatch(loadRaws(data.data))\r\n        }\r\n    }, [data])\r\n\r\n    useEffect(() => {\r\n        if (error && Object.keys(error).length > 0) {\r\n            throw new Error(error.data.message)\r\n        }\r\n    }, [error])\r\n\r\n    useEffect(() => {\r\n        const { books1: bookSlugOfUrlParam, verse1: chapterVerseOfUrlParam } =\r\n            params\r\n        const urlBookIndex = retrieveBookIndexBySlug(bookSlugOfUrlParam)\r\n        const urlChapter =\r\n            chapterVerseOfUrlParam.match(/(\\d{0,3}):?(\\d{0,3})/i)[1]\r\n\r\n        goToVerse(urlBookIndex, urlChapter)\r\n    }, [params])\r\n\r\n    return (\r\n        <Layout.AppContainer>\r\n            <Layout.Top>\r\n                <Headers.Main />\r\n                <Headers.Books />\r\n                <Headers.Selection />\r\n            </Layout.Top>\r\n            <Layout.Body className=\"-mb-8\">\r\n                <Books.List />\r\n                <Search.Results />\r\n                <Layout.RawsContent\r\n                    {...{\r\n                        currentSelection,\r\n                        readingQuerys,\r\n                        bookRaws,\r\n                        chapterVerseInfo,\r\n                        currentChapter,\r\n                        selectedRaws,\r\n                    }}\r\n                />\r\n                <Layout.Drawer name=\"new-post\">\r\n                    <Forms.Posts />\r\n                </Layout.Drawer>\r\n                <Layout.Drawer className=\"p-2\" name=\"relative-posts\">\r\n                    <DrawerTitle>相關文章</DrawerTitle>\r\n                </Layout.Drawer>\r\n                <Layout.Drawer\r\n                    className=\"p-2 content-start flex-wrap\"\r\n                    name=\"selected-raws\"\r\n                >\r\n                    <DrawerTitle>\r\n                        {UI_MESSAGE_MAPPING['selected-verses']}\r\n                    </DrawerTitle>\r\n                    <Layout.Drawer.SelectedRaw />\r\n                </Layout.Drawer>\r\n            </Layout.Body>\r\n            <Layout.Bottom>\r\n                <Footers.Main />\r\n            </Layout.Bottom>\r\n        </Layout.AppContainer>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { useLongPress } from 'use-long-press'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\n\r\nimport { switchHeadersSelection } from '@assets/js/frontend/states/generalSlice'\r\nimport { putRaw, delRaw } from '@assets/js/frontend/states/selectedSlice'\r\nimport { retrieveFontSize } from '@assets/js/common'\r\n\r\nconst RelateContent = ({}) => {\r\n    return (\r\n        <div className=\"flex relative justify-center my-10px overflow-hidden space-x-4\">\r\n            <div className=\"w-11/12 max-w-360px max-h-180px aspect-video bg-sky-300 rounded-xl\"></div>\r\n            <div className=\"absolute w-11/12 max-w-360px max-h-180px aspect-video bg-sky-300 rounded-xl translate-x-full\"></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Title = ({ children }) => {\r\n    return <h3 className=\"mb-10px text-sm font-bold\">{children}</h3>\r\n}\r\n\r\nTitle.propTypes = {\r\n    children: PropTypes.element,\r\n}\r\n\r\nconst Block = ({ children }) => {\r\n    return (\r\n        <p className=\"line-break-anywhere leading-12 mb-10px only:mb-0 last:mb-0\">\r\n            {children}\r\n        </p>\r\n    )\r\n}\r\n\r\nBlock.propTypes = {\r\n    children: PropTypes.oneOfType([\r\n        PropTypes.element,\r\n        PropTypes.arrayOf(PropTypes.element),\r\n    ]),\r\n}\r\n\r\nconst Line = ({\r\n    picked = false,\r\n    active = false,\r\n    block = false,\r\n    id = '0000000',\r\n    bookAbbr = '',\r\n    chapterNum = '',\r\n    verseNum = '',\r\n    children,\r\n}) => {\r\n    const isSelectionMode = useSelector(\r\n        (state) => state.general.headersSwitch.selection\r\n    )\r\n    const dispatch = useDispatch()\r\n    const { raws } = useSelector((state) => state.data)\r\n    const { fontSize } = useSelector((state) => state.general.displaySetting)\r\n    const selectedRaws = useSelector((state) => state.selected.raws)\r\n    const bind = useLongPress(\r\n        !isSelectionMode\r\n            ? () => {\r\n                  dispatch(switchHeadersSelection())\r\n              }\r\n            : () => {\r\n                  if (active) {\r\n                      return\r\n                  }\r\n                  const rawIndex = raws.findIndex((raw) => raw.id === id)\r\n                  dispatch(putRaw(raws[rawIndex]))\r\n              },\r\n        {\r\n            threshold: 500,\r\n            cancelOnMovement: true,\r\n            cancelOutsideElement: false,\r\n        }\r\n    )\r\n\r\n    const onClickVerse = (id, e) => {\r\n        e.preventDefault()\r\n        if (!isSelectionMode) {\r\n            return\r\n        }\r\n        const rawIndex = raws.findIndex((raw) => raw.id === id)\r\n        const selectedRawIndex = selectedRaws.findIndex((raw) => raw.id === id)\r\n        const isSelectedRaw = selectedRawIndex !== -1\r\n        if (isSelectedRaw) {\r\n            dispatch(delRaw(selectedRaws[selectedRawIndex]))\r\n            return\r\n        }\r\n        if (active) {\r\n            dispatch(delRaw(raws[rawIndex]))\r\n            return\r\n        }\r\n        dispatch(putRaw(raws[rawIndex]))\r\n    }\r\n    const generateBeforeContentClassName = (bookAbbr, chapterNum) => {\r\n        if (bookAbbr && chapterNum) {\r\n            return 'before:content-[attr(data-book-abbr)_\"_\"attr(data-chapter-num)\":\"_attr(data-verse-num)]'\r\n        }\r\n        return `before:content-[attr(data-verse-num)]`\r\n    }\r\n    const beforeIsWider = !!bookAbbr && !!chapterNum\r\n    const classNames = [\r\n        'before:text-12px',\r\n        ...(!beforeIsWider ? ['before:w-18px'] : ['before:px-3px']),\r\n        'before:inline-flex',\r\n        'before:items-center',\r\n        'before:justify-center',\r\n        'before:text-center',\r\n        generateBeforeContentClassName(bookAbbr, chapterNum),\r\n        'before:align-text-top',\r\n        'before:mt-5px',\r\n        'before:text-gray-400',\r\n        ...(picked ? ['font-bold'] : []),\r\n        ...(active\r\n            ? [\r\n                  'underline',\r\n                  'decoration-2',\r\n                  'decoration-dotted',\r\n                  'underline-offset-4',\r\n              ]\r\n            : []),\r\n        ...(block ? ['block'] : []),\r\n        'before:leading-none',\r\n        'before:decoration-sky-500',\r\n        'cursor-pointer',\r\n        retrieveFontSize(fontSize),\r\n    ].join(' ')\r\n    return (\r\n        <span\r\n            {...(bookAbbr\r\n                ? {\r\n                      'data-book-abbr': bookAbbr,\r\n                  }\r\n                : {})}\r\n            {...(chapterNum\r\n                ? {\r\n                      'data-chapter-num': chapterNum,\r\n                  }\r\n                : {})}\r\n            {...(verseNum\r\n                ? {\r\n                      'data-verse-num': verseNum,\r\n                  }\r\n                : {})}\r\n            className={classNames}\r\n            {...bind()}\r\n            onClick={onClickVerse.bind(this, id)}\r\n        >\r\n            {children}\r\n        </span>\r\n    )\r\n}\r\n\r\nLine.propTypes = {\r\n    active: PropTypes.bool,\r\n    block: PropTypes.bool,\r\n    id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n    bookAbbr: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n    chapterNum: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n    verseNum: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n    children: PropTypes.oneOfType([\r\n        PropTypes.string,\r\n        PropTypes.element,\r\n        PropTypes.arrayOf(PropTypes.element),\r\n    ]),\r\n}\r\n\r\nexport { Title, Block, Line, RelateContent }\r\n","import React, { useEffect } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport Skeleton from 'react-loading-skeleton'\r\n\r\nimport { onClickVerse, generateVerseUrl } from '@assets/js/frontend/utilities'\r\nimport * as Paragraph from '@components/frontend/paragraph'\r\nimport {\r\n    Line,\r\n    StringLabel,\r\n    Button,\r\n    KeywordLabel,\r\n} from '@assets/js/frontend/components'\r\nimport { useSearchBibleRawsQuery } from '@components/services'\r\nimport {\r\n    changeSearchPaged,\r\n    inputSearchKeywords,\r\n} from '@assets/js/frontend/states/generalSlice'\r\n\r\nexport const Results = () => {\r\n    const dispatch = useDispatch()\r\n    const paged = useSelector((state) => state.general.search.paged)\r\n    const history = useSelector(\r\n        (state) => state.general.search.keywords.history\r\n    )\r\n    const booksData = useSelector((state) => [\r\n        ...state.data.books.old,\r\n        ...state.data.books.new,\r\n    ])\r\n    const showSearchResults = useSelector(\r\n        (state) => state.general.headersSwitch.search\r\n    )\r\n    const currentKeywords = useSelector(\r\n        (state) => state.general.search.keywords.current\r\n    )\r\n    const { data, currentData, error, isFetching, isLoading, isUninitialized } =\r\n        useSearchBibleRawsQuery(\r\n            {\r\n                words: currentKeywords,\r\n                paged,\r\n            },\r\n            {\r\n                skip: currentKeywords?.length === 0,\r\n            }\r\n        )\r\n    const classNames = [\r\n        ...(showSearchResults ? ['block'] : ['hidden']),\r\n        'bg-white',\r\n        'overflow-y-auto',\r\n        'p-10',\r\n    ].join(' ')\r\n\r\n    const { results: hits, total } = data?.data || {\r\n        results: [],\r\n        total: 0,\r\n    }\r\n    const loadingLine =\r\n        (isLoading\r\n            ? 20\r\n            : Number(total) - hits.length > 20\r\n            ? 20\r\n            : Number(total) - hits.length) || 0\r\n    const hasMore = total > hits.length\r\n\r\n    const hasError = error && Object.keys(error).length > 0\r\n\r\n    return (\r\n        <div className={classNames}>\r\n            {history.map((keyword, index) => {\r\n                return (\r\n                    <KeywordLabel\r\n                        key={index}\r\n                        onClick={() => {\r\n                            dispatch(inputSearchKeywords(keyword))\r\n                            dispatch(changeSearchPaged(1))\r\n                        }}\r\n                        className=\"text-zinc-400 mr-1 cursor-pointer\"\r\n                    >\r\n                        {keyword}\r\n                    </KeywordLabel>\r\n                )\r\n            })}\r\n            <KeywordLabel className=\"text-rose-600\">\r\n                {currentKeywords}\r\n            </KeywordLabel>\r\n            <StringLabel className={`block w-full my-4`}>\r\n                共 {isLoading ? '?' : total} 筆結果\r\n            </StringLabel>\r\n            <Paragraph.Block>\r\n                <>\r\n                    {hasError ? error.data.message : null}\r\n                    {currentData\r\n                        ? hits.map((raw) => {\r\n                            const slug = booksData[raw.book - 1].slug\r\n                            return (\r\n                                <Link\r\n                                    key={raw.id}\r\n                                    onClick={onClickVerse.bind(this, {\r\n                                        book: raw.book,\r\n                                        chapter: raw.chapter,\r\n                                        verse: raw.verse,\r\n                                    })}\r\n                                    to={generateVerseUrl(\r\n                                        slug,\r\n                                        raw.chapter,\r\n                                        raw.verse\r\n                                    )}\r\n                                >\r\n                                    <Line\r\n                                        className=\"before:mt-15px\"\r\n                                        block={true}\r\n                                        id={raw.id}\r\n                                        bookAbbr={raw.book}\r\n                                        chapterNum={raw.chapter}\r\n                                        verseNum={raw.verse}\r\n                                    >\r\n                                        {raw.text}\r\n                                    </Line>\r\n                                </Link>\r\n                              )\r\n                          })\r\n                        : null}\r\n                    {isFetching ? (\r\n                        <Skeleton inline={false} count={loadingLine} />\r\n                    ) : null}\r\n                </>\r\n            </Paragraph.Block>\r\n            <div\r\n                className={['w-full', ...(!hasMore ? ['hidden'] : [])].join(\r\n                    ' '\r\n                )}\r\n            >\r\n                <Button\r\n                    onClick={() => {\r\n                        dispatch(changeSearchPaged(paged + 1))\r\n                    }}\r\n                >\r\n                    讀取更多\r\n                </Button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import { createSlice } from '@reduxjs/toolkit'\r\nimport merge from 'deepmerge'\r\n\r\nimport RHEMA_LOCALIZE from 'RHEMA_LOCALIZE'\r\n\r\nconst initialQuery = RHEMA_LOCALIZE.RHEMA_INITAIL_DATA?.QUERYS\r\n\r\nconst defaultState = {\r\n    raws: RHEMA_LOCALIZE.RHEMA_INITAIL_DATA?.RAW || [],\r\n    books: RHEMA_LOCALIZE.RHEMA_INITAIL_DATA?.BOOKS || [],\r\n    readingQuerys: initialQuery,\r\n    translation: {\r\n        abbr: RHEMA_LOCALIZE.RHEMA_INITAIL_DATA?.TRANSLATION?.ABBR,\r\n        info: RHEMA_LOCALIZE.RHEMA_INITAIL_DATA?.TRANSLATION?.INFO,\r\n    },\r\n}\r\n\r\nexport const initialState = (state = {}) => {\r\n    return merge(defaultState, state)\r\n}\r\n\r\nexport const dataSlice = createSlice({\r\n    name: 'data',\r\n    initialState: initialState(),\r\n    reducers: {\r\n        loadRaws: (state, action) => {\r\n            const { payload } = action\r\n\r\n            const newDiffRaws = [...payload].filter((newFetchedRaw) => {\r\n                return 0 > state.raws.findIndex(\r\n                    (fetchedRaw) =>\r\n                        fetchedRaw.book === newFetchedRaw.book &&\r\n                        fetchedRaw.chapter === newFetchedRaw.chapter &&\r\n                        fetchedRaw.verse === newFetchedRaw.verse\r\n                )\r\n            })\r\n            const prepareRaws = [...state.raws, ...newDiffRaws].sort(function (\r\n                a,\r\n                b\r\n            ) {\r\n                return a.id - b.id\r\n            })\r\n            state.raws = prepareRaws\r\n        },\r\n        insertRaw: (state, action) => {\r\n            const { payload } = action\r\n            state.raws.push(payload)\r\n        },\r\n        updateReadingQuerys: (state, action) => {\r\n            const { payload } = action\r\n            state.readingQuerys = payload\r\n        },\r\n    },\r\n})\r\n\r\n// Action creators are generated for each case reducer function\r\nexport const { loadRaws, insertRaw, updateReadingQuerys } = dataSlice.actions\r\n\r\nexport default dataSlice.reducer\r\n","import { createSlice } from '@reduxjs/toolkit'\r\nimport merge from 'deepmerge'\r\n\r\nconst defaultState = {\r\n    fullscreen: false,\r\n    isAfterReload: true,\r\n    routerMode: 'history',\r\n    layoutAllocationMode: 'float', // float, split\r\n    pageSwipper: {\r\n        pagePos: 1,\r\n        onTransition: true,\r\n    },\r\n    displaySetting: {\r\n        fontSize: 'md',\r\n    },\r\n    selected:{},\r\n    headersSwitch: {\r\n        main: true,\r\n        books: false,\r\n        selection: false,\r\n        search: false,\r\n    },\r\n    footerSwitch: {\r\n        main: {\r\n            pagenation: true,\r\n            confirmSelection: false,\r\n        },\r\n    },\r\n    booksSelector: {\r\n        books: true,\r\n        chapters: false,\r\n        verses: false,\r\n    },\r\n    currentSelection: {\r\n        books: '',\r\n        chapters: '',\r\n        verses: '',\r\n    },\r\n    search: {\r\n        keywords: {\r\n            current: '',\r\n            history: [],\r\n        },\r\n        paged: 1,\r\n    },\r\n    drawer: {},\r\n}\r\n\r\nexport const initialState = (state = {}) => {\r\n    return merge(defaultState, state)\r\n}\r\n\r\nconst disableAllHeader = (headersSwitch) => {\r\n    Object.keys(headersSwitch).forEach((key) => {\r\n        headersSwitch[key] = false\r\n    })\r\n}\r\n\r\nexport const generalSlice = createSlice({\r\n    name: 'general',\r\n    initialState: initialState(),\r\n    reducers: {\r\n        toggleScreen: (state) => {\r\n            const body = document.getElementsByTagName('body')[0]\r\n            const newValue = !state.fullscreen\r\n            body.style.overflow = newValue ? 'hidden' : null\r\n            state.fullscreen = newValue\r\n        },\r\n        toggleDrawer: (state, action) => {\r\n            const { name: drawerName } = action.payload\r\n            if (!drawerName) {\r\n                return\r\n            }\r\n            state.drawer = {\r\n                ...state.drawer,\r\n                [drawerName]: !state.drawer[drawerName],\r\n            }\r\n        },\r\n        switchHeadersMain: (state) => {\r\n            disableAllHeader(state.headersSwitch)\r\n            state.headersSwitch.main = true\r\n            state.booksSelector.chapters = false\r\n            state.booksSelector.verses = false\r\n            state.booksSelector.books = true\r\n            Object.keys(state.drawer).forEach((key) => {\r\n                state.drawer[key] = false\r\n            })\r\n        },\r\n        switchHeadersBooks: (state) => {\r\n            disableAllHeader(state.headersSwitch)\r\n            state.headersSwitch.books = true\r\n        },\r\n        switchHeadersSelection: (state) => {\r\n            disableAllHeader(state.headersSwitch)\r\n            state.headersSwitch.selection = true\r\n        },\r\n        switchHeadersSearch: (state) => {\r\n            disableAllHeader(state.headersSwitch)\r\n            state.headersSwitch.search = true\r\n        },\r\n        booksSelectorToggle: (state) => {\r\n            state.headersSwitch.books = !state.headersSwitch.books\r\n        },\r\n        booksSelectorBooks: (state) => {\r\n            state.booksSelector = {\r\n                chapters: false,\r\n                verses: false,\r\n                books: true,\r\n            }\r\n        },\r\n        booksSelectorChapters: (state) => {\r\n            state.booksSelector = {\r\n                chapters: true,\r\n                verses: false,\r\n                books: false,\r\n            }\r\n        },\r\n        booksSelectorVerses: (state) => {\r\n            state.booksSelector = {\r\n                chapters: false,\r\n                verses: true,\r\n                books: false,\r\n            }\r\n        },\r\n        currentSelection: (state, action) => {\r\n            const { payload } = action\r\n            state.currentSelection = { ...state.currentSelection, ...payload }\r\n        },\r\n        clickBookSelector: (state, action) => {\r\n            const { payload } = action\r\n            const payloadKeys = Object.keys(payload)\r\n            const currentClickBookChapterVerses =\r\n                payloadKeys.indexOf('verses') !== -1\r\n                    ? 'verses'\r\n                    : payloadKeys.indexOf('chapters') !== -1\r\n                        ? 'chapters'\r\n                        : payloadKeys.indexOf('books') !== -1\r\n                            ? 'books'\r\n                            : false\r\n            if (!currentClickBookChapterVerses) {\r\n                return state\r\n            }\r\n            switch (currentClickBookChapterVerses) {\r\n                case 'books':\r\n                    state.booksSelector.chapters =\r\n                        !state.booksSelector.chapters\r\n                    state.booksSelector.verses = false\r\n                    state.booksSelector.books = false\r\n                    state.currentSelection.chapters = ''\r\n                    break\r\n                case 'chapters':\r\n                    state.booksSelector.chapters = false\r\n                    state.booksSelector.verses = !state.booksSelector.verses\r\n                    state.booksSelector.books = false\r\n                    break\r\n                case 'verses':\r\n                    state.headersSwitch.main = true\r\n                    state.headersSwitch.books = false\r\n                    state.booksSelector.chapters = false\r\n                    state.booksSelector.verses = false\r\n                    state.booksSelector.books = true\r\n                    state.headersSwitch.search = false\r\n                    break\r\n            }\r\n\r\n            state.isAfterReload = false\r\n            state.currentSelection = { ...state.currentSelection, ...payload }\r\n        },\r\n        inputSearchKeywords: (state, action) => {\r\n            const { payload } = action\r\n            if (\r\n                !!state.search.keywords.current &&\r\n                state.search.keywords.current.length > 0 &&\r\n                payload !== state.search.keywords.current\r\n            ) {\r\n                state.search.keywords.history.push(\r\n                    state.search.keywords.current\r\n                )\r\n            }\r\n            if (state.search.keywords.history.includes(payload)) {\r\n                state.search.keywords.history =\r\n                    state.search.keywords.history.filter((item) => {\r\n                        return item !== payload\r\n                    })\r\n            }\r\n            state.search.keywords.current = payload\r\n        },\r\n        changeSearchPaged: (state, action) => {\r\n            const { payload: paged } = action\r\n            state.search.paged = paged\r\n        },\r\n        changeFontSize: (state) => {\r\n            const sizes = ['sm', 'md', 'lg']\r\n            const currentSizeIndex = sizes.indexOf(\r\n                state.displaySetting.fontSize\r\n            )\r\n            const nextfontSize =\r\n                currentSizeIndex + 1 > sizes.length - 1\r\n                    ? sizes[0]\r\n                    : sizes[currentSizeIndex + 1]\r\n            state.displaySetting.fontSize = nextfontSize\r\n        },\r\n        updatePageSwipper: (state, action) => {\r\n            const { payload } = action\r\n            state.pageSwipper = { ...state.pageSwipper, ...payload }\r\n        },\r\n    },\r\n})\r\n\r\n// Action creators are generated for each case reducer function\r\nexport const {\r\n    toggleScreen,\r\n    toggleDrawer,\r\n    switchHeadersMain,\r\n    switchHeadersBooks,\r\n    switchHeadersSelection,\r\n    switchHeadersSearch,\r\n    booksSelectorBooks,\r\n    booksSelectorChapters,\r\n    booksSelectorVerses,\r\n    currentSelection,\r\n    clickBookSelector,\r\n    inputSearchKeywords,\r\n    changeSearchPaged,\r\n    changeFontSize,\r\n    updatePageSwipper,\r\n} = generalSlice.actions\r\n\r\nexport default generalSlice.reducer\r\n","import { createSlice } from '@reduxjs/toolkit'\r\nimport merge from 'deepmerge'\r\n\r\nconst defaultState = {\r\n    raws: [],\r\n}\r\n\r\nexport const initialState = (state = {}) => {\r\n    return merge(defaultState, state)\r\n}\r\n\r\nexport const selectedSlice = createSlice({\r\n    name: 'selected',\r\n    initialState: initialState(),\r\n    reducers: {\r\n        putRaw: (state, action) => {\r\n            const { payload } = action\r\n            console.log(payload)\r\n            state.raws.push(payload)\r\n            state.raws.sort((a, b) => {\r\n                if (a.id < b.id) {\r\n                    return -1\r\n                }\r\n                if (a.id > b.id) {\r\n                    return 1\r\n                }\r\n                return 0\r\n            })\r\n        },\r\n        delRaw: (state, action) => {\r\n            const { payload } = action\r\n            const targetID = payload.id\r\n            const targetIndex = state.raws.findIndex(\r\n                (raw) => raw.id === targetID\r\n            )\r\n            state.raws.splice(targetIndex, 1)\r\n        },\r\n        clearRaw: (state) => {\r\n            state.raws = []\r\n        },\r\n    },\r\n})\r\n\r\n// Action creators are generated for each case reducer function\r\nexport const { putRaw, delRaw, clearRaw } = selectedSlice.actions\r\n\r\nexport default selectedSlice.reducer\r\n","import { configureStore } from '@reduxjs/toolkit'\r\nimport { setupListeners } from '@reduxjs/toolkit/query'\r\n\r\nimport { bibleApi, searchApi } from '../services'\r\nimport generalReducer, { initialState as generalState } from './states/generalSlice'\r\nimport dataReducer, { initialState as dataState } from './states/dataSlice'\r\nimport selectedReducer, { initialState as selectedState } from './states/selectedSlice'\r\n\r\nconst initialStore = (state = {}) => {\r\n    const store = configureStore({\r\n        reducer: {\r\n            general: generalReducer,\r\n            data: dataReducer,\r\n            selected: selectedReducer,\r\n            [bibleApi.reducerPath]: bibleApi.reducer,\r\n            [searchApi.reducerPath]: searchApi.reducer,\r\n        },\r\n        middleware: (getDefaultMiddleware) =>\r\n            getDefaultMiddleware().concat([bibleApi.middleware, searchApi.middleware]),\r\n        preloadedState: {\r\n            general: generalState(state?.general),\r\n            data: dataState(state?.data),\r\n            selected: selectedState(state?.selected),\r\n        },\r\n    })\r\n    setupListeners(store.dispatch)\r\n    return store\r\n}\r\nexport class Store {\r\n    static instance = null;\r\n    constructor(state = {}) {\r\n        if (!Store.instance) {\r\n            Store.instance = initialStore(state);\r\n        }\r\n        return Store.instance;\r\n    }\r\n}\r\n\r\n","import React, { useState } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\n\r\nimport { UI_MESSAGE_MAPPING } from '@components/constants'\r\nimport {\r\n    booksSelectorBooks,\r\n    booksSelectorChapters,\r\n    booksSelectorVerses,\r\n} from '@assets/js/frontend/states/generalSlice'\r\nimport * as Layout from '@components/frontend/layouts'\r\n\r\nconst Tab = ({ isActive, onClick, children }) => {\r\n    const underlineClassNames = [\r\n        \"after:content-['']\",\r\n        'after:block',\r\n        'after:h-2px',\r\n        'after:w-full',\r\n        'after:absolute',\r\n        'after:-bottom-px',\r\n        'after:left-0',\r\n        'after:bg-red-600',\r\n    ]\r\n    const classNames = [\r\n        'relative',\r\n        'px-12px',\r\n        'py-8px',\r\n        ...(isActive ? underlineClassNames : []),\r\n        'cursor-pointer',\r\n    ].join(' ')\r\n    return (\r\n        <div className={classNames} onClick={onClick}>\r\n            {children}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst BookTab = ({ classname: extraClassName = '' }) => {\r\n    const triggerTabs = useSelector((state) => state.general.booksSelector)\r\n    const classNames = [\r\n        'border-t',\r\n        'justify-around',\r\n        ...extraClassName.split(' '),\r\n    ].join(' ')\r\n\r\n    const dispatch = useDispatch()\r\n    const onClickTabBook = () => dispatch(booksSelectorBooks())\r\n    const onClickTabChapter = () => dispatch(booksSelectorChapters())\r\n    const onClickTabVerse = () => dispatch(booksSelectorVerses())\r\n\r\n    return (\r\n        <Layout.Top.Row className={classNames}>\r\n            <Tab isActive={triggerTabs.books} onClick={onClickTabBook}>\r\n                {UI_MESSAGE_MAPPING['bible-directory/book']}\r\n            </Tab>\r\n            <Tab isActive={triggerTabs.chapters} onClick={onClickTabChapter}>\r\n                {UI_MESSAGE_MAPPING['bible-directory/chapter']}\r\n            </Tab>\r\n            <Tab isActive={triggerTabs.verses} onClick={onClickTabVerse}>\r\n                {UI_MESSAGE_MAPPING['bible-directory/verse']}\r\n            </Tab>\r\n        </Layout.Top.Row>\r\n    )\r\n}\r\n\r\nexport { BookTab }\r\n","import React from 'react'\r\n\r\nconst BooksSelector = ({ range = [], onClick }) => {\r\n    const toggleRange =\r\n        Array.isArray(range) && range.length === 2 ? (\r\n            <>\r\n                <div className=\"h-px mx-1 bg-gray-400 w-8px\"></div>\r\n                <div className=\"text-center leading-18px md:leading-22px w-96px md:w-144px py-5px md:py-8px\">\r\n                    <span>{range.pop()}</span>\r\n                </div>\r\n            </>\r\n        ) : null\r\n    return (\r\n        <div\r\n            className=\"flex items-center overflow-hidden bg-white border border-dashed border-gray-300 rounded-sm cursor-pointer\"\r\n            onClick={onClick}\r\n        >\r\n            <div className=\"text-center leading-18px md:leading-22px min-w-96px md:min-w-144px p-5px md:p-8px\">\r\n                <span>{range.shift()}</span>\r\n            </div>\r\n            {toggleRange}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default BooksSelector\r\n","import React from 'react'\r\n\r\nconst Bordered = ({ children }) => {\r\n    return (\r\n        <div className=\"flex items-center leading-18px md:leading-22px justify-center overflow-hidden bg-white border border-gray-300 rounded-sm w-72px md:w-80px py-5px md:py-8px\">\r\n            {children}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Bordered\r\n","import React from 'react'\r\n\r\nconst Borderless = ({ onClick, children }) => {\r\n    return (\r\n        <div\r\n            className=\"relative flex items-center justify-center overflow-hidden h-30px min-w-30px md:h-40px md:min-w-40px cursor-pointer\"\r\n            onClick={onClick}\r\n        >\r\n            {children}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Borderless\r\n","import React from 'react'\r\nimport { HiOutlineSearch } from 'react-icons/hi'\r\n\r\nimport Form from '@components/frontend/forms/Form'\r\n\r\nconst SearchBarInput = ({ expand, onSubmit, forwardRef, ...otherprops }) => {\r\n    const inputClassNames = [\r\n        'w-0',\r\n        'h-24px',\r\n        'outline-0',\r\n        '!p-0',\r\n        'line-height-24px',\r\n        'group-hover:w-auto',\r\n        ...(expand ? ['w-auto'] : []),\r\n    ].join(' ')\r\n    return (\r\n        <Form onSubmit={onSubmit}>\r\n            <div className=\"relative flex items-center justify-center overflow-hidden bg-white border border-gray-300 rounded-sm py-2px pl-5px pr-23px md:pl-9px md:pr-29px md:py-7px group\">\r\n                <input\r\n                    placeholder=\"輸入關鍵字進行搜尋\"\r\n                    type=\"text\"\r\n                    autoComplete=\"off\"\r\n                    className={inputClassNames}\r\n                    {...(!!forwardRef ? { ref: forwardRef } : {})}\r\n                    {...(!!otherprops ? otherprops : {})}\r\n                />\r\n                <HiOutlineSearch className=\"absolute h-20px w-20px right-4px md:right-10px text-neutral-600\" />\r\n            </div>\r\n        </Form>\r\n    )\r\n}\r\n\r\nexport default SearchBarInput\r\n","import React, { forwardRef } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { motion } from 'framer-motion'\r\nimport { AiOutlineExpand, AiOutlineCompress } from 'react-icons/ai'\r\nimport { BsPlus } from 'react-icons/bs'\r\nimport { MdHistoryToggleOff } from 'react-icons/md'\r\nimport Ripples from 'react-ripples'\r\n\r\nimport {\r\n    toggleScreen,\r\n    toggleDrawer,\r\n    switchHeadersBooks,\r\n} from '@assets/js/frontend/states/generalSlice'\r\nimport SearchBarInput from '@components/frontend/tools/SearchBarInput'\r\nimport BibleSelector from '@components/frontend/tools/BooksSelector'\r\nimport BorderlessBlock from '@components/frontend/tools/Borderless'\r\nimport BorderedBlock from '@components/frontend/tools/Bordered'\r\n\r\nconst SearchBar = forwardRef(({ expand, onSubmit, ...otherprops }, ref) => {\r\n    return (\r\n        <Ripples>\r\n            <SearchBarInput\r\n                expand={expand}\r\n                onSubmit={onSubmit}\r\n                forwardRef={ref}\r\n                {...otherprops}\r\n            />\r\n        </Ripples>\r\n    )\r\n})\r\n\r\nconst Borderless = ({ label, className, disabled, onClick, children }) => {\r\n    const classNames = [className].join(' ')\r\n    return (\r\n        <Ripples\r\n            onClick={(e) => {\r\n                if (disabled) return\r\n                onClick(e)\r\n            }}\r\n            className={classNames}\r\n        >\r\n            <BorderlessBlock>{children}</BorderlessBlock>\r\n            {typeof label === 'string' && label.length > 0 ? (\r\n                <div\r\n                    className={[\r\n                        'flex items-center md:leading-22px p-5px md:p-8px md:pl-0 cursor-pointer',\r\n                        disabled ? 'text-gray-400' : '',\r\n                    ].join(' ')}\r\n                >\r\n                    {label}\r\n                </div>\r\n            ) : null}\r\n        </Ripples>\r\n    )\r\n}\r\n\r\nconst Bordered = ({ onClick, children }) => {\r\n    return (\r\n        <Ripples onClick={onClick}>\r\n            <BorderedBlock>{children}</BorderedBlock>\r\n        </Ripples>\r\n    )\r\n}\r\n\r\nconst FullScreenToggle = () => {\r\n    const fullscreen = useSelector((state) => state.general.fullscreen)\r\n    const Icon = fullscreen ? (\r\n        <AiOutlineCompress className=\"h-20px w-20px right-4px md:right-10px text-neutral-700\" />\r\n    ) : (\r\n        <AiOutlineExpand className=\"h-20px w-20px right-4px md:right-10px text-neutral-700\" />\r\n    )\r\n    const dispatch = useDispatch()\r\n    return (\r\n        <Ripples>\r\n            <Borderless onClick={() => dispatch(toggleScreen())}>\r\n                {Icon}\r\n            </Borderless>\r\n        </Ripples>\r\n    )\r\n}\r\n\r\nconst BooksSelectorButton = ({ range = [] }) => {\r\n    const dispatch = useDispatch()\r\n    return (\r\n        <BibleSelector\r\n            onClick={() => dispatch(switchHeadersBooks())}\r\n            range={range}\r\n        />\r\n    )\r\n}\r\n\r\nconst AddNewPostButton = ({\r\n    showOn = false,\r\n    className: extraClassname = '',\r\n}) => {\r\n    const classNames = [\r\n        'absolute',\r\n        'right-35px',\r\n        'bottom-35px',\r\n        'rounded-full',\r\n        'overflow-hidden',\r\n        'bg-gray-100',\r\n        'drop-shadow-md',\r\n        ...extraClassname.split(' '),\r\n    ].join(' ')\r\n    const dispatch = useDispatch()\r\n    return (\r\n        <motion.div\r\n            animate={{\r\n                y: showOn ? '0%' : '200%',\r\n            }}\r\n            transition={{ ease: 'easeOut' }}\r\n            initial={false}\r\n            className={classNames}\r\n        >\r\n            <Ripples>\r\n                <button\r\n                    className=\"w-full p-5px\"\r\n                    onClick={() => {\r\n                        dispatch(toggleDrawer({ name: 'new-post' }))\r\n                    }}\r\n                >\r\n                    <BsPlus className=\"h-40px w-40px text-neutral-700\" />\r\n                </button>\r\n            </Ripples>\r\n        </motion.div>\r\n    )\r\n}\r\n\r\nconst CurrentRawsSelected = () => {\r\n    const selectedRaws = useSelector((state) => state.selected.raws)\r\n    const booksDataSelector = useSelector((state) => [\r\n        ...state.data.books.old,\r\n        ...state.data.books.new,\r\n    ])\r\n    const displayCurrentSelected = selectedRaws.reduce(\r\n        (acc, raw, index, raws) => {\r\n            const bookIndex = raw.book\r\n            const bookFilterd = booksDataSelector.filter(\r\n                (book) => book.index === bookIndex\r\n            )\r\n            const abbrName = bookFilterd[0].abbr\r\n            if (index === 0) {\r\n                acc.push(`${abbrName} ${raw.chapter}:${raw.verse}`)\r\n                return acc\r\n            }\r\n            if (Math.abs(raw.id - raws[index - 1].id) === 1) {\r\n                acc[acc.length - 1] = acc[acc.length - 1].replace(\r\n                    /\\-\\d{0,3}/,\r\n                    ''\r\n                )\r\n                acc[acc.length - 1] += `-${raw.verse}`\r\n                return acc\r\n            }\r\n            acc.push(`${raw.chapter}:${raw.verse}`)\r\n            return acc\r\n        },\r\n        []\r\n    )\r\n    const dispatch = useDispatch()\r\n    return (\r\n        <Ripples>\r\n            <div\r\n                className=\"flex items-center overflow-hidden bg-white border border-dashed border-gray-300 rounded-sm cursor-pointer\"\r\n                onClick={() =>\r\n                    dispatch(toggleDrawer({ name: 'selected-raws' }))\r\n                }\r\n            >\r\n                {displayCurrentSelected.length > 0 &&\r\n                !!displayCurrentSelected[0] ? (\r\n                    <div className=\"text-center leading-18px md:leading-22px p-5px md:p-8px\">\r\n                        <span>{displayCurrentSelected.join(', ')}</span>\r\n                    </div>\r\n                ) : null}\r\n                <div className=\"p-5px\">\r\n                    <MdHistoryToggleOff className=\"h-20px w-20px text-neutral-700\" />\r\n                </div>\r\n            </div>\r\n        </Ripples>\r\n    )\r\n}\r\n\r\nexport {\r\n    AddNewPostButton,\r\n    BooksSelectorButton,\r\n    CurrentRawsSelected,\r\n    Bordered,\r\n    Borderless,\r\n    FullScreenToggle,\r\n    SearchBar,\r\n}\r\n","import { generatePath } from 'react-router-dom'\r\nimport { createBrowserHistory } from \"history\";\r\n\r\nimport { Store } from '@assets/js/frontend/store'\r\nimport { bibleApi } from '@components/services'\r\nimport { clickBookSelector, updatePageSwipper } from '@assets/js/frontend/states/generalSlice'\r\nimport { updateReadingQuerys } from '@assets/js/frontend/states/dataSlice'\r\nimport { queryStringModifier } from '@components/common'\r\n\r\nexport { queryStringModifier }\r\n\r\nexport const generateVerseUrl = (bookAbbr, chapter, number) => {\r\n    return generatePath('/bible/:books/:verse', {\r\n        books: bookAbbr,\r\n        verse: `${chapter}:${number}`,\r\n    })\r\n}\r\n\r\nexport const generateRestRangeParam = ({ books1, verse1, books2, verse2 }) => {\r\n    const range =\r\n        books2 && verse2\r\n            ? [`${books1}${verse1}`, `${books2}${verse2}`]\r\n            : [`${books1}${verse1}`]\r\n    return range\r\n}\r\n\r\nexport const retrieveChapterByParamString = (paramString) => {\r\n    const matched = paramString.match(/[0-9]?[a-z]+(\\d{0,3}):?(\\d{0,3})/i)\r\n    return Number(matched[1])\r\n}\r\n\r\nexport const retrieveBookIndexBySlug = (slug) => {\r\n    const { getState } = new Store()\r\n    const { data } = getState()\r\n    const bookData = [...data.books.old, ...data.books.new]\r\n    const bookFiltered = bookData.filter((book) => book.slug === slug)\r\n    if (bookFiltered.length === 0) {\r\n        return new Error(`Can not find book by slug: ${slug}`)\r\n    }\r\n    const bookIndex = bookFiltered[0].index\r\n    return bookIndex\r\n}\r\n\r\nexport const validIsQueryWholeChapter = (querys, chapterVerseInfo) => {\r\n    if (!chapterVerseInfo) {\r\n        return new Error(`Parma chapterVerseInfo is must needed.`)\r\n    }\r\n    if (!Array.isArray(querys) || querys.length === 0) {\r\n        return new Error(`Parma querys length equal 0.`)\r\n    }\r\n    if (querys.length > 2) {\r\n        return new Error(`Parma querys length should be less then 2.`)\r\n    }\r\n    if (querys.length === 1) {\r\n        return true\r\n    }\r\n    if (querys[0].book.index !== querys[1].book.index) {\r\n        return false\r\n    }\r\n    if (Number(querys[0].chapter) !== Number(querys[1].chapter)) {\r\n        return false\r\n    }\r\n    if (Number(querys[0].verse) !== 1) {\r\n        return false\r\n    }\r\n    const maxVerseNumber =\r\n        chapterVerseInfo[querys[0].book.index][querys[0].chapter]\r\n    if (Number(querys[1].verse) !== maxVerseNumber) {\r\n        return false\r\n    }\r\n    return true\r\n}\r\n\r\nexport const generateRandomlyChapter = (assignSchema) => {\r\n    const { getState } = new Store()\r\n    const { data } = getState()\r\n    let schema = assignSchema\r\n    if (!Array.isArray(schema) || schema.length === 0) {\r\n        schema = ['book', 'chapter', 'verse']\r\n    }\r\n    const bookData = [...data.books.old, ...data.books.new]\r\n    const bookIndexRandomly = Math.round(Math.random() * bookData.length)\r\n    const maxChapterNumberOfCurrentBook = bookData[bookIndexRandomly].chapters\r\n    const chapterIndexRandomly = Math.floor(Math.random() * maxChapterNumberOfCurrentBook) + 1\r\n    console.log(bookData, bookIndexRandomly, maxChapterNumberOfCurrentBook, chapterIndexRandomly)\r\n    return {\r\n        book: bookData[bookIndexRandomly],\r\n        chapter: chapterIndexRandomly,\r\n        verse: 1,\r\n    }\r\n}\r\n\r\nexport const goToVerse = async function (bookIndex, chapter, maxVerseNumberOfChapter) {\r\n    const { dispatch, getState } = new Store()\r\n    const { data } = getState()\r\n    let maxVerseNumber = maxVerseNumberOfChapter\r\n    if (!maxVerseNumber) {\r\n        const { chapterVerseInfo } = data.translation.info\r\n        maxVerseNumber = chapterVerseInfo[bookIndex][chapter]\r\n    }\r\n    const bookData = [...data.books.old, ...data.books.new]\r\n    const book = bookData[bookIndex - 1]\r\n    const prepareQueryString = [\r\n        { book, chapter, verse: 1 },\r\n        { book, chapter, verse: maxVerseNumber },\r\n    ]\r\n\r\n    await dispatch(updateReadingQuerys(prepareQueryString))\r\n}\r\n\r\nexport const onClickVerse = async function ({\r\n    book: bookIndex,\r\n    chapter,\r\n    verse,\r\n    maxVerseNumberOfChapter,\r\n}) {\r\n    const { dispatch } = new Store()\r\n    goToVerse(bookIndex, chapter, maxVerseNumberOfChapter)\r\n    await dispatch(\r\n        clickBookSelector({\r\n            verses: Number(verse),\r\n        })\r\n    )\r\n}\r\n\r\nexport const onSwipMoveChapterPage = (chapterPaged, offest) => {\r\n    const { dispatch, getState } = new Store()\r\n    const { data } = getState()\r\n    const { readingQuerys } = data\r\n\r\n    const newChapterPaged = chapterPaged + offest\r\n\r\n    dispatch(\r\n        bibleApi.util.prefetch('getBibleRaw', {\r\n            ranges: [`${readingQuerys[0].book.slug}${newChapterPaged}:1`],\r\n            withPrevChapter: true,\r\n            withNextChapter: true,\r\n        }, { force: false, ifOlderThan: 10 })\r\n    )\r\n}\r\n\r\nexport const onCompletedSwipMoveChapter = ({ currentBookIndex, chapterPaged, readingQuerys }, offest, pagePos, onTransition) => {\r\n    const history = createBrowserHistory();\r\n    const { dispatch, getState } = new Store()\r\n    const { data, general } = getState()\r\n\r\n    const { chapterVerseInfo } = data.translation.info\r\n    const { routerMode } = general\r\n\r\n    const newChapterPaged = chapterPaged + offest\r\n\r\n    const newReadingQuerys = [\r\n        {\r\n            book: { ...readingQuerys[0].book },\r\n            chapter: newChapterPaged,\r\n            verse: 1,\r\n        },\r\n        {\r\n            book: { ...readingQuerys[1].book },\r\n            chapter: newChapterPaged,\r\n            verse: chapterVerseInfo[currentBookIndex][newChapterPaged],\r\n        },\r\n    ]\r\n    // setChapterPaged(newChapterPaged)\r\n    dispatch(updateReadingQuerys(newReadingQuerys))\r\n    dispatch(\r\n        updatePageSwipper({\r\n            pagePos,\r\n            onTransition,\r\n        })\r\n    )\r\n\r\n    if (routerMode === 'history') {\r\n        history.push(generateVerseUrl(newReadingQuerys[0].book.slug, newChapterPaged, 1))\r\n    }\r\n}","import Joi from 'joi'\r\n\r\nimport { PRODUCT_SLUGS, IDENTITY_TYPE } from '@components/constants'\r\n\r\nconst fields = {\r\n    email: Joi.string().email({\r\n        minDomainSegments: 2,\r\n        tlds: { allow: ['com', 'net', 'tw', 'org', 'io', 'app', 'test'] },\r\n    }),\r\n    identity_type: Joi.string().valid(IDENTITY_TYPE),\r\n    product_slug: Joi.string().valid(...PRODUCT_SLUGS),\r\n    username: Joi.string().min(5).max(30),\r\n    password: Joi.string().pattern(new RegExp('^[a-zA-Z0-9!@#$%]{3,30}$')),\r\n    license: Joi.string(),\r\n    searchKeyword: Joi.string(),\r\n}\r\n\r\nexport const signinLogosFields = Joi.object({\r\n    identity_type: fields.identity_type.required(),\r\n    username: fields.username.required(),\r\n    password: fields.password.required(),\r\n})\r\n\r\nexport const verifyEmailLogosFields = Joi.object({\r\n    email: fields.email.required(),\r\n    activation_key: Joi.string().empty(''),\r\n})\r\n\r\nexport const forgotPasswordLogosFields = Joi.object({\r\n    email: fields.email.required(),\r\n    auth_code: Joi.string().empty(''),\r\n    password: fields.password.empty(''),\r\n    confirm_password: fields.password.empty(''),\r\n})\r\n\r\nexport const activateRhemeaFields = Joi.object({\r\n    email: fields.email.required(),\r\n    identity_type: fields.identity_type.required(),\r\n    product_slug: fields.product_slug.required(),\r\n    username: fields.username.required(),\r\n    password: fields.password.required(),\r\n    confirm_password: Joi.ref('password'),\r\n})\r\n\r\nexport const activateRhemeaByLicense = Joi.object({\r\n    email: fields.email.required(),\r\n    identity_type: fields.identity_type.required(),\r\n    product_slug: fields.product_slug.required(),\r\n    username: fields.username.required(),\r\n    license: fields.license.required(),\r\n})\r\n\r\nexport const searchBibleRawsByKeyword = Joi.object({\r\n    words: fields.searchKeyword,\r\n})\r\n","import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react'\r\nimport shortHash from 'shorthash2'\r\n\r\nimport RHEMA_LOCALIZE from 'RHEMA_LOCALIZE'\r\nimport { retrieveLogosSignedToken } from '@components/common'\r\nimport {\r\n    PRODUCT_SLUG_2_REST_NAME_MAP,\r\n    PRODUCT_SLUGS,\r\n} from '@components/constants'\r\n\r\nconst prepareHeaders = (headers) => {\r\n    const nonce =\r\n        RHEMA_LOCALIZE?.RHEMA_BACKEND?.NONCE ||\r\n        RHEMA_LOCALIZE?.RHEMA_INITAIL_DATA?.NONCE\r\n\r\n    if (nonce) {\r\n        headers.set('X-WP-Nonce', nonce)\r\n    }\r\n\r\n    return headers\r\n}\r\n\r\nexport const optionsApi = createApi({\r\n    reducerPath: 'api.options',\r\n    baseQuery: fetchBaseQuery({\r\n        baseUrl: RHEMA_LOCALIZE.RHEMA_REST_ENDPOINTS.options,\r\n        prepareHeaders,\r\n    }),\r\n    endpoints: (builder) => ({\r\n        updateOptions: builder.mutation({\r\n            query: (body) => {\r\n                return {\r\n                    method: 'POST',\r\n                    body,\r\n                }\r\n            },\r\n            transformResponse: (response) => {\r\n                return response\r\n            },\r\n            transformErrorResponse: (response) => {\r\n                return response\r\n            },\r\n        }),\r\n    }),\r\n})\r\n\r\nexport const { useUpdateOptionsMutation } = optionsApi\r\n\r\nexport const bibleApi = createApi({\r\n    reducerPath: 'api.bible',\r\n    baseQuery: fetchBaseQuery({\r\n        baseUrl: RHEMA_LOCALIZE.RHEMA_REST_ENDPOINTS.bible,\r\n        prepareHeaders,\r\n    }),\r\n    endpoints: (builder) => ({\r\n        getBibleRaw: builder.query({\r\n            query: ({ ranges = [], withPrevChapter, withNextChapter }) => {\r\n                if (typeof ranges === 'string') {\r\n                    ranges = [ranges]\r\n                }\r\n                const withPrevChapterQueryString = withPrevChapter\r\n                    ? '&with_prev_chapter=1'\r\n                    : ''\r\n                const withNextChapterQueryString = withNextChapter\r\n                    ? '&with_next_chapter=1'\r\n                    : ''\r\n                return `${ranges.reduce((acc, range, index) => {\r\n                    const joiner = index === 0 ? '?' : '&'\r\n                    return `${acc}${joiner}range[]=${range}`\r\n                }, '')}${withPrevChapterQueryString}${withNextChapterQueryString}`\r\n            },\r\n            transformErrorResponse: (response) => {\r\n                console.log(response)\r\n                return response\r\n            },\r\n        }),\r\n    }),\r\n})\r\n\r\nexport const { useGetBibleRawQuery, usePrefetch } = bibleApi\r\n\r\nexport const searchApi = createApi({\r\n    reducerPath: 'api.search',\r\n    baseQuery: fetchBaseQuery({\r\n        baseUrl: RHEMA_LOCALIZE.RHEMA_REST_ENDPOINTS.bible,\r\n        prepareHeaders,\r\n    }),\r\n    endpoints: (builder) => ({\r\n        searchBibleRaws: builder.query({\r\n            query: ({ words, paged = 1, size = 20 }) => {\r\n                return `search?words=${words}&from=${(paged - 1) * size}`\r\n            },\r\n            serializeQueryArgs: ({ queryArgs, endpointName }) => {\r\n                const { words } = queryArgs\r\n                if (typeof words === 'undefined') {\r\n                    return endpointName\r\n                }\r\n                const shortHashString = shortHash(words)\r\n                return `${endpointName}_${shortHashString}`\r\n            },\r\n            merge: (currentCache, newItems) => {\r\n                console.log('merge')\r\n                const currentItems = currentCache.data.hits.hits\r\n                const currentIds = currentItems.map((item) => {\r\n                    return item._id\r\n                })\r\n                const newPushItems = newItems.data.hits.hits.filter((item) => {\r\n                    return !currentIds.includes(item._id)\r\n                })\r\n                currentItems.push(...newPushItems)\r\n            },\r\n            transformResponse: (response) => {\r\n                // console.log(response)\r\n                return response\r\n            },\r\n            transformErrorResponse: (response) => {\r\n                // console.log(response)\r\n                return response\r\n            },\r\n            forceRefetch({ currentArg, previousArg }) {\r\n                if (typeof previousArg === 'undefined') {\r\n                    return true\r\n                }\r\n                if (currentArg?.words !== previousArg?.words) {\r\n                    console.log(\r\n                        'forceRefetch',\r\n                        currentArg?.words !== previousArg?.words\r\n                    )\r\n                    return true\r\n                }\r\n                if (currentArg?.paged !== previousArg?.paged) {\r\n                    return true\r\n                }\r\n                return false\r\n            },\r\n        }),\r\n    }),\r\n})\r\n\r\nexport const { useSearchBibleRawsQuery } = searchApi\r\n\r\nexport const activateApi = createApi({\r\n    reducerPath: 'api.activate',\r\n    baseQuery: fetchBaseQuery({\r\n        baseUrl: RHEMA_LOCALIZE.RHEMA_REST_ENDPOINTS.activate,\r\n        prepareHeaders,\r\n    }),\r\n    endpoints: (builder) => ({\r\n        activateCore: builder.mutation({\r\n            query: (body) => {\r\n                const { product_slug: productSlug } = body\r\n                const restName = PRODUCT_SLUG_2_REST_NAME_MAP[productSlug]\r\n                if (typeof restName === 'undefined' || !restName) {\r\n                    throw new Error('Error in mutation.query')\r\n                }\r\n\r\n                return {\r\n                    url: PRODUCT_SLUG_2_REST_NAME_MAP[productSlug],\r\n                    method: 'POST',\r\n                    body,\r\n                }\r\n            },\r\n            transformResponse: (response) => {\r\n                return response\r\n            },\r\n            transformErrorResponse: (response) => {\r\n                return response\r\n            },\r\n        }),\r\n        activateFeatures: builder.mutation({\r\n            query: (body) => {\r\n                const { product_slug: productSlug } = body\r\n                const restName = PRODUCT_SLUG_2_REST_NAME_MAP[productSlug]\r\n                if (typeof restName === 'undefined' || !restName) {\r\n                    throw new Error('Error in mutation.query')\r\n                }\r\n\r\n                return {\r\n                    url: PRODUCT_SLUG_2_REST_NAME_MAP[productSlug],\r\n                    method: 'POST',\r\n                    body,\r\n                }\r\n            },\r\n            transformResponse: (response) => {\r\n                return response\r\n            },\r\n            transformErrorResponse: (response) => {\r\n                return response\r\n            },\r\n        }),\r\n        activateByLicense: builder.mutation({\r\n            query: (body) => {\r\n                const { product_slug: productSlug } = body\r\n                if (typeof productSlug === 'undefined' || !productSlug) {\r\n                    throw new Error('Error in mutation.query')\r\n                }\r\n                if (!PRODUCT_SLUGS.includes(productSlug)) {\r\n                    throw new Error('Error in mutation.query')\r\n                }\r\n                return {\r\n                    url: 'license',\r\n                    method: 'POST',\r\n                    body,\r\n                }\r\n            },\r\n        }),\r\n    }),\r\n})\r\n\r\nexport const { useActivateCoreMutation, useActivateFeaturesMutation, useActivateByLicenseMutation } =\r\n    activateApi\r\n\r\nexport const deactivateApi = createApi({\r\n    reducerPath: 'api.deactivate',\r\n    baseQuery: fetchBaseQuery({\r\n        baseUrl: RHEMA_LOCALIZE.RHEMA_REST_ENDPOINTS.deactivate,\r\n        prepareHeaders,\r\n    }),\r\n    endpoints: (builder) => ({\r\n        deactivate: builder.mutation({\r\n            query: (body) => {\r\n                const { product_slug, license } = body\r\n                if (!PRODUCT_SLUGS.includes(product_slug)) {\r\n                    throw new Error('Error in mutation.query')\r\n                }\r\n                return {\r\n                    method: 'POST',\r\n                    body: {\r\n                        product_slug,\r\n                        license,\r\n                    },\r\n                }\r\n            },\r\n            transformResponse: (response) => {\r\n                console.log(response)\r\n                return response\r\n            },\r\n            transformErrorResponse: (response) => {\r\n                console.log(response)\r\n                return response\r\n            },\r\n        }),\r\n    }),\r\n})\r\n\r\nexport const { useDeactivateMutation } = deactivateApi\r\n\r\nexport const signinApi = createApi({\r\n    reducerPath: 'api.signin',\r\n    baseQuery: fetchBaseQuery({\r\n        baseUrl: RHEMA_LOCALIZE.RHEMA_REST_ENDPOINTS.account,\r\n        prepareHeaders,\r\n    }),\r\n    endpoints: (builder) => ({\r\n        signin: builder.mutation({\r\n            query: (body) => {\r\n                return {\r\n                    url: 'signin',\r\n                    method: 'POST',\r\n                    body,\r\n                }\r\n            },\r\n            transformResponse: (response) => {\r\n                return response\r\n            },\r\n            transformErrorResponse: (response) => {\r\n                return response\r\n            },\r\n        }),\r\n    }),\r\n})\r\n\r\nexport const { useSigninMutation } = signinApi\r\n\r\nexport const sendVerifyApi = createApi({\r\n    reducerPath: 'api.sendverify',\r\n    baseQuery: fetchBaseQuery({\r\n        baseUrl: RHEMA_LOCALIZE.RHEMA_REST_ENDPOINTS.account,\r\n        prepareHeaders,\r\n    }),\r\n    endpoints: (builder) => ({\r\n        sendVerify: builder.mutation({\r\n            query: (body) => {\r\n                return {\r\n                    url: 'verify',\r\n                    method: 'POST',\r\n                    body,\r\n                }\r\n            },\r\n            transformResponse: (response) => {\r\n                return response\r\n            },\r\n            transformErrorResponse: (response) => {\r\n                return response\r\n            },\r\n        }),\r\n    }),\r\n})\r\n\r\nexport const { useSendVerifyMutation } = sendVerifyApi\r\n\r\nexport const sendForgotApi = createApi({\r\n    reducerPath: 'api.sendforgot',\r\n    baseQuery: fetchBaseQuery({\r\n        baseUrl: RHEMA_LOCALIZE.RHEMA_REST_ENDPOINTS.account,\r\n        prepareHeaders,\r\n    }),\r\n    endpoints: (builder) => ({\r\n        sendForgot: builder.mutation({\r\n            query: (body) => {\r\n                return {\r\n                    url: 'forgot',\r\n                    method: 'POST',\r\n                    body,\r\n                }\r\n            },\r\n            transformResponse: (response) => {\r\n                return response\r\n            },\r\n            transformErrorResponse: (response) => {\r\n                return response\r\n            },\r\n        }),\r\n    }),\r\n})\r\n\r\nexport const { useSendForgotMutation } = sendForgotApi\r\n\r\nexport const ordersApi = createApi({\r\n    reducerPath: 'api.orders',\r\n    baseQuery: fetchBaseQuery({\r\n        baseUrl: RHEMA_LOCALIZE.RHEMA_REST_ENDPOINTS.account,\r\n        prepareHeaders: (headers) => {\r\n            const nonce = RHEMA_LOCALIZE.RHEMA_BACKEND.NONCE\r\n\r\n            if (nonce) {\r\n                headers.set('X-WP-Nonce', nonce)\r\n            }\r\n\r\n            const token = retrieveLogosSignedToken(sessionStorage)\r\n\r\n            if (token) {\r\n                headers.set('Authorization', `Bearer ${token}`)\r\n            }\r\n\r\n            return headers\r\n        },\r\n    }),\r\n    endpoints: (builder) => ({\r\n        orders: builder.query({\r\n            query: () => ({\r\n                url: 'orders',\r\n            }),\r\n            transformResponse: (response) => {\r\n                return response\r\n            },\r\n            transformErrorResponse: (response) => {\r\n                return response\r\n            },\r\n        }),\r\n    }),\r\n})\r\n\r\nexport const { useOrdersQuery } = ordersApi\r\n","// extracted by mini-css-extract-plugin\nexport {};","module.exports = LOCALIZE_SCRIPT_VARIABLES;","module.exports = React;","module.exports = _;","module.exports = window[\"wp\"][\"coreData\"];","module.exports = window[\"wp\"][\"editPost\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"wp\"][\"plugins\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","var getProto = Object.getPrototypeOf ? function(obj) { return Object.getPrototypeOf(obj); } : function(obj) { return obj.__proto__; };\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach(function(key) { def[key] = function() { return value[key]; }; });\n\t}\n\tdef['default'] = function() { return value; };\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"blockeditor\": 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkrhema\"] = self[\"webpackChunkrhema\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [\"vendors\"], function() { return __webpack_require__(\"./assets/src/js/blockeditor.js\"); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n",""],"names":["registerPlugin","PluginSidebar","RHEMA_LOCALIZE","Sidebar","RHEMA_DOMAIN_TEXT","icon","render","React","useDispatch","useSelector","MemoryRouter","Routes","Route","Navigate","Pages","style","pluginFrontendCssUrl","RHEMA_BLOCK_EDITOR_CSS_URL","BibleSelector","useState","Provider","ReactShadowRoot","PanelBody","Panel","PanelRow","PanelHeader","Button","Modal","useEntityProp","__","Store","meta","setMeta","isOpen","setOpen","openModal","closeModal","e","type","key","console","trace","general","routerMode","layoutAllocationMode","footerSwitch","main","confirmSelection","queryStringModifier","queryString","Array","isArray","length","rangeFrom","rangeTo","isSameBook","book","name","isSameChapter","chapter","returnQueryString","verse","retrieveLogosSignedToken","sessionStorageApi","getItem","setLogosSignedToken","token","setItem","removeLogosSignedToken","removeItem","capitalizeFirstLetter","string","charAt","toUpperCase","slice","localDateTime","moment","value","timeZone","Object","prototype","hasOwnProperty","call","utcOffset","format","retrieveFontSize","size","sizeMap","sm","md","lg","retrieveResponseFromRTK","response","code","label","message","log","isJsonStr","str","JSON","parse","converterFilter","raws","chapterNumber","filter","raw","ACTIVATING_COUNT_DOWN_TIME","IDENTITY_TYPE","RHEMA_CONSTANTS","PRODUCT_SLUG_NAMES","DONATE","FEATURE_SLUG_NAMES","PRODUCT_SLUG_2_REST_NAME_MAP","keys","reduce","obj","slug","restName","FEATURE_NAMES","PRODUCT_SLUGS","values","ERROR_MESSAGE_MAPPING","rest_cookie_invalid_nonce","UI_MESSAGE_MAPPING","PropTypes","LinkVerse","clickBookSelector","onClickVerse","Block","onClick","className","extraClassName","title","desc","selected","children","hasTitle","hasDesc","sizeIsVaild","some","correctlySize","Error","Title","Desc","classNames","split","join","propTypes","func","bool","oneOfType","element","arrayOf","BlockWrap","extraClassname","Container","toggle","List","showBooksSelector","state","headersSwitch","books","booksDataSelector","data","booksData","Books","dispatch","toggleBooks","booksSelector","old","new","currentQueryString","readingQuerys","currentSelectionSelector","currentSelection","onClickBlock","bookIndex","index","map","idx","abbr","isSomeInCurrentQuery","query","isCurrentSelection","bind","object","Chapters","toggleChapters","chapters","chapterVerseInfo","translation","info","currentSelectionBookIndex","currentSelectionChapter","currentQueryBookIndexs","Number","currentQueryChapters","currentSelectionChapters","displayChapters","number","push","toString","Verses","toggleVerses","verses","currentSelectionBooks","isSameQueryBookChapter","every","arr","arrQuery","currentQueryChapterVerseInfo","accumulator","currentIndex","currentArray","currentQueryBook","currentQueryChapter","chapterMaxVerse","displayBooksIndex","displayChapterVerseInfo","isQueryAndSelectionSame","arrData","maxVerse","fill","ele","literalIntegral","fromIntegral","toIntegral","maxVerseNumberOfChapter","Link","Ripples","Highlighter","generateVerseUrl","KeywordLabel","StringLabel","DrawerTitle","Line","bookAbbr","chapterNum","verseNum","currentKeywords","search","keywords","current","bookAbbrString","max","FiChevronLeft","FiChevronRight","Layout","Tools","onSwipMoveChapterPage","onCompletedSwipMoveChapter","Main","stateData","showConfirm","pageSwipper","pagePos","currentBookIndex","chapterPaged","parseInt","maxChapterNumberOfCurrentBook","num","onMoveFirstPage","onMoveLastPage","color","Form","onSubmit","useForm","useSelect","useMultipleSelection","toggleDrawer","FieldRow","CategorySelector","options","setIsOpen","highlightedIndex","setHighlightedIndex","initialSelectedItems","getSelectedItemProps","getDropdownProps","addSelectedItem","removeSelectedItem","selectedItems","getFilteredItems","items","item","indexOf","preventDefault","selectedItem","stopPropagation","preventKeyAction","backgroundColor","Footer","Posts","register","handleSubmit","errors","formState","required","joiResolver","BiChevronLeft","BiFontSize","FieldSchama","switchHeadersMain","changeFontSize","switchHeadersSearch","changeSearchPaged","inputSearchKeywords","Tabs","hideReadingTool","showMainHeader","showSearchHeader","searchFormMethods","defaultValues","words","resolver","searchBibleRawsByKeyword","isSearching","isSubmitting","onClickFontSize","showBooksHeader","Selection","showSelectionHeader","selection","useMemo","useParams","Skeleton","Paragraph","Page","Content","retrieveBookIndexBySlug","BibleRaws","bookRaws","selectedRaws","bookSlugOfParam","books1","prepareChaptersSlot","slotIdx","slotChapterNumber","fetchedChapterRaws","maxVerseNumber","renderChapters","returnChapters","chapterPageNumber","pagesCount","middleChapterIndex","findIndex","sort","a","pageIdx","isWaitingLoading","shouldPicked","selectedRaw","id","text","Body","showScroll","allocationMode","classnames","Bottom","useEffect","clamp","Swipe","useResizeObserver","updatePageSwipper","PageWrapper","pagePosition","currentBookMaxChapter","currentChapter","onCompletedMove","pageWrappersRef","useRef","changePageMovePercentageThreshold","currentChapterNumber","initialPos","showMain","fullscreen","onTransition","currentContentMaxHeight","setCurrentContentMaxHeight","movePercentage","setMovePercentage","onSwipeMove","position","event","movePercentageX","x","screen","width","toFixed","onSwipeEnd","moveAbsPercentage","Math","abs","nextPagePos","handlerOnTransitionEnd","offsetNext","pagePosNext","pageClassNames","currentContentDom","clientHeight","entry","maxHeight","child","onTransitionEnd","onMoveStartPage","onMoveEndPage","motion","FiMinusSquare","Drawer","showDrawer","drawer","display","transitionEnd","ease","SelectedRaw","bookData","useCallback","ref","addEventListener","removeEventListener","transform","Top","__wpAdminBar","document","getElementById","hasWpAdminBar","isWpAdmin","body","classList","contains","topBarHeight","LeftSide","MiddleSide","RightSide","Row","isEqual","BodyComponent","AppContainer","fullscreenStyle","someDrawerOpend","hasFooter","RawsContent","memo","prev","next","Headers","Search","useGetBibleRawQuery","switchHeadersBooks","generateRestRangeParam","retrieveChapterByParamString","validIsQueryWholeChapter","loadRaws","isAfterReload","isQueryWholeChapter","urlParams","ranges","withPrevChapter","withNextChapter","error","isFetching","resetErrorBoundary","RHEMA_FRONTEND_CSS_URL","displayMsg","useNavigate","generateRandomlyChapter","updateReadingQuerys","MemoContainer","Home","RandomlyChapter","navigate","randomlyChapter","newReadingQuerys","Footers","Forms","goToVerse","stateGeneral","params","bookSlugOfUrlParam","chapterVerseOfUrlParam","verse1","urlBookIndex","urlChapter","match","useLongPress","switchHeadersSelection","putRaw","delRaw","RelateContent","picked","active","block","isSelectionMode","displaySetting","fontSize","rawIndex","threshold","cancelOnMovement","cancelOutsideElement","selectedRawIndex","isSelectedRaw","generateBeforeContentClassName","beforeIsWider","useSearchBibleRawsQuery","Results","paged","history","showSearchResults","skip","currentData","isLoading","isUninitialized","results","total","hits","loadingLine","hasMore","hasError","keyword","createSlice","merge","initialQuery","RHEMA_INITAIL_DATA","QUERYS","defaultState","RAW","BOOKS","TRANSLATION","ABBR","INFO","initialState","dataSlice","reducers","action","payload","newDiffRaws","newFetchedRaw","fetchedRaw","prepareRaws","b","insertRaw","actions","reducer","pagenation","disableAllHeader","forEach","generalSlice","toggleScreen","getElementsByTagName","newValue","overflow","drawerName","booksSelectorToggle","booksSelectorBooks","booksSelectorChapters","booksSelectorVerses","payloadKeys","currentClickBookChapterVerses","includes","sizes","currentSizeIndex","nextfontSize","selectedSlice","targetID","targetIndex","splice","clearRaw","configureStore","setupListeners","bibleApi","searchApi","generalReducer","generalState","dataReducer","dataState","selectedReducer","selectedState","initialStore","store","reducerPath","middleware","getDefaultMiddleware","concat","preloadedState","instance","Tab","isActive","underlineClassNames","BookTab","classname","triggerTabs","onClickTabBook","onClickTabChapter","onClickTabVerse","BooksSelector","range","toggleRange","pop","shift","Bordered","Borderless","HiOutlineSearch","SearchBarInput","expand","forwardRef","otherprops","inputClassNames","AiOutlineExpand","AiOutlineCompress","BsPlus","MdHistoryToggleOff","BorderlessBlock","BorderedBlock","SearchBar","disabled","FullScreenToggle","Icon","BooksSelectorButton","AddNewPostButton","showOn","y","CurrentRawsSelected","displayCurrentSelected","acc","bookFilterd","abbrName","replace","generatePath","createBrowserHistory","books2","verse2","paramString","matched","getState","bookFiltered","querys","assignSchema","schema","bookIndexRandomly","round","random","chapterIndexRandomly","floor","prepareQueryString","offest","newChapterPaged","util","prefetch","force","ifOlderThan","Joi","fields","email","minDomainSegments","tlds","allow","identity_type","valid","product_slug","username","min","password","pattern","RegExp","license","searchKeyword","signinLogosFields","verifyEmailLogosFields","activation_key","empty","forgotPasswordLogosFields","auth_code","confirm_password","activateRhemeaFields","activateRhemeaByLicense","createApi","fetchBaseQuery","shortHash","prepareHeaders","headers","nonce","RHEMA_BACKEND","NONCE","set","optionsApi","baseQuery","baseUrl","RHEMA_REST_ENDPOINTS","endpoints","builder","updateOptions","mutation","method","transformResponse","transformErrorResponse","useUpdateOptionsMutation","bible","getBibleRaw","withPrevChapterQueryString","withNextChapterQueryString","joiner","usePrefetch","searchBibleRaws","serializeQueryArgs","queryArgs","endpointName","shortHashString","currentCache","newItems","currentItems","currentIds","_id","newPushItems","forceRefetch","currentArg","previousArg","activateApi","activate","activateCore","productSlug","url","activateFeatures","activateByLicense","useActivateCoreMutation","useActivateFeaturesMutation","useActivateByLicenseMutation","deactivateApi","deactivate","useDeactivateMutation","signinApi","account","signin","useSigninMutation","sendVerifyApi","sendVerify","useSendVerifyMutation","sendForgotApi","sendForgot","useSendForgotMutation","ordersApi","sessionStorage","orders","useOrdersQuery"],"sourceRoot":""}