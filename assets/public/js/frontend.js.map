{"version":3,"file":"js/frontend.js","mappings":"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;;;ACAA;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;UAEA;UACA;;;;;WC5BA;WACA;WACA;WACA;WACA,+BAA+B,wCAAwC;WACvE;WACA;WACA;WACA;WACA,iBAAiB,qBAAqB;WACtC;WACA;WACA,kBAAkB,qBAAqB;WACvC;WACA;WACA,KAAK;WACL;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;;;;WC3BA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,GAAG;WACH;WACA;WACA,CAAC;;;;;WCPD;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;WCNA;WACA;WACA;WACA;WACA;;;;;WCJA;;WAEA;WACA;WACA;WACA;WACA;WACA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,MAAM,qBAAqB;WAC3B;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;;;;;UEhDA;UACA;UACA;UACA;UACA","sources":["webpack://rhema/./assets/src/js/common/index.js","webpack://rhema/./assets/src/js/constants.js","webpack://rhema/./assets/src/js/frontend.js","webpack://rhema/./assets/src/js/frontend/App.jsx","webpack://rhema/./assets/src/js/frontend/books/index.jsx","webpack://rhema/./assets/src/js/frontend/components/index.jsx","webpack://rhema/./assets/src/js/frontend/forms/index.jsx","webpack://rhema/./assets/src/js/frontend/headers/index.jsx","webpack://rhema/./assets/src/js/frontend/layouts/index.jsx","webpack://rhema/./assets/src/js/frontend/pages/chapters.jsx","webpack://rhema/./assets/src/js/frontend/pages/error.jsx","webpack://rhema/./assets/src/js/frontend/pages/home.jsx","webpack://rhema/./assets/src/js/frontend/pages/index.jsx","webpack://rhema/./assets/src/js/frontend/pages/verses.jsx","webpack://rhema/./assets/src/js/frontend/paragraph/index.jsx","webpack://rhema/./assets/src/js/frontend/search/index.jsx","webpack://rhema/./assets/src/js/frontend/states/dataSlice.js","webpack://rhema/./assets/src/js/frontend/states/generalSlice.js","webpack://rhema/./assets/src/js/frontend/states/selectedSlice.js","webpack://rhema/./assets/src/js/frontend/store.js","webpack://rhema/./assets/src/js/frontend/tabs/index.jsx","webpack://rhema/./assets/src/js/frontend/tools/index.jsx","webpack://rhema/./assets/src/js/frontend/utilities.js","webpack://rhema/./assets/src/js/schema/index.js","webpack://rhema/./assets/src/js/services/index.js","webpack://rhema/./assets/src/postcss/frontend.pcss","webpack://rhema/external var \"LOCALIZE_SCRIPT_VARIABLES\"","webpack://rhema/external window [\"wp\",\"i18n\"]","webpack://rhema/webpack/bootstrap","webpack://rhema/webpack/runtime/chunk loaded","webpack://rhema/webpack/runtime/compat get default export","webpack://rhema/webpack/runtime/define property getters","webpack://rhema/webpack/runtime/global","webpack://rhema/webpack/runtime/hasOwnProperty shorthand","webpack://rhema/webpack/runtime/make namespace object","webpack://rhema/webpack/runtime/node module decorator","webpack://rhema/webpack/runtime/jsonp chunk loading","webpack://rhema/webpack/before-startup","webpack://rhema/webpack/startup","webpack://rhema/webpack/after-startup"],"sourcesContent":["export const retrieveLogosSignedToken = (sessionStorageApi) => {\r\n    try {\r\n        return sessionStorageApi.getItem('logos.token')\r\n    } catch (e) {\r\n        return ''\r\n    }\r\n}\r\n\r\nexport const setLogosSignedToken = (sessionStorageApi, token) => {\r\n    try {\r\n        sessionStorageApi.setItem('logos.token', token)\r\n    } catch (e) {\r\n        return false\r\n    }\r\n    return true\r\n}\r\n\r\nexport const removeLogosSignedToken = (sessionStorageApi) => {\r\n    try {\r\n        sessionStorageApi.removeItem('logos.token')\r\n    } catch (e) {\r\n        return false\r\n    }\r\n    return true\r\n}\r\n\r\nexport const capitalizeFirstLetter = (string) => {\r\n    return string.charAt(0).toUpperCase() + string.slice(1)\r\n}\r\n\r\nexport const localDateTime = (moment, value, timeZone = 0) => {\r\n    if (\r\n        !moment ||\r\n        typeof moment !== 'function' ||\r\n        Object.prototype.hasOwnProperty.call(moment, 'utcOffset') ||\r\n        Object.prototype.hasOwnProperty.call(moment, 'format')\r\n    ) {\r\n        return value\r\n    }\r\n    return moment(value).utcOffset(timeZone).format('YYYY/MM/DD hh:mm:ss')\r\n}\r\nexport const retrieveFontSize = (size) => {\r\n    const sizeMap = {\r\n        sm: 'text-14px',\r\n        md: 'text-16px',\r\n        lg: 'text-18px',\r\n    }\r\n    if (typeof sizeMap[size] === 'undefined') {\r\n        return 'text-16px'\r\n    }\r\n    return sizeMap[size]\r\n}\r\nexport const retrieveResponseFromRTK = (response) => {\r\n    let code =''\r\n    let label = ''\r\n    let message = 'There has been a critical error.'\r\n    if (response) {\r\n        console.log('response')\r\n    }\r\n    return {\r\n        code,\r\n        label,\r\n        message,\r\n    }\r\n}\r\nexport const isJsonStr = (str) => {\r\n    try {\r\n        JSON.parse(str)\r\n    } catch (e) {\r\n        return false\r\n    }\r\n    return true\r\n}\r\n\r\nexport const converterFilter = (raws, chapterNumber) => {\r\n    return raws.filter((raw) => raw.chapter === chapterNumber)\r\n}","import { __ } from '@wordpress/i18n'\r\n\r\nimport RHEMA_LOCALIZE from 'RHEMA_LOCALIZE'\r\n\r\nexport const ACTIVATING_COUNT_DOWN_TIME = 4000\r\nexport const IDENTITY_TYPE = 'domain'\r\nexport const PRODUCT_SLUG_REST_NAME_MAP = {\r\n    'wp-rhema-core-feature': 'core',\r\n}\r\nexport const PRODUCT_SLUGS = [\r\n    'donate-for-txipartners',\r\n    'wp-rhema-core-feature',\r\n    'wp-rehema-rlation-feature',\r\n    'wp-rehema-q-and-a-feature',\r\n    'wp-rehema-offline-reading',\r\n]\r\nexport const ERROR_MESSAGE_MAPPING = {\r\n    rest_cookie_invalid_nonce: __(\r\n        `error/page-is-expired`,\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n}\r\nexport const UI_MESSAGE_MAPPING = {\r\n    'bible-entry-path': __(\r\n        'bible-entry-path',\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n    'default-translation': __(\r\n        'default-translation',\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n    'default-translation/default': __(\r\n        'default-translation/default',\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n    'features/description/core': __(`Rhema core function: read and query the whole Bible`, RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT),\r\n    'features/description/relation': __(`Automatically correlate related posts with verses, bible verse insertion tool`, RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT),\r\n    'features/description/offline': __(`Support PWA, so that the Bible of the website can be read offline on mobile phones`, RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT),\r\n    'features/status': __(`features/status`, RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT),\r\n    'features/comming-soon': __(\r\n        `features/comming-soon`,\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n    'features/active': __(`features/active`, RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT),\r\n    'features/license': __(\r\n        `features/license`,\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n    'my-account/signin-logos': __(\r\n        `my-account/signin-logos`,\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n    'my-account/description': __(\r\n        `If you have lost your License Key, you can log in here to check all the License Keys you have obtained in the past.`,\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n    'my-account/forgot-password': __(\r\n        `my-account/forgot-password`,\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n    'my-account/forgot-password-description': __(\r\n        `my-account/forgot-password-description`,\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n    'my-account/verify-email': __(\r\n        `my-account/verify-email`,\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n    'my-account/verify-email-description': __(\r\n        `Send the verification letter to your mailbox, copy the startup code and paste it to the field below`,\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),    \r\n    'my-account/back-to-signin': __(\r\n        `my-account/back-to-signin`,\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n    'my-account/signin': __(\r\n        `my-account/signin`,\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n    'my-account/signing': __(\r\n        `my-account/signing`,\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n    'my-account/send-verify-email': __(\r\n        `my-account/send-verify-email`,\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n    'my-account/sending-verify-email': __(\r\n        `my-account/sending-verify-email`,\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n    'my-account/sent-verify-email': __(\r\n        `my-account/sent-verify-email`,\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n    'my-account/submit-verify-email': __(\r\n        `my-account/submit-verify-email`,\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n    'my-account/submitting-verify-email': __(\r\n        `my-account/submitting-verify-email`,\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n    'my-account/send-forgot-password': __(\r\n        `my-account/send-forgot-password`,\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n    'my-account/sending-forgot-password': __(\r\n        `my-account/sending-forgot-password`,\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n    'my-account/sent-forgot-password': __(\r\n        `my-account/sent-forgot-password`,\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n    'my-account/have-authorization-code': __(\r\n        `my-account/have-authorization-code`,\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n    'my-account/submit-forgot-password': __(\r\n        `my-account/submit-forgot-password`,\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n    'my-account/submitting-forgot-password': __(\r\n        `my-account/submitting-forgot-password`,\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n    'my-account/welcome': __(\r\n        `Welcome to Logos. You can check your information related to Logos here after logging in.`,\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n    'about/paragraph-1': __(\r\n        `Rhema is a WordPress plugin developed and operated by Muchshar on behalf of EON Center. Its purpose is to provide digital Bible services to churches, increasing the exposure of church websites when searching for Bible-related content. It offers church members the ability to search for and access teachings and sermons related to specific Bible verses, serving as a tool for spreading the gospel and providing pastoral care.`,\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n    'about/paragraph-2': __(\r\n        `If you are willing to support our ministry, please consider making a donation to us.`,\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n    'about/title/service-policy': __(\r\n        `Service Policy`,\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n    'about/service-policy/update-maintenance': __(\r\n        `Feature Updates and Maintenance: We will regularly update and maintain the plugin to ensure its compatibility with the latest version of WordPress and continue to improve and add new features. We strive to address known issues and vulnerabilities promptly by providing patches and fixes. If you encounter any problems or discover any vulnerabilities, please visit %s to report your issues.`,\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n    'about/service-policy/rights-reserved': __(\r\n        `Rights Reserved: Muchshar Ltd. reserves the right to determine whether you are allowed to use this plugin.`,\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n    'about/link/donation-1': __(\r\n        `Taiwan Donation Link`,\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n    'about/link/donation-2': __(\r\n        `Overseas Donation Link`,\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n\r\n    'bible-directory': __(`bible-directory`, RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT),\r\n    'bible-directory/old-testament': __(\r\n        `bible-directory/old-testament`,\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n    'bible-directory/new-testament': __(\r\n        `bible-directory/new-testament`,\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n    'bible-directory/book': __(\r\n        `bible-directory/book`,\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n    'bible-directory/chapter': __(\r\n        `bible-directory/chapter`,\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n    'bible-directory/verse': __(\r\n        `bible-directory/verse`,\r\n        RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT\r\n    ),\r\n    'selected-verses': __(`Selected Verses`, RHEMA_LOCALIZE.RHEMA_DOMAIN_TEXT),\r\n}\r\n","/**\r\n * SASS\r\n */\r\nimport '../postcss/frontend.pcss'\r\nimport 'react-loading-skeleton/dist/skeleton.css'\r\n\r\n/**\r\n * JavaScript\r\n */\r\nimport React from 'react'\r\nimport { createRoot } from 'react-dom/client'\r\nimport { Provider } from 'react-redux'\r\nimport { ErrorBoundary } from 'react-error-boundary'\r\nimport ReactShadowRoot from 'react-shadow-root'\r\n\r\nimport App from './frontend/App'\r\nimport { store } from './frontend/store'\r\nimport * as Pages from './frontend/pages'\r\n\r\n/**\r\n * Add here your JavasScript code\r\n */\r\n\r\nconst container = document.getElementById('bible-app')\r\nif (!!container && container instanceof HTMLElement) {\r\n    const root = createRoot(container)\r\n    root.render(\r\n        <ReactShadowRoot>\r\n            <Provider store={store}>\r\n                <ErrorBoundary FallbackComponent={Pages.Error}>\r\n                    <App className=\"bible_app\" />\r\n                </ErrorBoundary>\r\n            </Provider>\r\n        </ReactShadowRoot>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { BrowserRouter, Routes, Route, Navigate } from 'react-router-dom'\r\nimport RHEMA_LOCALIZE from 'RHEMA_LOCALIZE'\r\n\r\nimport * as Pages from './pages'\r\n\r\nconst App = () => {\r\n    const style = `:host, :root {display:block;margin: 24px auto; font-size: 16px;}`\r\n    const pluginFrontendCssUrl = RHEMA_LOCALIZE.RHEMA_FRONTEND_CSS_URL\r\n    if (RHEMA_LOCALIZE.RHEMA_INITAIL_DATA.hasOwnProperty('ERROR')) {\r\n        throw new Error(RHEMA_LOCALIZE.RHEMA_INITAIL_DATA.ERROR)\r\n    }\r\n\r\n    return (\r\n        <BrowserRouter basename={RHEMA_LOCALIZE.RHEMA_SITE_ROOT}>\r\n            <style>\r\n                @import '{pluginFrontendCssUrl}'; @import\r\n                url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC&display=swap');\r\n                {style}\r\n            </style>\r\n            <Routes>\r\n                <Route path=\"/bible\">\r\n                    <Route path=\":books1\">\r\n                        <Route path=\":verse1\" element={<Pages.Verses />} />\r\n                        <Route\r\n                            path=\":verse1/-/:books2/:verse2\"\r\n                            element={<Pages.Verses />}\r\n                        />\r\n                        <Route index element={<Pages.Chapters />} />\r\n                    </Route>\r\n                    <Route path=\"error\" element={<Pages.Error />} />\r\n                    <Route index element={<Pages.RandomlyChapter />} />\r\n                </Route>\r\n            </Routes>\r\n        </BrowserRouter>\r\n    )\r\n}\r\n\r\nexport default App\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\n\r\nimport { UI_MESSAGE_MAPPING } from '@components/constants'\r\nimport { LinkVerse } from '@assets/js/frontend/components'\r\nimport { clickBookSelector } from '@assets/js/frontend/states/generalSlice'\r\nimport { onClickVerse } from '@assets/js/frontend/utilities'\r\n\r\nconst Block = ({\r\n    onClick,\r\n    className: extraClassName = '',\r\n    title,\r\n    desc,\r\n    selected,\r\n    size = 'medium',\r\n    children,\r\n}) => {\r\n    const hasTitle = !!title && typeof title === 'string' && title.length > 0\r\n    const hasDesc = !!desc && typeof desc === 'string' && desc.length > 0\r\n    const sizeIsVaild = ['small', 'medium', 'large'].some(\r\n        (correctlySize) => correctlySize === size\r\n    )\r\n    if (!sizeIsVaild) {\r\n        throw new Error('Component `Block` size of param are invaild.')\r\n    }\r\n    const Title = hasTitle ? (\r\n        <span\r\n            className={`block w-full px-3 font-medium text-gray-900 group-hover:text-rose-600 ${\r\n                selected ? 'text-rose-600' : ''\r\n            }`}\r\n        >\r\n            {title}\r\n        </span>\r\n    ) : null\r\n    const Desc = hasDesc ? (\r\n        <small\r\n            className={`px-3 text-gray-600 group-hover:text-rose-600 group-selected:text-rose-600 ${\r\n                selected ? 'text-rose-600' : ''\r\n            }`}\r\n        >\r\n            {desc}\r\n        </small>\r\n    ) : null\r\n    const classNames = [\r\n        'border',\r\n        'bg-white',\r\n        'flex',\r\n        'flex-wrap',\r\n        'items-center',\r\n        ...(size === 'small'\r\n            ? [\r\n                  'w-1/6',\r\n                  'xs:w-1/8',\r\n                  'md:w-1/12',\r\n                  'lg:w-1/24',\r\n                  'every-6:border-r-0',\r\n                  'xs:every-6:border-r',\r\n                  'only-xs:every-8:border-r',\r\n                  'only-md:every-12:border-r',\r\n                  'only-lg:every-24:border-r',\r\n              ]\r\n            : []),\r\n        ...(size === 'medium'\r\n            ? [\r\n                  'w-1/4',\r\n                  'xs:w-1/6',\r\n                  'md:w-1/8',\r\n                  'lg:w-1/12',\r\n                  'every-4:border-r-0',\r\n                  'xs:every-4:border-r',\r\n                  'only-xs:every-6:border-r',\r\n                  'only-md:every-8:border-r',\r\n                  'only-lg:every-12:border-r',\r\n              ]\r\n            : []),\r\n        'border-t-0',\r\n        'border-l-0',\r\n        'aspect-square',\r\n        'content-center',\r\n        'group',\r\n        'hover:bg-gray-100',\r\n        'cursor-pointer',\r\n        selected ? 'bg-gray-100' : '',\r\n        ...extraClassName.split(' '),\r\n    ].join(' ')\r\n    return (\r\n        <li className={classNames} onClick={onClick}>\r\n            {children ? children : Title}\r\n            {children ? null : Desc}\r\n        </li>\r\n    )\r\n}\r\n\r\nBlock.propTypes = {\r\n    onClick: PropTypes.func,\r\n    className: PropTypes.string,\r\n    title: PropTypes.string,\r\n    desc: PropTypes.string,\r\n    selected: PropTypes.bool,\r\n    size: PropTypes.string,\r\n    children: PropTypes.oneOfType([\r\n        PropTypes.element,\r\n        PropTypes.arrayOf(PropTypes.element),\r\n    ]),\r\n}\r\n\r\nconst BlockWrap = ({ className: extraClassname = '', children }) => {\r\n    return (\r\n        <ul className={['flex flex-auto flex-wrap', extraClassname].join(' ')}>\r\n            {children}\r\n        </ul>\r\n    )\r\n}\r\n\r\nBlockWrap.propTypes = {\r\n    className: PropTypes.string,\r\n    children: PropTypes.oneOfType([\r\n        PropTypes.element,\r\n        PropTypes.arrayOf(PropTypes.element),\r\n    ]),\r\n}\r\n\r\nconst Container = ({ className: extraClassname = '', toggle, children }) => {\r\n    const classNames = [\r\n        toggle ? 'flex' : 'hidden',\r\n        'flex-wrap',\r\n        ...extraClassname.split(' '),\r\n    ].join(' ')\r\n    return <div className={classNames}>{children}</div>\r\n}\r\n\r\nContainer.propTypes = {\r\n    className: PropTypes.string,\r\n    toggle: PropTypes.bool,\r\n    children: PropTypes.oneOfType([\r\n        PropTypes.element,\r\n        PropTypes.arrayOf(PropTypes.element),\r\n    ]),\r\n}\r\n\r\nconst List = () => {\r\n    const showBooksSelector = useSelector(\r\n        (state) => state.general.headersSwitch.books\r\n    )\r\n    const booksDataSelector = useSelector((state) => state.data.books)\r\n    const classNames = [\r\n        ...(showBooksSelector ? ['flex'] : ['hidden']),\r\n        'flex-auto',\r\n        'bg-white',\r\n        'overflow-y-auto',\r\n    ].join(' ')\r\n    return (\r\n        <div className={classNames}>\r\n            <Books {...{ booksData: booksDataSelector }} />\r\n            <Chapters />\r\n            <Verses />\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Books = ({ booksData }) => {\r\n    const dispatch = useDispatch()\r\n    const toggleBooks = useSelector(\r\n        (state) => state.general.booksSelector.books\r\n    )\r\n    const booksDataSelector = useSelector((state) => [\r\n        ...state.data.books.old,\r\n        ...state.data.books.new,\r\n    ])\r\n    const currentQueryString = useSelector((state) => state.data.readingQuerys)\r\n    const currentSelectionSelector = useSelector(\r\n        (state) => state.general.currentSelection\r\n    )\r\n    const onClickBlock = function (bookIndex) {\r\n        console.log(bookIndex)\r\n        dispatch(\r\n            clickBookSelector({\r\n                books: booksDataSelector.filter((book) => {\r\n                    return book.index === bookIndex\r\n                })[0],\r\n            })\r\n        )\r\n    }\r\n    return (\r\n        <Container toggle={toggleBooks}>\r\n            <div className=\"w-full text-sm p-3 bg-gray-200 text-gray-500\">\r\n                {UI_MESSAGE_MAPPING[`bible-directory/old-testament`]}\r\n            </div>\r\n            <BlockWrap className=\"bg-gray-200\">\r\n                {booksData.old.map(({ abbr, name, index }, idx) => {\r\n                    const isSomeInCurrentQuery =\r\n                        currentQueryString.filter(\r\n                            (query) => query.book.name === name\r\n                        )[0] || false\r\n                    const isCurrentSelection =\r\n                        currentSelectionSelector.books.index === index\r\n                    const classNames = [\r\n                        isSomeInCurrentQuery ? 'bg-gray-100' : '',\r\n                    ]\r\n                    return (\r\n                        <Block\r\n                            className={classNames.join(' ')}\r\n                            onClick={onClickBlock.bind(this, index)}\r\n                            key={idx}\r\n                            {...{\r\n                                title: abbr,\r\n                                desc: name,\r\n                                selected: isCurrentSelection,\r\n                            }}\r\n                        />\r\n                    )\r\n                })}\r\n            </BlockWrap>\r\n            <div className=\"w-full text-sm p-3 bg-gray-200 text-gray-500\">\r\n                {UI_MESSAGE_MAPPING[`bible-directory/new-testament`]}\r\n            </div>\r\n            <BlockWrap className=\"bg-gray-200\">\r\n                {booksData.new.map(({ abbr, name, index }, idx) => {\r\n                    const isSomeInCurrentQuery = currentQueryString.filter(\r\n                        (query) => query.book.name === name\r\n                    )[0]\r\n                    const isCurrentSelection =\r\n                        currentSelectionSelector.books.index === index\r\n                    const classNames = [\r\n                        isSomeInCurrentQuery ? 'bg-gray-100' : '',\r\n                    ]\r\n                    return (\r\n                        <Block\r\n                            className={classNames.join(' ')}\r\n                            onClick={onClickBlock.bind(this, index)}\r\n                            key={idx}\r\n                            {...{\r\n                                title: abbr,\r\n                                desc: name,\r\n                                selected: isCurrentSelection,\r\n                            }}\r\n                        />\r\n                    )\r\n                })}\r\n            </BlockWrap>\r\n        </Container>\r\n    )\r\n}\r\n\r\nBooks.propTypes = {\r\n    booksData: PropTypes.object,\r\n}\r\n\r\nconst Chapters = () => {\r\n    const dispatch = useDispatch()\r\n    const toggleChapters = useSelector(\r\n        (state) => state.general.booksSelector.chapters\r\n    )\r\n    const currentQueryString = useSelector((state) => state.data.readingQuerys)\r\n    const chapterVerseInfo = useSelector(\r\n        (state) => state.data.translation.info.chapterVerseInfo\r\n    )\r\n    const currentSelectionBookIndex = useSelector(\r\n        (state) => state.general.currentSelection.books.index\r\n    )\r\n    const currentSelectionChapter = useSelector(\r\n        (state) => state.general.currentSelection.chapters\r\n    )\r\n    const currentQueryBookIndexs = Object.keys(chapterVerseInfo).filter(\r\n        (bookIndex) =>\r\n            currentQueryString.some(\r\n                (query) => query.book.index === Number(bookIndex)\r\n            )\r\n    )\r\n    const currentQueryChapters = currentQueryBookIndexs.map((bookIndex) =>\r\n        Object.keys(chapterVerseInfo[bookIndex])\r\n    )\r\n    const currentSelectionChapters = currentSelectionBookIndex\r\n        ? [Object.keys(chapterVerseInfo[currentSelectionBookIndex])]\r\n        : null\r\n    const displayChapters = currentSelectionChapters\r\n        ? currentSelectionChapters\r\n        : currentQueryChapters\r\n    const onClickBlock = function (number) {\r\n        dispatch(\r\n            clickBookSelector({\r\n                chapters: Number(number),\r\n            })\r\n        )\r\n    }\r\n    return (\r\n        <Container className=\"w-full\" toggle={toggleChapters}>\r\n            {displayChapters.map((chapterNumber, idx) => {\r\n                return (\r\n                    <BlockWrap key={idx} className=\"items-start content-start\">\r\n                        {chapterNumber.map((number, idx) => {\r\n                            const isSomeInCurrentQuery =\r\n                                currentQueryString.filter((query) =>\r\n                                    currentSelectionBookIndex\r\n                                        ? Number(query.book.index) ===\r\n                                              Number(\r\n                                                  currentSelectionBookIndex\r\n                                              ) &&\r\n                                          Number(query.chapter) ===\r\n                                              Number(number)\r\n                                        : Number(query.chapter) ===\r\n                                          Number(number)\r\n                                )[0] || false\r\n                            const isCurrentSelection =\r\n                                currentSelectionChapter === Number(number)\r\n                            const classNames = ['text-center']\r\n                            if (isSomeInCurrentQuery) {\r\n                                classNames.push('bg-gray-100')\r\n                            }\r\n                            return (\r\n                                <Block\r\n                                    onClick={onClickBlock.bind(this, number)}\r\n                                    className={classNames.join(' ')}\r\n                                    size=\"small\"\r\n                                    key={idx}\r\n                                    {...{\r\n                                        title: number.toString(),\r\n                                        selected: isCurrentSelection,\r\n                                    }}\r\n                                />\r\n                            )\r\n                        })}\r\n                    </BlockWrap>\r\n                )\r\n            })}\r\n        </Container>\r\n    )\r\n}\r\n\r\nconst Verses = () => {\r\n    const toggleVerses = useSelector(\r\n        (state) => state.general.booksSelector.verses\r\n    )\r\n    const currentQueryString = useSelector((state) => state.data.readingQuerys)\r\n    const chapterVerseInfo = useSelector(\r\n        (state) => state.data.translation.info.chapterVerseInfo\r\n    )\r\n    const currentSelectionBooks = useSelector(\r\n        (state) => state.general.currentSelection.books\r\n    )\r\n    const currentSelectionBookIndex = currentSelectionBooks.index\r\n    const currentSelectionChapter = useSelector(\r\n        (state) => state.general.currentSelection.chapters\r\n    )\r\n    const isSameQueryBookChapter = currentQueryString.every(\r\n        (query, index, arr) =>\r\n            arr.every(\r\n                (arrQuery) =>\r\n                    arrQuery.book.index === query.book.index &&\r\n                    arrQuery.chapter === query.chapter\r\n            )\r\n    )\r\n    const currentQueryChapterVerseInfo =\r\n        currentQueryString.length > 0\r\n            ? isSameQueryBookChapter\r\n                ? {\r\n                      [currentQueryString[0]?.chapter]:\r\n                          chapterVerseInfo[currentQueryString[0]?.book.index][\r\n                              currentQueryString[0]?.chapter\r\n                          ],\r\n                  }\r\n                : currentQueryString.reduce(\r\n                      (accumulator, query, currentIndex, currentArray) => {\r\n                          const currentQueryBook = currentArray[0].book\r\n                          const currentQueryChapter = query.chapter\r\n                          const chapterMaxVerse =\r\n                              chapterVerseInfo[currentQueryBook.index][\r\n                                  query.chapter\r\n                              ]\r\n                          accumulator[currentQueryChapter] = chapterMaxVerse\r\n                          return accumulator\r\n                      },\r\n                      {}\r\n                  )\r\n            : {}\r\n    const displayBooksIndex = currentSelectionBookIndex\r\n        ? currentSelectionBookIndex\r\n        : currentQueryString.length > 0\r\n        ? currentQueryString[0].book.index\r\n        : 0\r\n    const displayChapterVerseInfo = currentSelectionChapter\r\n        ? {\r\n              [currentSelectionChapter]:\r\n                  chapterVerseInfo[\r\n                      currentSelectionBookIndex\r\n                          ? currentSelectionBookIndex\r\n                          : currentQueryString[0].book.index\r\n                  ][currentSelectionChapter],\r\n          }\r\n        : currentQueryChapterVerseInfo\r\n    const isQueryAndSelectionSame = currentQueryString.some(\r\n        (query) =>\r\n            query.book.index === currentSelectionBookIndex &&\r\n            Number(query.chapter) === currentSelectionChapter\r\n    )\r\n    return (\r\n        <Container className=\"w-full\" toggle={toggleVerses}>\r\n            {Object.keys(displayChapterVerseInfo).map(\r\n                (chapter, index, arrData) => {\r\n                    const maxVerse =\r\n                        chapterVerseInfo[displayBooksIndex][chapter]\r\n                    const verses = new Array(maxVerse)\r\n                        .fill(0)\r\n                        .map((ele, index) => index + 1)\r\n                    return (\r\n                        <div key={index} className=\"w-full\">\r\n                            {arrData.length > 1 ? (\r\n                                <div className=\"w-full text-sm p-3 bg-gray-200 text-gray-500\">\r\n                                    {chapter}\r\n                                </div>\r\n                            ) : null}\r\n                            <BlockWrap className=\"items-start content-start\">\r\n                                {verses.map((number, idx) => {\r\n                                    let isSomeInCurrentQuery = false\r\n                                    if (\r\n                                        Array.isArray(currentQueryString) &&\r\n                                        currentQueryString.length > 0\r\n                                    ) {\r\n                                        const literalIntegral =\r\n                                            Number(chapter) * 100 + number\r\n                                        const fromIntegral =\r\n                                            Number(\r\n                                                currentQueryString[0].chapter\r\n                                            ) *\r\n                                                100 +\r\n                                            Number(currentQueryString[0].verse)\r\n                                        const toIntegral =\r\n                                            Number(\r\n                                                currentQueryString[1].chapter\r\n                                            ) *\r\n                                                100 +\r\n                                            Number(currentQueryString[1].verse)\r\n                                        isSomeInCurrentQuery =\r\n                                            isQueryAndSelectionSame &&\r\n                                            literalIntegral >= fromIntegral &&\r\n                                            literalIntegral <= toIntegral\r\n                                    }\r\n                                    const classNames = ['text-center']\r\n                                    if (isSomeInCurrentQuery) {\r\n                                        classNames.push('bg-gray-100')\r\n                                    }\r\n                                    return (\r\n                                        <Block\r\n                                            className={classNames.join(' ')}\r\n                                            size=\"small\"\r\n                                            key={idx}\r\n                                            {...{ title: number.toString() }}\r\n                                        >\r\n                                            <LinkVerse\r\n                                                onClick={onClickVerse.bind(\r\n                                                    this,\r\n                                                    {\r\n                                                        book: currentSelectionBookIndex,\r\n                                                        chapter:\r\n                                                            currentSelectionChapter,\r\n                                                        verse: number,\r\n                                                        maxVerseNumberOfChapter:\r\n                                                            maxVerse,\r\n                                                    }\r\n                                                )}\r\n                                                book={displayBooksIndex}\r\n                                                chapter={Number(chapter)}\r\n                                                number={number}\r\n                                            />\r\n                                        </Block>\r\n                                    )\r\n                                })}\r\n                            </BlockWrap>\r\n                        </div>\r\n                    )\r\n                }\r\n            )}\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport { List, onClickVerse }\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Link } from 'react-router-dom'\r\nimport { useSelector } from 'react-redux'\r\nimport Ripples from 'react-ripples'\r\nimport Highlighter from 'react-highlight-words'\r\n\r\nimport { generateVerseUrl } from '@assets/js/frontend/utilities'\r\n\r\nexport const Button = ({ onClick, children }) => {\r\n    return (\r\n        <Ripples\r\n            {...{\r\n                ...(onClick && { onClick }),\r\n            }}\r\n        >\r\n            <div className=\"flex cursor-pointer items-center leading-18px text-base md:text-lg md:leading-22px justify-center overflow-hidden bg-white border border-gray-300 rounded-sm w-72px md:w-80px py-5px md:py-8px\">\r\n                {children}\r\n            </div>\r\n        </Ripples>\r\n    )\r\n}\r\n\r\nexport const KeywordLabel = ({ className, onClick, children }) => {\r\n    const classNames = [\r\n        'p-2',\r\n        'bg-zinc-200',\r\n        'inline-block',\r\n        'text-sm',\r\n        className,\r\n    ].join(' ')\r\n    return (\r\n        <span\r\n            className={classNames}\r\n            {...{\r\n                ...(onClick ? { onClick } : {}),\r\n            }}\r\n        >\r\n            {children}\r\n        </span>\r\n    )\r\n}\r\n\r\nexport const StringLabel = ({ className, children }) => {\r\n    const classNames = ['inline-block', 'text-sm', className].join(' ')\r\n    return <span className={classNames}>{children}</span>\r\n}\r\n\r\nexport const DrawerTitle = ({ children }) => {\r\n    return <h3>{children}</h3>\r\n}\r\n\r\nexport const LinkVerse = ({ book, chapter, number, onClick }) => {\r\n    const booksData = useSelector((state) => [\r\n        ...state.data.books.old,\r\n        ...state.data.books.new,\r\n    ])\r\n    const slug = booksData[book - 1].slug\r\n    return (\r\n        <Link\r\n            onClick={onClick}\r\n            className={`flex w-full h-full justify-center items-center px-3 font-medium text-gray-900 group-hover:text-rose-600`}\r\n            to={generateVerseUrl(slug, chapter, number)}\r\n        >\r\n            {number.toString()}\r\n        </Link>\r\n    )\r\n}\r\n\r\nLinkVerse.propTypes = {\r\n    book: PropTypes.number,\r\n    chapter: PropTypes.number,\r\n    number: PropTypes.number,\r\n}\r\n\r\nexport const Line = ({\r\n    bookAbbr,\r\n    chapterNum,\r\n    verseNum,\r\n    className,\r\n    onClick,\r\n    children,\r\n}) => {\r\n    const booksDataSelector = useSelector((state) => [\r\n        ...state.data.books.old,\r\n        ...state.data.books.new,\r\n    ])\r\n    const currentKeywords = useSelector(\r\n        (state) => state.general.search.keywords.current\r\n    )\r\n\r\n    const classNames = [\r\n        'flex',\r\n        'cursor-pointer',\r\n        'before:whitespace-nowrap',\r\n        'before:p-3px',\r\n        'before:mt-5px',\r\n        'before:content-[attr(data-book-abbr)_\"_\"attr(data-chapter-num)\":\"_attr(data-verse-num)]',\r\n        'before:text-12px',\r\n        'before:inline-flex',\r\n        'before:items-start',\r\n        'before:justify-center',\r\n        'before:text-center',\r\n        'before:align-text-top',\r\n        'before:text-gray-400',\r\n        'before:leading-none',\r\n        'before:decoration-sky-500',\r\n        className,\r\n    ].join(' ')\r\n\r\n    const bookAbbrString = booksDataSelector[bookAbbr - 1].abbr\r\n    return (\r\n        <span\r\n            {...(onClick ? { onClick } : {})}\r\n            {...(bookAbbr\r\n                ? {\r\n                      'data-book-abbr': bookAbbrString,\r\n                  }\r\n                : {})}\r\n            {...(chapterNum\r\n                ? {\r\n                      'data-chapter-num': chapterNum,\r\n                  }\r\n                : {})}\r\n            {...(verseNum\r\n                ? {\r\n                      'data-verse-num': verseNum,\r\n                  }\r\n                : {})}\r\n            className={classNames}\r\n        >\r\n            <Highlighter\r\n                highlightClassName=\"text-rose-600\"\r\n                searchWords={currentKeywords.split(' ')}\r\n                autoEscape={true}\r\n                textToHighlight={children}\r\n            />\r\n        </span>\r\n    )\r\n}\r\n","import React, { useState } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { useForm } from 'react-hook-form'\r\nimport { useSelect, useMultipleSelection } from 'downshift'\r\nimport Ripples from 'react-ripples'\r\n\r\nimport { toggleDrawer } from '@assets/js/frontend/states/generalSlice'\r\n\r\nexport const Form = ({ onSubmit, children }) => {\r\n    return (\r\n        <form onSubmit={onSubmit} className=\"w-full flex flex-col\">\r\n            {children}\r\n        </form>\r\n    )\r\n}\r\n\r\nconst FieldRow = ({ className: extraClassname = '', children }) => {\r\n    const classNames = [\r\n        'w-full',\r\n        'border-b',\r\n        ...extraClassname.split(' '),\r\n    ].join(' ')\r\n    return <div className={classNames}>{children}</div>\r\n}\r\n\r\nconst CategorySelector = ({ options }) => {\r\n    const [isOpen, setIsOpen] = useState(false)\r\n    const [highlightedIndex, setHighlightedIndex] = useState(false)\r\n    const {\r\n        getSelectedItemProps,\r\n        getDropdownProps,\r\n        addSelectedItem,\r\n        removeSelectedItem,\r\n        selectedItems,\r\n    } = useMultipleSelection({ initialSelectedItems: [options[0], options[1]] })\r\n\r\n    const getFilteredItems = (items) =>\r\n        items.filter((item) => selectedItems.indexOf(item) < 0)\r\n\r\n    return (\r\n        <div>\r\n            <div\r\n                onBlur={() => {\r\n                    setIsOpen(false)\r\n                }}\r\n                onClick={(e) => {\r\n                    e.preventDefault()\r\n                    setIsOpen(!isOpen)\r\n                }}\r\n                tabIndex=\"-1\"\r\n                className=\"flex flex-wrap items-center px-10px pb-3px\"\r\n            >\r\n                {selectedItems.map((selectedItem, index) => (\r\n                    <span\r\n                        key={`selected-item-${index}`}\r\n                        className=\"py-7px px-5px mr-5px leading-20px mt-3px bg-gray-200 rounded-md overflow-hidden\"\r\n                        {...getSelectedItemProps({\r\n                            selectedItem,\r\n                            index,\r\n                        })}\r\n                    >\r\n                        {selectedItem}\r\n                        <span\r\n                            onClick={(e) => {\r\n                                e.stopPropagation()\r\n                                removeSelectedItem(selectedItem)\r\n                            }}\r\n                            className=\"ml-3px\"\r\n                        >\r\n                            &#10005;\r\n                        </span>\r\n                    </span>\r\n                ))}\r\n                <div\r\n                    className=\"py-7px pt-10px leading-20px outline-1 outline-graborder-gray-400\"\r\n                    {...getDropdownProps({ preventKeyAction: isOpen })}\r\n                >\r\n                    請選擇所屬的分類\r\n                </div>\r\n            </div>\r\n            <ul\r\n                className={[\r\n                    ...(isOpen ? ['block'] : ['hidden']),\r\n                    'absolute left-0 right-0 bg-white shadow-md max-h-80 overflow-scroll w-inherit z-50',\r\n                ].join(' ')}\r\n            >\r\n                {getFilteredItems(options).map((item, index) => (\r\n                    <li\r\n                        style={\r\n                            highlightedIndex === index\r\n                                ? { backgroundColor: '#bde4ff' }\r\n                                : {}\r\n                        }\r\n                        className=\"p-10px leading-20px flex flex-col\"\r\n                        key={`${item}${index}`}\r\n                        onMouseDown={() => {\r\n                            addSelectedItem(getFilteredItems(options)[index])\r\n                        }}\r\n                    >\r\n                        {item}\r\n                    </li>\r\n                ))}\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Footer = ({ children }) => {\r\n    return (\r\n        <div className=\"flex flex-row justify-between px-12px py-3px\">\r\n            {children}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Posts = () => {\r\n    const {\r\n        register,\r\n        handleSubmit,\r\n        formState: { errors },\r\n    } = useForm()\r\n    const onSubmit = (data) => console.log(data)\r\n    const dispatch = useDispatch()\r\n\r\n    return (\r\n        <Form onSubmit={handleSubmit(onSubmit)}>\r\n            <FieldRow>\r\n                <input\r\n                    className=\"bg-transparent w-full px-10px outline-0 leading-40px\"\r\n                    placeholder=\"請輸入您的標題\"\r\n                    {...register('title', { required: true })}\r\n                />\r\n                {errors.title && <span>This field is required</span>}\r\n            </FieldRow>\r\n            <FieldRow>\r\n                <CategorySelector\r\n                    options={[\r\n                        'Category 1',\r\n                        'Category 2',\r\n                        'Category 3',\r\n                        'Category 4',\r\n                        'Category 5',\r\n                        'Category 6',\r\n                    ]}\r\n                />\r\n            </FieldRow>\r\n            <FieldRow className=\"flex-auto h-full\">\r\n                <textarea\r\n                    className=\"bg-transparent w-full h-full px-10px outline-0 leading-40px\"\r\n                    placeholder=\"請輸入您的內容\"\r\n                    {...register('content', { required: true })}\r\n                />\r\n            </FieldRow>\r\n            <Footer>\r\n                <Ripples>\r\n                    <button\r\n                        className=\"p-12px\"\r\n                        onClick={() => dispatch(toggleDrawer({name: 'new-post'}))}\r\n                    >\r\n                        取消\r\n                    </button>\r\n                </Ripples>\r\n                <Ripples>\r\n                    <button className=\"p-12px\">確認</button>\r\n                </Ripples>\r\n            </Footer>\r\n        </Form>\r\n    )\r\n}\r\n\r\nexport { Posts }\r\n","import React from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { useForm } from 'react-hook-form'\r\nimport { joiResolver } from '@hookform/resolvers/joi'\r\nimport { BiChevronLeft, BiFontSize } from 'react-icons/bi'\r\n\r\nimport { UI_MESSAGE_MAPPING } from '@components/constants'\r\nimport * as FieldSchama from '@components/schema'\r\nimport {\r\n    switchHeadersMain,\r\n    changeFontSize,\r\n    switchHeadersSearch,\r\n    changeSearchPaged,\r\n    inputSearchKeywords,\r\n} from '@assets/js/frontend/states/generalSlice'\r\n\r\nimport { queryStringModifier } from '@assets/js/frontend/utilities'\r\nimport * as Layout from '@components/frontend/layouts'\r\nimport * as Tools from '@components/frontend/tools'\r\nimport * as Tabs from '@components/frontend/tabs'\r\nimport RHEMA_LOCALIZE from 'RHEMA_LOCALIZE'\r\n\r\nconst Main = () => {\r\n    const dispatch = useDispatch()\r\n    const showMainHeader = useSelector(\r\n        (state) => state.general.headersSwitch.main\r\n    )\r\n    const showSearchHeader = useSelector(\r\n        (state) => state.general.headersSwitch.search\r\n    )\r\n    const queryString = useSelector((state) => state.data.readingQuerys)\r\n    const classNames = [\r\n        ...(showMainHeader || showSearchHeader ? ['flex'] : ['hidden']),\r\n        'ralative',\r\n        'py-11px',\r\n        'px-12px',\r\n        'md:py-10px',\r\n        'justify-between',\r\n    ].join(' ')\r\n\r\n    const searchFormMethods = useForm({\r\n        defaultValues: {\r\n            words: '',\r\n        },\r\n        resolver: joiResolver(FieldSchama.searchBibleRawsByKeyword),\r\n    })\r\n\r\n    const { register, formState, handleSubmit } = searchFormMethods\r\n    const { isSubmitting: isSearching, errors } = formState\r\n\r\n    const onSubmit = async (data) => {\r\n        console.log(data)\r\n        dispatch(inputSearchKeywords(data.words))\r\n        dispatch(changeSearchPaged(1))\r\n        dispatch(switchHeadersSearch())\r\n    }\r\n\r\n    const onClickFontSize = () => {\r\n        dispatch(changeFontSize())\r\n    }\r\n\r\n    return (\r\n        <Layout.Top.Row className={classNames}>\r\n            <Layout.Top.LeftSide>\r\n                {showMainHeader ? (\r\n                    <Tools.BooksSelectorButton\r\n                        range={queryStringModifier(queryString)}\r\n                    />\r\n                ) : (\r\n                    <Tools.Borderless\r\n                        onClick={() => dispatch(switchHeadersMain())}\r\n                    >\r\n                        <BiChevronLeft className=\"h-20px w-20px right-4px md:right-10px text-neutral-700\" />\r\n                    </Tools.Borderless>\r\n                )}\r\n            </Layout.Top.LeftSide>\r\n            <Layout.Top.RightSide>\r\n                <Tools.SearchBar\r\n                    expand={showSearchHeader}\r\n                    onSubmit={handleSubmit(onSubmit)}\r\n                    {...register('words', {\r\n                        required: true,\r\n                    })}\r\n                />\r\n\r\n                {!showSearchHeader ? (\r\n                    <>\r\n                        <Tools.FullScreenToggle />\r\n                        <Tools.Borderless onClick={onClickFontSize}>\r\n                            <BiFontSize className=\"h-20px w-20px right-4px md:right-10px text-neutral-700\" />\r\n                        </Tools.Borderless>\r\n                        {/* <Tools.Borderless\r\n                            onClick={() =>\r\n                                dispatch(\r\n                                    toggleDrawer({ name: 'relative-posts' })\r\n                                )\r\n                            }\r\n                        >\r\n                            <BsLayoutTextSidebarReverse className=\"h-20px w-20px right-4px md:right-10px text-neutral-700\" />\r\n                        </Tools.Borderless> */}\r\n                    </>\r\n                ) : null}\r\n            </Layout.Top.RightSide>\r\n        </Layout.Top.Row>\r\n    )\r\n}\r\nconst Books = () => {\r\n    const showBooksHeader = useSelector(\r\n        (state) => state.general.headersSwitch.books\r\n    )\r\n    const classNames = [\r\n        ...(showBooksHeader ? ['flex'] : ['hidden']),\r\n        'w-full',\r\n        'items-center',\r\n        'flex-wrap',\r\n    ].join(' ')\r\n    const dispatch = useDispatch()\r\n    return (\r\n        <div className={classNames}>\r\n            <Layout.Top.Row className=\"items-center w-full py-11px px-12px md:py-10px justify-between\">\r\n                <Layout.Top.LeftSide>\r\n                    <Tools.Borderless\r\n                        onClick={() => dispatch(switchHeadersMain())}\r\n                    >\r\n                        <BiChevronLeft className=\"h-20px w-20px right-4px md:right-10px text-neutral-700\" />\r\n                    </Tools.Borderless>\r\n                </Layout.Top.LeftSide>\r\n                <Layout.Top.MiddleSide className=\"text-16px\">\r\n                    {UI_MESSAGE_MAPPING['bible-directory']}\r\n                </Layout.Top.MiddleSide>\r\n                <Layout.Top.RightSide>\r\n                    <Tools.Bordered>和合本</Tools.Bordered>\r\n                </Layout.Top.RightSide>\r\n            </Layout.Top.Row>\r\n            <Tabs.BookTab />\r\n        </div>\r\n    )\r\n}\r\nconst Selection = () => {\r\n    const dispatch = useDispatch()\r\n    const showSelectionHeader = useSelector(\r\n        (state) => state.general.headersSwitch.selection\r\n    )\r\n    const classNames = [\r\n        ...(showSelectionHeader ? ['flex'] : ['hidden']),\r\n        'w-full',\r\n        'items-center',\r\n        'flex-wrap',\r\n    ].join(' ')\r\n    return (\r\n        <div className={classNames}>\r\n            <Layout.Top.Row className=\"items-center w-full py-11px px-12px md:py-10px justify-between\">\r\n                <Layout.Top.LeftSide>\r\n                    <Tools.Borderless\r\n                        onClick={() => dispatch(switchHeadersMain())}\r\n                    >\r\n                        <BiChevronLeft className=\"h-20px w-20px right-4px md:right-10px text-neutral-700\" />\r\n                    </Tools.Borderless>\r\n                </Layout.Top.LeftSide>\r\n                <Layout.Top.MiddleSide>\r\n                    <Tools.CurrentRawsSelected />\r\n                </Layout.Top.MiddleSide>\r\n                <Layout.Top.RightSide></Layout.Top.RightSide>\r\n            </Layout.Top.Row>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport { Main, Books, Selection }\r\n","import React, { useState, useCallback, useEffect, useRef, useMemo } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { max, isEqual, clamp } from 'lodash'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { useParams, useNavigate } from 'react-router-dom'\r\nimport { motion } from 'framer-motion'\r\nimport { FiMinusSquare } from 'react-icons/fi'\r\nimport Swipe from 'react-easy-swipe'\r\nimport Skeleton from 'react-loading-skeleton'\r\n\r\nimport * as Paragraph from '@components/frontend/paragraph'\r\nimport * as Tools from '@components/frontend/tools'\r\nimport { usePrefetch } from '@components/services'\r\nimport { updateReadingQuerys } from '@assets/js/frontend/states/dataSlice'\r\nimport { updatePageSwipper } from '@assets/js/frontend/states/generalSlice'\r\nimport {\r\n    generateVerseUrl,\r\n    retrieveBookIndexBySlug,\r\n} from '@components/frontend/utilities'\r\n\r\nconst AppContainer = ({ children }) => {\r\n    const showSelection = useSelector(\r\n        (state) => state.general.headersSwitch.selection\r\n    )\r\n    const showSomeDrawer = useSelector((state) => {\r\n        const someDrawerOpend = Object.keys(state.general.drawer).some(\r\n            (key) => {\r\n                return state.general.drawer[key] === true\r\n            }\r\n        )\r\n        return someDrawerOpend\r\n    })\r\n\r\n    const fullscreen = useSelector((state) => state.general.fullscreen)\r\n\r\n    const fullscreenStyle = fullscreen\r\n        ? [\r\n              'fixed',\r\n              'top-0',\r\n              'right-0',\r\n              'bottom-0',\r\n              'left-0',\r\n              'z-99999',\r\n              'flex',\r\n              'flex-col',\r\n          ]\r\n        : ['container']\r\n    return (\r\n        <div\r\n            className={[\r\n                'mx-auto',\r\n                'overflow-hidden',\r\n                ...(fullscreen ? [] : ['md:rounded-8px']),\r\n                'font-bible',\r\n                'drop-shadow-md',\r\n                ...fullscreenStyle,\r\n            ].join(' ')}\r\n        >\r\n            {children}\r\n            <Tools.AddNewPostButton showOn={showSelection && !showSomeDrawer} />\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Top = ({ children }) => {\r\n    return (\r\n        <div className=\"flex flex-wrap items-center text-gray-800 bg-white border-b text-12px md:text-14px drop-shadow-sm\">\r\n            {children}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Bottom = ({ children }) => {\r\n    return (\r\n        <div className=\"flex flex-wrap items-center text-gray-800 bg-white border-t text-12px md:text-14px drop-shadow-sm\">\r\n            {children}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Body = ({ children }) => {\r\n    const showScroll = useSelector((state) => {\r\n        const someDrawerOpend = Object.keys(state.general.drawer).some(\r\n            (key) => {\r\n                return state.general.drawer[key] === true\r\n            }\r\n        )\r\n        return !someDrawerOpend\r\n    })\r\n    const classnames = [\r\n        'relative',\r\n        'flex-auto',\r\n        'overflow-x-hidden',\r\n        'bg-white',\r\n        ...(showScroll ? ['overflow-y-auto'] : ['overflow-y-hidden']),\r\n    ].join(' ')\r\n    return <div className={classnames}>{children}</div>\r\n}\r\n\r\nconst PageWrapper = ({\r\n    className,\r\n    movePercentage,\r\n    pagePos,\r\n    onTransitionEnd,\r\n    children,\r\n}) => {\r\n    const elementRef = useRef(null)\r\n\r\n    const handlerOnTransitionEnd = useCallback(onTransitionEnd, [pagePos])\r\n\r\n    useEffect(() => {\r\n        const element = elementRef.current\r\n\r\n        if (onTransitionEnd) {\r\n            element.addEventListener('transitionend', handlerOnTransitionEnd)\r\n        }\r\n\r\n        return () => {\r\n            element.removeEventListener('transitionend', handlerOnTransitionEnd)\r\n        }\r\n    }, [pagePos])\r\n    return (\r\n        <div\r\n            ref={elementRef}\r\n            style={{\r\n                transform: `translateX(${-(pagePos * 100) + movePercentage}%`,\r\n            }}\r\n            className={className}\r\n        >\r\n            {children}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Content = ({\r\n    pagePosition = 'middle',\r\n    currentBookMaxChapter,\r\n    currentChapter,\r\n    onMoveFirstPage,\r\n    onMoveLastPage,\r\n    onCompletedMove,\r\n    children,\r\n}) => {\r\n    const dispatch = useDispatch()\r\n    const changePageMovePercentageThreshold = 6\r\n    const maxChapterNumberOfCurrentBook = parseInt(currentBookMaxChapter) || 1\r\n    const currentChapterNumber = parseInt(currentChapter) || 1\r\n    const initialPos =\r\n        pagePosition === 'middle' ? 1 : pagePosition === 'left' ? 0 : 1\r\n\r\n    const showMain = useSelector(\r\n        (state) =>\r\n            state.general.headersSwitch.main ||\r\n            state.general.headersSwitch.selection\r\n    )\r\n    const { pagePos, onTransition } = useSelector(\r\n        (state) => state.general.pageSwipper\r\n    )\r\n    const [movePercentage, setMovePercentage] = useState(0)\r\n    // const onSwipeStart = (event) => {}\r\n\r\n    const onSwipeMove = (position, event) => {\r\n        const movePercentageX = Number(\r\n            ((position.x / Number(screen.width)) * 100).toFixed(1)\r\n        )\r\n        if (\r\n            movePercentageX > changePageMovePercentageThreshold &&\r\n            movePercentageX < -changePageMovePercentageThreshold\r\n        ) {\r\n            event.preventDefault()\r\n        }\r\n        // const movePercentageY = Number(\r\n        //     ((position.y / Number(screen.width)) * 100).toFixed(1)\r\n        // )\r\n        // console.log(`Moved ${position.y} pixels vertically`, event)\r\n        // console.log(`Moved ${movePercentageY} percentage vertically`, event)\r\n        setMovePercentage(\r\n            clamp(\r\n                movePercentageX,\r\n                pagePosition !== 'right'\r\n                    ? -99\r\n                    : -changePageMovePercentageThreshold,\r\n                pagePosition !== 'left' ? 99 : changePageMovePercentageThreshold\r\n            )\r\n        )\r\n        dispatch(updatePageSwipper({ onTransition: true }))\r\n    }\r\n\r\n    const onSwipeEnd = (event) => {\r\n        const moveAbsPercentage = Math.abs(movePercentage)\r\n        if (moveAbsPercentage > changePageMovePercentageThreshold) {\r\n            const nextPagePos = clamp(\r\n                movePercentage < 0 ? pagePos + 1 : pagePos - 1,\r\n                0,\r\n                2\r\n            )\r\n            if (nextPagePos === 0 || (initialPos === 2 && nextPagePos === 1)) {\r\n                onMoveFirstPage()\r\n            }\r\n            if (nextPagePos === 2 || (initialPos === 0 && nextPagePos === 1)) {\r\n                onMoveLastPage()\r\n            }\r\n            dispatch(updatePageSwipper({ pagePos: nextPagePos }))\r\n        }\r\n        setMovePercentage(0)\r\n    }\r\n\r\n    const handlerOnTransitionEnd = () => {\r\n        console.log('onTransitionEnd', pagePos, initialPos)\r\n        if (pagePos === initialPos) {\r\n            return\r\n        }\r\n        let offsetNext = 0\r\n        let pagePosNext = pagePos\r\n        if (initialPos > pagePos && currentChapterNumber - 1 > 0) {\r\n            offsetNext = -1\r\n        }\r\n        if (\r\n            initialPos < pagePos &&\r\n            currentChapterNumber + 1 <= maxChapterNumberOfCurrentBook\r\n        ) {\r\n            offsetNext = 1\r\n        }\r\n        onCompletedMove(\r\n            offsetNext,\r\n            initialPos === 0 ? 1 : initialPos === 2 ? 1 : initialPos,\r\n            false\r\n        )\r\n    }\r\n\r\n    const classNames = [\r\n        ...(showMain ? ['flex'] : ['hidden']),\r\n        'items-start',\r\n        'relative',\r\n        'flex',\r\n        'overflow-hidden',\r\n        'h-full',\r\n    ].join(' ')\r\n\r\n    const pageClassNames = [\r\n        ...(onTransition\r\n            ? ['transition-transform', 'ease-out', 'duration-500']\r\n            : []),\r\n        'min-w-full',\r\n        'h-full',\r\n        'overflow-y-auto',\r\n        'px-10',\r\n        'py-10',\r\n    ]\r\n\r\n    useEffect(() => {\r\n        dispatch(updatePageSwipper({ pagePos: initialPos }))\r\n    }, [initialPos])\r\n\r\n    return (\r\n        <Swipe\r\n            onSwipeMove={onSwipeMove}\r\n            onSwipeEnd={onSwipeEnd}\r\n            className={classNames}\r\n        >\r\n            {Array.isArray(children) && children.length > 0 ? (\r\n                children.map((child, idx) => {\r\n                    return (\r\n                        <PageWrapper\r\n                            {...{\r\n                                key: child.key,\r\n                                className: pageClassNames.join(' '),\r\n                                movePercentage,\r\n                                pagePos,\r\n                                ...(idx === initialPos && {\r\n                                    onTransitionEnd: handlerOnTransitionEnd,\r\n                                }),\r\n                            }}\r\n                        >\r\n                            {child}\r\n                        </PageWrapper>\r\n                    )\r\n                })\r\n            ) : (\r\n                <div className=\"px-6\">{children}</div>\r\n            )}\r\n        </Swipe>\r\n    )\r\n}\r\nContent.propTypes = {\r\n    pagePosition: PropTypes.string,\r\n    onMoveStartPage: PropTypes.func,\r\n    onMoveEndPage: PropTypes.func,\r\n    children: PropTypes.oneOfType([\r\n        PropTypes.string,\r\n        PropTypes.element,\r\n        PropTypes.arrayOf(PropTypes.element),\r\n    ]),\r\n}\r\n\r\nconst BbileRaws = ({\r\n    readingQuerys,\r\n    bookRaws,\r\n    chapterVerseInfo,\r\n    selectedRaws,\r\n}) => {\r\n    const dispatch = useDispatch()\r\n    const navigate = useNavigate()\r\n    const chapterPaged = parseInt(readingQuerys[0].chapter)\r\n    let currentBookIndex = readingQuerys[0]?.book?.index\r\n    if (!currentBookIndex) {\r\n        const { books1: bookSlugOfParam } = useParams()\r\n        currentBookIndex = retrieveBookIndexBySlug(bookSlugOfParam)\r\n    }\r\n\r\n    if (!chapterVerseInfo) {\r\n        return null\r\n    }\r\n\r\n    const prefetchRaw = usePrefetch('getBibleRaw')\r\n\r\n    const maxChapterNumberOfCurrentBook = max(\r\n        Object.keys(chapterVerseInfo[currentBookIndex]).map((num) =>\r\n            Number(num)\r\n        )\r\n    )\r\n\r\n    const prepareChaptersSlot = new Array(maxChapterNumberOfCurrentBook)\r\n        .fill(null)\r\n        .map((item, slotIdx) => {\r\n            const slotChapterNumber = slotIdx + 1\r\n            const fetchedChapterRaws = bookRaws.filter((raw) => {\r\n                return raw.chapter === slotChapterNumber\r\n            })\r\n            if (fetchedChapterRaws.length > 0) {\r\n                return fetchedChapterRaws\r\n            }\r\n            return {\r\n                maxVerseNumber:\r\n                    chapterVerseInfo[currentBookIndex][slotChapterNumber],\r\n                chapterNumber: slotChapterNumber,\r\n            }\r\n        })\r\n\r\n    const renderChapters = useMemo(() => {\r\n        let returnChapters = (\r\n            Array.isArray(prepareChaptersSlot)\r\n                ? prepareChaptersSlot\r\n                : [prepareChaptersSlot]\r\n        ).filter((chapter, idx) => {\r\n            const chapterPageNumber = idx + 1\r\n            const pagesCount = prepareChaptersSlot.length || 0\r\n            return (\r\n                chapterPageNumber === chapterPaged ||\r\n                chapterPageNumber ===\r\n                    chapterPaged + (pagesCount > chapterPaged ? 1 : 0) ||\r\n                chapterPageNumber === chapterPaged - (chapterPaged > 1 ? 1 : 0)\r\n            )\r\n        })\r\n        let middleChapterIndex = returnChapters.findIndex(\r\n            (raws) => Number(raws.chapter) === chapterPaged\r\n        )\r\n        return returnChapters.sort((a) => {\r\n            const chapterNumber = Array.isArray(a)\r\n                ? a[0]?.chapter\r\n                : a.chapterNumber\r\n            return chapterNumber >= middleChapterIndex ? 1 : -1\r\n        })\r\n    }, [bookRaws, chapterPaged])\r\n\r\n    const onMoveFirstPage = () => {\r\n        console.log('run onMoveFirstPage')\r\n        const newChapterPaged = chapterPaged - 1\r\n\r\n        prefetchRaw({\r\n            ranges: [`${readingQuerys[0].book.slug}${newChapterPaged}:1`],\r\n            withPrevChapter: true,\r\n            withNextChapter: true,\r\n        })\r\n    }\r\n\r\n    const onMoveLastPage = () => {\r\n        console.log('run onMoveLastPage')\r\n        const newChapterPaged = chapterPaged + 1\r\n        prefetchRaw({\r\n            ranges: [`${readingQuerys[0].book.slug}${newChapterPaged}:1`],\r\n            withPrevChapter: true,\r\n            withNextChapter: true,\r\n        })\r\n    }\r\n\r\n    const onCompletedMove = (offest, pagePos, onTransition) => {\r\n        const newChapterPaged = chapterPaged + offest\r\n        const newReadingQuerys = [\r\n            {\r\n                book: { ...readingQuerys[0].book },\r\n                chapter: newChapterPaged,\r\n                verse: 1,\r\n            },\r\n            {\r\n                book: { ...readingQuerys[1].book },\r\n                chapter: newChapterPaged,\r\n                verse: chapterVerseInfo[currentBookIndex][newChapterPaged],\r\n            },\r\n        ]\r\n        // setChapterPaged(newChapterPaged)\r\n        dispatch(updateReadingQuerys(newReadingQuerys))\r\n        dispatch(\r\n            updatePageSwipper({\r\n                pagePos,\r\n                onTransition,\r\n            })\r\n        )\r\n        navigate(\r\n            generateVerseUrl(newReadingQuerys[0].book.slug, newChapterPaged, 1)\r\n        )\r\n    }\r\n    console.log('renderChapters', renderChapters)\r\n    return (\r\n        <Content\r\n            pagePosition={\r\n                chapterPaged === 1\r\n                    ? 'left'\r\n                    : chapterPaged > 1 &&\r\n                      chapterPaged < maxChapterNumberOfCurrentBook\r\n                    ? 'middle'\r\n                    : 'right'\r\n            }\r\n            currentBookMaxChapter={maxChapterNumberOfCurrentBook}\r\n            currentChapter={chapterPaged}\r\n            onMoveFirstPage={onMoveFirstPage}\r\n            onMoveLastPage={onMoveLastPage}\r\n            onCompletedMove={onCompletedMove}\r\n        >\r\n            {renderChapters.map((raws) => {\r\n                const pageIdx = raws?.chapterNumber || raws[0].chapter\r\n                const isWaitingLoading =\r\n                    raws.length === 0 || !Array.isArray || raws.maxVerseNumber\r\n                return (\r\n                    <Page key={pageIdx}>\r\n                        <Paragraph.Block>\r\n                            {isWaitingLoading ? (\r\n                                <Skeleton\r\n                                    inline={true}\r\n                                    count={raws.maxVerseNumber}\r\n                                />\r\n                            ) : (\r\n                                raws.map((raw) => (\r\n                                    <Paragraph.Line\r\n                                        active={selectedRaws.some(\r\n                                            (selectedRaw) =>\r\n                                                selectedRaw.id === raw.id\r\n                                        )}\r\n                                        id={raw.id}\r\n                                        key={raw.id}\r\n                                        verseNum={raw.verse}\r\n                                    >\r\n                                        {raw.text}\r\n                                    </Paragraph.Line>\r\n                                ))\r\n                            )}\r\n                        </Paragraph.Block>\r\n                    </Page>\r\n                )\r\n            })}\r\n        </Content>\r\n    )\r\n}\r\nconst RawsContent = React.memo(BbileRaws, (prev, next) => {\r\n    if (!isEqual(prev.chapterVerseInfo, next.chapterVerseInfo)) {\r\n        return false\r\n    }\r\n    if (!isEqual(prev.readingQuerys, next.readingQuerys)) {\r\n        return false\r\n    }\r\n    if (!isEqual(prev.bookRaws, next.bookRaws)) {\r\n        return false\r\n    }\r\n    if (!isEqual(prev.selectedRaws, next.selectedRaws)) {\r\n        return false\r\n    }\r\n    return true\r\n})\r\n\r\nconst Page = ({ children }) => {\r\n    return <div>{children}</div>\r\n}\r\n\r\nconst Drawer = ({ name, className: extraClassName = '', children }) => {\r\n    const showDrawer = useSelector((state) => state.general.drawer[name])\r\n    const fullscreen = useSelector((state) => state.general.fullscreen)\r\n    const classNames = [\r\n        'hidden',\r\n        ...(fullscreen ? ['sticky'] : ['absolute']),\r\n        ...(fullscreen ? [] : ['drop-shadow-lg border-l']),\r\n        'right-0',\r\n        'left-0',\r\n        'md:left-1/2',\r\n        'bottom-0',\r\n        'top-0',\r\n        'min-h-full',\r\n        'flex-auto',\r\n        'bg-white/[.9]',\r\n        'backdrop-blur-sm',\r\n        'overflow-y-auto',\r\n        'overflow-x-hidden',\r\n        ...extraClassName.split(' '),\r\n    ].join(' ')\r\n    return (\r\n        <motion.div\r\n            animate={{\r\n                x: showDrawer ? '0%' : '100%',\r\n                display: 'flex',\r\n                transitionEnd: {\r\n                    ...(!showDrawer ? { display: 'none' } : {}),\r\n                },\r\n            }}\r\n            transition={{ ease: 'easeOut' }}\r\n            initial={false}\r\n            className={classNames}\r\n        >\r\n            {children}\r\n        </motion.div>\r\n    )\r\n}\r\n\r\nTop.LeftSide = function LeftSide({ className: extraClassName = '', children }) {\r\n    const classNames = [\r\n        'flex',\r\n        'items-center',\r\n        'space-x-4',\r\n        ...extraClassName.split(' '),\r\n    ].join(' ')\r\n    return <div className={classNames}>{children}</div>\r\n}\r\n\r\nTop.MiddleSide = function MiddleSide({\r\n    className: extraClassName = '',\r\n    children,\r\n}) {\r\n    const classNames = [\r\n        'flex',\r\n        'items-center',\r\n        'absolute',\r\n        'top-1/2',\r\n        'left-1/2',\r\n        'transform',\r\n        '-translate-x-1/2',\r\n        '-translate-y-1/2',\r\n        ...extraClassName.split(' '),\r\n    ].join(' ')\r\n    return <div className={classNames}>{children}</div>\r\n}\r\n\r\nTop.RightSide = function RightSide({\r\n    className: extraClassName = '',\r\n    children,\r\n}) {\r\n    const classNames = [\r\n        'flex',\r\n        'items-center',\r\n        'space-x-4',\r\n        ...extraClassName.split(' '),\r\n    ].join(' ')\r\n    return <div className={classNames}>{children}</div>\r\n}\r\n\r\nTop.Row = function Row({ className: extraClassName = '', children }) {\r\n    const classNames = [\r\n        'relative',\r\n        'flex',\r\n        'items-center',\r\n        'w-full',\r\n        ...extraClassName.split(' '),\r\n    ].join(' ')\r\n    return <div className={classNames}>{children}</div>\r\n}\r\n\r\nDrawer.SelectedRaw = function SelectedRaw() {\r\n    const selectedRaws = useSelector((state) => state.selected.raws)\r\n    const booksDataSelector = useSelector((state) => [\r\n        ...state.data.books.old,\r\n        ...state.data.books.new,\r\n    ])\r\n    return (\r\n        <div className=\"w-full\">\r\n            {selectedRaws.map((raw) => {\r\n                const bookData = booksDataSelector[raw.book + 1]\r\n                const bookAbbr = bookData.abbr\r\n                return (\r\n                    <div key={raw.id}>\r\n                        <FiMinusSquare className=\"text-neutral-600 h-15px w-15px inline-block\" />\r\n                        <Paragraph.Line\r\n                            id={raw.id}\r\n                            bookAbbr={bookAbbr}\r\n                            chapterNum={raw.chapter}\r\n                            verseNum={raw.verse}\r\n                        >\r\n                            {raw.text}\r\n                        </Paragraph.Line>\r\n                    </div>\r\n                )\r\n            })}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport { AppContainer, Body, Content, RawsContent, Drawer, Page, Top, Bottom }\r\n","import React, { useEffect } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\n\r\nimport * as Layout from '@components/frontend/layouts'\r\nimport * as Headers from '@components/frontend/headers'\r\nimport * as Books from '@components/frontend/books'\r\nimport * as Search from '@components/frontend/search'\r\nimport { useGetBibleRawQuery } from '@components/services'\r\nimport { switchHeadersBooks, currentSelection } from '@assets/js/frontend/states/generalSlice'\r\nimport {\r\n    generateRestRangeParam,\r\n    retrieveChapterByParamString,\r\n    validIsQueryWholeChapter,\r\n} from '@assets/js/frontend/utilities'\r\nimport { loadRaws } from '@assets/js/frontend/states/dataSlice'\r\n\r\nexport const Chapters = () => {\r\n    const dispatch = useDispatch()\r\n    const stateData = useSelector((state) => state.data)\r\n    const booksDataSelector = [\r\n        ...stateData.books.old,\r\n        ...stateData.books.new\r\n    ]\r\n    const { isAfterReload, readingQuerys, translation } = stateData\r\n    const { chapterVerseInfo } = translation?.info\r\n    const bookRaws = stateData.raws.filter((raw) => {\r\n        return raw.book === Number(readingQuerys[0].book.index)\r\n    })\r\n    const selectedRaws = useSelector((state) => state.selected.raws)\r\n\r\n    const isQueryWholeChapter = validIsQueryWholeChapter(\r\n        readingQuerys,\r\n        chapterVerseInfo\r\n    )\r\n\r\n    const urlParams = isAfterReload\r\n        ? generateRestRangeParam(useParams())\r\n        : [\r\n              `${readingQuerys[0].book.slug}${readingQuerys[0].chapter}:${readingQuerys[0].verse}`,\r\n          ]\r\n    const currentChapter = retrieveChapterByParamString(urlParams[0])\r\n\r\n    const { data, error, isFetching } = useGetBibleRawQuery({\r\n        ranges: urlParams,\r\n        withPrevChapter: isQueryWholeChapter,\r\n        withNextChapter: isQueryWholeChapter,\r\n    })\r\n\r\n    useEffect(() => {\r\n        if (data && Object.keys(data).length > 0) {\r\n            dispatch(loadRaws(data.data))\r\n        }\r\n    }, [data])\r\n\r\n    useEffect(() => {\r\n        if (error && Object.keys(error).length > 0) {\r\n            throw new Error(error.data.message)\r\n        }\r\n    }, [error])\r\n\r\n    useEffect(() => {\r\n        dispatch(\r\n            currentSelection({\r\n                books: booksDataSelector.filter((book) => {\r\n                    return book.index === readingQuerys[0].book.index\r\n                })[0],\r\n            })\r\n        )\r\n        dispatch(switchHeadersBooks())\r\n    }, [])\r\n    return (\r\n        <Layout.AppContainer>\r\n            <Layout.Top>\r\n                <Headers.Main />\r\n                <Headers.Books />\r\n                <Headers.Selection />\r\n            </Layout.Top>\r\n            <Layout.Body>\r\n                <Books.List />\r\n                <Search.Results />\r\n                <Layout.RawsContent\r\n                    {...{\r\n                        readingQuerys,\r\n                        bookRaws,\r\n                        chapterVerseInfo,\r\n                        currentChapter,\r\n                        selectedRaws,\r\n                    }}\r\n                />\r\n            </Layout.Body>\r\n        </Layout.AppContainer>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport RHEMA_LOCALIZE from 'RHEMA_LOCALIZE'\r\n\r\nimport * as Layout from '@components/frontend/layouts'\r\nimport { ERROR_MESSAGE_MAPPING } from '@components/constants'\r\n\r\nexport const Error = ({ error, resetErrorBoundary }) => {\r\n    const style = `:host, :root {display:block;margin: 24px auto; font-size: 16px;}`\r\n    const pluginFrontendCssUrl = RHEMA_LOCALIZE.RHEMA_FRONTEND_CSS_URL\r\n    const { message } = error\r\n    const displayMsg = ERROR_MESSAGE_MAPPING.hasOwnProperty(message)\r\n        ? ERROR_MESSAGE_MAPPING[message]\r\n        : message\r\n    return (\r\n        <Layout.AppContainer>\r\n            <style>\r\n                @import '{pluginFrontendCssUrl}'; @import\r\n                url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC&display=swap');\r\n                {style}\r\n            </style>\r\n            <Layout.Body>\r\n                <Layout.Content>\r\n                    <Layout.Page>{displayMsg}</Layout.Page>\r\n                </Layout.Content>\r\n            </Layout.Body>\r\n        </Layout.AppContainer>\r\n    )\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\nimport {\r\n    generateVerseUrl,\r\n    generateRandomlyChapter,\r\n} from '@assets/js/frontend/utilities'\r\nimport * as Layout from '@components/frontend/layouts'\r\nimport * as Headers from '@components/frontend/headers'\r\nimport * as Paragraph from '@components/frontend/paragraph'\r\nimport * as Books from '@components/frontend/books'\r\nimport * as Search from '@components/frontend/search'\r\nimport { updateReadingQuerys } from '@assets/js/frontend/states/dataSlice'\r\n\r\nconst Container = ({}) => {\r\n    return (\r\n        <Layout.AppContainer>\r\n            <Layout.Top>\r\n                <Headers.Main />\r\n                <Headers.Books />\r\n                <Headers.Selection />\r\n            </Layout.Top>\r\n            <Layout.Body>\r\n                <Books.List />\r\n                <Search.Results />\r\n                HOME\r\n            </Layout.Body>\r\n        </Layout.AppContainer>\r\n    )\r\n}\r\n\r\nconst MemoContainer = React.memo(Container, (prev, next) => {\r\n    return true\r\n})\r\n\r\nexport const Home = () => {\r\n    return <MemoContainer />\r\n}\r\n\r\nexport const RandomlyChapter = () => {\r\n    const navigate = useNavigate()\r\n    const dispatch = useDispatch()\r\n    const chapterVerseInfo = useSelector(\r\n        (state) => state.data.translation.info.chapterVerseInfo\r\n    )\r\n    const randomlyChapter = generateRandomlyChapter()\r\n    const currentBookIndex = randomlyChapter.book.index\r\n    const newReadingQuerys = [\r\n        {\r\n            book: { ...randomlyChapter.book },\r\n            chapter: randomlyChapter.chapter,\r\n            verse: 1,\r\n        },\r\n        {\r\n            book: { ...randomlyChapter.book },\r\n            chapter: randomlyChapter.chapter,\r\n            verse: chapterVerseInfo[currentBookIndex][randomlyChapter.chapter],\r\n        },\r\n    ]\r\n\r\n    useEffect(() => {\r\n        dispatch(updateReadingQuerys(newReadingQuerys))\r\n        navigate(\r\n            generateVerseUrl(\r\n                randomlyChapter.book.slug,\r\n                randomlyChapter.chapter,\r\n                1\r\n            )\r\n        )\r\n    }, [])\r\n    return null\r\n}\r\n","export { Home, RandomlyChapter } from './home'\r\nexport { Chapters } from './chapters'\r\nexport { Verses } from './verses'\r\nexport { Error } from './error'\r\n","import React, { useEffect } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { useParams } from 'react-router-dom'\r\n\r\nimport { UI_MESSAGE_MAPPING } from '@components/constants'\r\nimport * as Layout from '@components/frontend/layouts'\r\nimport * as Headers from '@components/frontend/headers'\r\n\r\nimport * as Books from '@components/frontend/books'\r\nimport * as Search from '@components/frontend/search'\r\nimport * as Forms from '@components/frontend/forms'\r\nimport { DrawerTitle } from '@components/frontend/components'\r\nimport { useGetBibleRawQuery } from '@components/services'\r\nimport {\r\n    generateRestRangeParam,\r\n    retrieveChapterByParamString,\r\n    validIsQueryWholeChapter,\r\n    retrieveBookIndexBySlug,\r\n} from '@assets/js/frontend/utilities'\r\nimport { loadRaws } from '@assets/js/frontend/states/dataSlice'\r\n\r\nexport const Verses = () => {\r\n    const dispatch = useDispatch()\r\n    const stateData = useSelector((state) => state.data)\r\n    const isAfterReload = useSelector((state) => state.general.isAfterReload)\r\n    const params = useParams()\r\n    console.log(\r\n        params,\r\n        generateRestRangeParam(params),\r\n        retrieveChapterByParamString(generateRestRangeParam(params)[0])\r\n    )\r\n    const { readingQuerys } = stateData\r\n    const { chapterVerseInfo } = stateData.translation?.info\r\n    let currentBookIndex = readingQuerys[0]?.book?.index\r\n    if (!currentBookIndex) {\r\n        const { books1: bookSlugOfParam } = useParams()\r\n        currentBookIndex = retrieveBookIndexBySlug(bookSlugOfParam)\r\n    }\r\n    const bookRaws = stateData.raws.filter((raw) => {\r\n        return raw.book === Number(currentBookIndex)\r\n    })\r\n    const selectedRaws = useSelector((state) => state.selected.raws)\r\n\r\n    const isQueryWholeChapter = validIsQueryWholeChapter(\r\n        readingQuerys,\r\n        chapterVerseInfo\r\n    )\r\n\r\n    let urlParams = generateRestRangeParam(params)\r\n    if (isAfterReload && readingQuerys.length > 0) {\r\n        urlParams = [\r\n            `${readingQuerys[0].book.slug}${readingQuerys[0].chapter}:${readingQuerys[0].verse}`,\r\n        ]\r\n    }\r\n\r\n    const currentChapter = retrieveChapterByParamString(urlParams[0])\r\n\r\n    const { data, error, isFetching } = useGetBibleRawQuery({\r\n        ranges: urlParams,\r\n        withPrevChapter: isQueryWholeChapter,\r\n        withNextChapter: isQueryWholeChapter,\r\n    })\r\n\r\n    useEffect(() => {\r\n        if (data && Object.keys(data).length > 0) {\r\n            dispatch(loadRaws(data.data))\r\n        }\r\n    }, [data])\r\n\r\n    useEffect(() => {\r\n        if (error && Object.keys(error).length > 0) {\r\n            throw new Error(error.data.message)\r\n        }\r\n    }, [error])\r\n\r\n    return (\r\n        <Layout.AppContainer>\r\n            <Layout.Top>\r\n                <Headers.Main />\r\n                <Headers.Books />\r\n                <Headers.Selection />\r\n            </Layout.Top>\r\n            <Layout.Body>\r\n                <Books.List />\r\n                <Search.Results />\r\n                <Layout.RawsContent\r\n                    {...{\r\n                        readingQuerys,\r\n                        bookRaws,\r\n                        chapterVerseInfo,\r\n                        currentChapter,\r\n                        selectedRaws,\r\n                    }}\r\n                />\r\n                <Layout.Drawer name=\"new-post\">\r\n                    <Forms.Posts />\r\n                </Layout.Drawer>\r\n                <Layout.Drawer className=\"p-2\" name=\"relative-posts\">\r\n                    <DrawerTitle>相關文章</DrawerTitle>\r\n                </Layout.Drawer>\r\n                <Layout.Drawer\r\n                    className=\"p-2 content-start flex-wrap\"\r\n                    name=\"selected-raws\"\r\n                >\r\n                    <DrawerTitle>\r\n                        {UI_MESSAGE_MAPPING['selected-verses']}\r\n                    </DrawerTitle>\r\n                    <Layout.Drawer.SelectedRaw />\r\n                </Layout.Drawer>\r\n            </Layout.Body>\r\n        </Layout.AppContainer>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { useLongPress } from 'use-long-press'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\n\r\nimport { switchHeadersSelection } from '@assets/js/frontend/states/generalSlice'\r\nimport { putRaw, delRaw } from '@assets/js/frontend/states/selectedSlice'\r\nimport { retrieveFontSize } from '@assets/js/common'\r\n\r\nconst RelateContent = ({}) => {\r\n    return (\r\n        <div className=\"flex relative justify-center my-10px overflow-hidden space-x-4\">\r\n            <div className=\"w-11/12 max-w-360px max-h-180px aspect-video bg-sky-300 rounded-xl\"></div>\r\n            <div className=\"absolute w-11/12 max-w-360px max-h-180px aspect-video bg-sky-300 rounded-xl translate-x-full\"></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Title = ({ children }) => {\r\n    return <h3 className=\"mb-10px text-sm font-bold\">{children}</h3>\r\n}\r\n\r\nTitle.propTypes = {\r\n    children: PropTypes.element,\r\n}\r\n\r\nconst Block = ({ children }) => {\r\n    return (\r\n        <p className=\"line-break-anywhere leading-12 mb-10px last:mb-0px\">\r\n            {children}\r\n        </p>\r\n    )\r\n}\r\n\r\nBlock.propTypes = {\r\n    children: PropTypes.oneOfType([\r\n        PropTypes.element,\r\n        PropTypes.arrayOf(PropTypes.element),\r\n    ]),\r\n}\r\n\r\nconst Line = ({\r\n    active = false,\r\n    block = false,\r\n    id = '0000000',\r\n    bookAbbr = '',\r\n    chapterNum = '',\r\n    verseNum = '',\r\n    children,\r\n}) => {\r\n    const isSelectionMode = useSelector(\r\n        (state) => state.general.headersSwitch.selection\r\n    )\r\n    const dispatch = useDispatch()\r\n    const { raws } = useSelector(\r\n        (state) => state.data\r\n    )\r\n    const {\r\n        fontSize,\r\n    } = useSelector((state) => state.general.displaySetting)\r\n    const selectedRaws = useSelector((state) => state.selected.raws)\r\n    const bind = useLongPress(\r\n        !isSelectionMode\r\n            ? () => {\r\n                  console.log('Long pressed!')\r\n                  dispatch(switchHeadersSelection())\r\n                  if (active) {\r\n                      return\r\n                  }\r\n                  const rawIndex = raws.findIndex(\r\n                      (raw) => raw.id === id\r\n                  )\r\n                  dispatch(putRaw(raws[rawIndex]))\r\n              }\r\n            : null,\r\n        {\r\n            threshold: 500,\r\n            cancelOnMovement: true,\r\n        }\r\n    )\r\n\r\n    const onClickVerse = (id, e) => {\r\n        console.log('onClickVerse')\r\n        e.preventDefault()\r\n        if (!isSelectionMode) {\r\n            return\r\n        }\r\n        const rawIndex = raws.findIndex((raw) => raw.id === id)\r\n        const selectedRawIndex = selectedRaws.findIndex((raw) => raw.id === id)\r\n        const isSelectedRaw = selectedRawIndex !== -1\r\n        if (isSelectedRaw) {\r\n            dispatch(delRaw(selectedRaws[selectedRawIndex]))\r\n            return\r\n        }\r\n        if (active) {\r\n            dispatch(delRaw(raws[rawIndex]))\r\n            return\r\n        }\r\n        dispatch(putRaw(raws[rawIndex]))\r\n    }\r\n    const generateBeforeContentClassName = (bookAbbr, chapterNum) => {\r\n        if (bookAbbr && chapterNum) {\r\n            return 'before:content-[attr(data-book-abbr)_\"_\"attr(data-chapter-num)\":\"_attr(data-verse-num)]'\r\n        }\r\n        return `before:content-[attr(data-verse-num)]`\r\n    }\r\n    const beforeIsWider = !!bookAbbr && !!chapterNum\r\n    const classNames = [\r\n        'before:text-12px',\r\n        ...(!beforeIsWider ? ['before:w-18px'] : ['before:px-3px']),\r\n        'before:inline-flex',\r\n        'before:items-center',\r\n        'before:justify-center',\r\n        'before:text-center',\r\n        generateBeforeContentClassName(bookAbbr, chapterNum),\r\n        'before:align-text-top',\r\n        'before:mt-5px',\r\n        'before:text-gray-400',\r\n        ...(active\r\n            ? [\r\n                  'underline',\r\n                  'decoration-2',\r\n                  'decoration-dotted',\r\n                  'underline-offset-4',\r\n              ]\r\n            : []),\r\n        ...(block ? ['block'] : []),\r\n        'before:leading-none',\r\n        'before:decoration-sky-500',\r\n        'cursor-pointer',\r\n        retrieveFontSize(fontSize),\r\n    ].join(' ')\r\n    return (\r\n        <span\r\n            {...(bookAbbr\r\n                ? {\r\n                      'data-book-abbr': bookAbbr,\r\n                  }\r\n                : {})}\r\n            {...(chapterNum\r\n                ? {\r\n                      'data-chapter-num': chapterNum,\r\n                  }\r\n                : {})}\r\n            {...(verseNum\r\n                ? {\r\n                      'data-verse-num': verseNum,\r\n                  }\r\n                : {})}\r\n            className={classNames}\r\n            {...bind()}\r\n            onClick={onClickVerse.bind(this, id)}\r\n        >\r\n            {children}\r\n        </span>\r\n    )\r\n}\r\n\r\nLine.propTypes = {\r\n    active: PropTypes.bool,\r\n    block: PropTypes.bool,\r\n    id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n    bookAbbr: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n    chapterNum: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n    verseNum: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n    children: PropTypes.oneOfType([\r\n        PropTypes.string,\r\n        PropTypes.element,\r\n        PropTypes.arrayOf(PropTypes.element),\r\n    ]),\r\n}\r\n\r\nexport { Title, Block, Line, RelateContent }\r\n","import React, { useEffect } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport Skeleton from 'react-loading-skeleton'\r\n\r\nimport { onClickVerse, generateVerseUrl } from '@assets/js/frontend/utilities'\r\nimport * as Paragraph from '@components/frontend/paragraph'\r\nimport {\r\n    Line,\r\n    StringLabel,\r\n    Button,\r\n    KeywordLabel,\r\n} from '@assets/js/frontend/components'\r\nimport { useSearchBibleRawsQuery } from '@components/services'\r\nimport {\r\n    changeSearchPaged,\r\n    inputSearchKeywords,\r\n} from '@assets/js/frontend/states/generalSlice'\r\n\r\nexport const Results = () => {\r\n    const dispatch = useDispatch()\r\n    const paged = useSelector((state) => state.general.search.paged)\r\n    const history = useSelector(\r\n        (state) => state.general.search.keywords.history\r\n    )\r\n    const booksData = useSelector((state) => [\r\n        ...state.data.books.old,\r\n        ...state.data.books.new,\r\n    ])\r\n    const showSearchResults = useSelector(\r\n        (state) => state.general.headersSwitch.search\r\n    )\r\n    const currentKeywords = useSelector(\r\n        (state) => state.general.search.keywords.current\r\n    )\r\n    const { data, currentData, error, isFetching, isLoading, isUninitialized } =\r\n        useSearchBibleRawsQuery(\r\n            {\r\n                words: currentKeywords,\r\n                paged,\r\n            },\r\n            {\r\n                skip: currentKeywords.length === 0,\r\n            }\r\n        )\r\n    const classNames = [\r\n        ...(showSearchResults ? ['block'] : ['hidden']),\r\n        'bg-white',\r\n        'overflow-y-auto',\r\n        'p-10',\r\n    ].join(' ')\r\n\r\n    const { results: hits, total } = data?.data || {\r\n        results: [],\r\n        total: 0,\r\n    }\r\n    const loadingLine =\r\n        (isLoading\r\n            ? 20\r\n            : Number(total) - hits.length > 20\r\n            ? 20\r\n            : Number(total) - hits.length) || 0\r\n    const hasMore = total > hits.length\r\n\r\n    const hasError = error && Object.keys(error).length > 0\r\n\r\n    return (\r\n        <div className={classNames}>\r\n            {history.map((keyword, index) => {\r\n                return (\r\n                    <KeywordLabel\r\n                        key={index}\r\n                        onClick={() => {\r\n                            dispatch(inputSearchKeywords(keyword))\r\n                            dispatch(changeSearchPaged(1))\r\n                        }}\r\n                        className=\"text-zinc-400 mr-1 cursor-pointer\"\r\n                    >\r\n                        {keyword}\r\n                    </KeywordLabel>\r\n                )\r\n            })}\r\n            <KeywordLabel className=\"text-rose-600\">\r\n                {currentKeywords}\r\n            </KeywordLabel>\r\n            <StringLabel className={`block w-full my-4`}>\r\n                共 {isLoading ? '?' : total} 筆結果\r\n            </StringLabel>\r\n            <Paragraph.Block>\r\n                <>\r\n                    {hasError ? error.data.message : null}\r\n                    {currentData\r\n                        ? hits.map((raw) => {\r\n                            const slug = booksData[raw.book - 1].slug\r\n                            return (\r\n                                <Link\r\n                                    key={raw.id}\r\n                                    onClick={onClickVerse.bind(this, {\r\n                                        book: raw.book,\r\n                                        chapter: raw.chapter,\r\n                                        verse: raw.verse,\r\n                                    })}\r\n                                    to={generateVerseUrl(\r\n                                        slug,\r\n                                        raw.chapter,\r\n                                        raw.verse\r\n                                    )}\r\n                                >\r\n                                    <Line\r\n                                        className=\"before:mt-15px\"\r\n                                        block={true}\r\n                                        id={raw.id}\r\n                                        bookAbbr={raw.book}\r\n                                        chapterNum={raw.chapter}\r\n                                        verseNum={raw.verse}\r\n                                    >\r\n                                        {raw.text}\r\n                                    </Line>\r\n                                </Link>\r\n                              )\r\n                          })\r\n                        : null}\r\n                    {isFetching ? (\r\n                        <Skeleton inline={false} count={loadingLine} />\r\n                    ) : null}\r\n                </>\r\n            </Paragraph.Block>\r\n            <div\r\n                className={['w-full', ...(!hasMore ? ['hidden'] : [])].join(\r\n                    ' '\r\n                )}\r\n            >\r\n                <Button\r\n                    onClick={() => {\r\n                        dispatch(changeSearchPaged(paged + 1))\r\n                    }}\r\n                >\r\n                    讀取更多\r\n                </Button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import { createSlice } from '@reduxjs/toolkit'\r\nimport RHEMA_LOCALIZE from 'RHEMA_LOCALIZE'\r\n\r\nconst initialQuery = RHEMA_LOCALIZE.RHEMA_INITAIL_DATA?.QUERYS\r\n\r\nconst initialState = {\r\n    raws: RHEMA_LOCALIZE.RHEMA_INITAIL_DATA?.RAW || [],\r\n    books: RHEMA_LOCALIZE.RHEMA_INITAIL_DATA?.BOOKS || [],\r\n    readingQuerys: initialQuery,\r\n    translation: {\r\n        abbr: RHEMA_LOCALIZE.RHEMA_INITAIL_DATA?.TRANSLATION?.ABBR,\r\n        info: RHEMA_LOCALIZE.RHEMA_INITAIL_DATA?.TRANSLATION?.INFO,\r\n    },\r\n}\r\n\r\nexport const dataSlice = createSlice({\r\n    name: 'data',\r\n    initialState,\r\n    reducers: {\r\n        loadRaws: (state, action) => {\r\n            const { payload } = action\r\n\r\n            const newDiffRaws = [...payload].filter((newFetchedRaw) => {\r\n                return 0 > state.raws.findIndex(\r\n                    (fetchedRaw) =>\r\n                        fetchedRaw.book === newFetchedRaw.book &&\r\n                        fetchedRaw.chapter === newFetchedRaw.chapter &&\r\n                        fetchedRaw.verse === newFetchedRaw.verse\r\n                )\r\n            })\r\n            const prepareRaws = [...state.raws, ...newDiffRaws].sort(function (\r\n                a,\r\n                b\r\n            ) {\r\n                return a.id - b.id\r\n            })\r\n            state.raws = prepareRaws\r\n        },\r\n        insertRaw: (state, action) => {\r\n            const { payload } = action\r\n            state.raws.push(payload)\r\n        },\r\n        updateReadingQuerys: (state, action) => {\r\n            const { payload } = action\r\n            state.readingQuerys = payload\r\n        },\r\n    },\r\n})\r\n\r\n// Action creators are generated for each case reducer function\r\nexport const { loadRaws, insertRaw, updateReadingQuerys } = dataSlice.actions\r\n\r\nexport default dataSlice.reducer\r\n","import { createSlice } from '@reduxjs/toolkit'\r\n\r\nconst initialState = {\r\n    fullscreen: false,\r\n    isAfterReload: true,\r\n    pageSwipper: {\r\n        pagePos: 1,\r\n        onTransition: true,\r\n    },\r\n    displaySetting: {\r\n        fontSize: 'md',\r\n    },\r\n    headersSwitch: {\r\n        main: true,\r\n        books: false,\r\n        selection: false,\r\n        search: false,\r\n    },\r\n    booksSelector: {\r\n        books: true,\r\n        chapters: false,\r\n        verses: false,\r\n    },\r\n    currentSelection: {\r\n        books: '',\r\n        chapters: '',\r\n        verses: '',\r\n    },\r\n    search: {\r\n        keywords: {\r\n            current: '',\r\n            history: [],\r\n        },\r\n        paged: 1,\r\n    },\r\n    drawer: {},\r\n}\r\n\r\nconst disableAllHeader = (headersSwitch) => {\r\n    Object.keys(headersSwitch).forEach((key) => {\r\n        headersSwitch[key] = false\r\n    })\r\n}\r\n\r\nexport const generalSlice = createSlice({\r\n    name: 'general',\r\n    initialState,\r\n    reducers: {\r\n        toggleScreen: (state) => {\r\n            state.fullscreen = !state.fullscreen\r\n        },\r\n        toggleDrawer: (state, action) => {\r\n            const { name: drawerName } = action.payload\r\n            if (!drawerName) {\r\n                return\r\n            }\r\n            state.drawer = {\r\n                ...state.drawer,\r\n                [drawerName]: !state.drawer[drawerName],\r\n            }\r\n        },\r\n        switchHeadersMain: (state) => {\r\n            disableAllHeader(state.headersSwitch)\r\n            state.headersSwitch.main = true\r\n            state.booksSelector.chapters = false\r\n            state.booksSelector.verses = false\r\n            state.booksSelector.books = true\r\n            Object.keys(state.drawer).forEach((key) => {\r\n                state.drawer[key] = false\r\n            })\r\n        },\r\n        switchHeadersBooks: (state) => {\r\n            disableAllHeader(state.headersSwitch)\r\n            state.headersSwitch.books = true\r\n        },\r\n        switchHeadersSelection: (state) => {\r\n            disableAllHeader(state.headersSwitch)\r\n            state.headersSwitch.selection = true\r\n        },\r\n        switchHeadersSearch: (state) => {\r\n            disableAllHeader(state.headersSwitch)\r\n            state.headersSwitch.search = true\r\n        },\r\n        booksSelectorToggle: (state) => {\r\n            state.headersSwitch.books = !state.headersSwitch.books\r\n        },\r\n        booksSelectorBooks: (state) => {\r\n            state.booksSelector = {\r\n                chapters: false,\r\n                verses: false,\r\n                books: true,\r\n            }\r\n        },\r\n        booksSelectorChapters: (state) => {\r\n            state.booksSelector = {\r\n                chapters: true,\r\n                verses: false,\r\n                books: false,\r\n            }\r\n        },\r\n        booksSelectorVerses: (state) => {\r\n            state.booksSelector = {\r\n                chapters: false,\r\n                verses: true,\r\n                books: false,\r\n            }\r\n        },\r\n        currentSelection: (state, action) => {\r\n            const { payload } = action\r\n            state.currentSelection = { ...state.currentSelection, ...payload }\r\n        },\r\n        clickBookSelector: (state, action) => {\r\n            const { payload } = action\r\n            const payloadKeys = Object.keys(payload)\r\n            const currentClickBookChapterVerses =\r\n                payloadKeys.indexOf('verses') !== -1\r\n                    ? 'verses'\r\n                    : payloadKeys.indexOf('chapters') !== -1\r\n                        ? 'chapters'\r\n                        : payloadKeys.indexOf('books') !== -1\r\n                            ? 'books'\r\n                            : false\r\n            if (!currentClickBookChapterVerses) {\r\n                return state\r\n            }\r\n            switch (currentClickBookChapterVerses) {\r\n                case 'books':\r\n                    state.booksSelector.chapters =\r\n                        !state.booksSelector.chapters\r\n                    state.booksSelector.verses = false\r\n                    state.booksSelector.books = false\r\n                    state.currentSelection.chapters = ''\r\n                    break\r\n                case 'chapters':\r\n                    state.booksSelector.chapters = false\r\n                    state.booksSelector.verses = !state.booksSelector.verses\r\n                    state.booksSelector.books = false\r\n                    break\r\n                case 'verses':\r\n                    state.headersSwitch.main = true\r\n                    state.headersSwitch.books = false\r\n                    state.booksSelector.chapters = false\r\n                    state.booksSelector.verses = false\r\n                    state.booksSelector.books = true\r\n                    state.headersSwitch.search = false\r\n                    break\r\n            }\r\n\r\n            state.isAfterReload = false\r\n            state.currentSelection = { ...state.currentSelection, ...payload }\r\n        },\r\n        inputSearchKeywords: (state, action) => {\r\n            const { payload } = action\r\n            if (\r\n                !!state.search.keywords.current &&\r\n                state.search.keywords.current.length > 0 &&\r\n                payload !== state.search.keywords.current\r\n            ) {\r\n                state.search.keywords.history.push(\r\n                    state.search.keywords.current\r\n                )\r\n            }\r\n            if (state.search.keywords.history.includes(payload)) {\r\n                state.search.keywords.history =\r\n                    state.search.keywords.history.filter((item) => {\r\n                        return item !== payload\r\n                    })\r\n            }\r\n            state.search.keywords.current = payload\r\n        },\r\n        changeSearchPaged: (state, action) => {\r\n            const { payload: paged } = action\r\n            state.search.paged = paged\r\n        },\r\n        changeFontSize: (state) => {\r\n            const sizes = ['sm', 'md', 'lg']\r\n            const currentSizeIndex = sizes.indexOf(\r\n                state.displaySetting.fontSize\r\n            )\r\n            const nextfontSize =\r\n                currentSizeIndex + 1 > sizes.length - 1\r\n                    ? sizes[0]\r\n                    : sizes[currentSizeIndex + 1]\r\n            state.displaySetting.fontSize = nextfontSize\r\n        },\r\n        updatePageSwipper: (state, action) => {\r\n            const { payload } = action\r\n            state.pageSwipper = { ...state.pageSwipper, ...payload }\r\n        },\r\n    },\r\n})\r\n\r\n// Action creators are generated for each case reducer function\r\nexport const {\r\n    toggleScreen,\r\n    toggleDrawer,\r\n    switchHeadersMain,\r\n    switchHeadersBooks,\r\n    switchHeadersSelection,\r\n    switchHeadersSearch,\r\n    booksSelectorBooks,\r\n    booksSelectorChapters,\r\n    booksSelectorVerses,\r\n    currentSelection,\r\n    clickBookSelector,\r\n    inputSearchKeywords,\r\n    changeSearchPaged,\r\n    changeFontSize,\r\n    updatePageSwipper,\r\n} = generalSlice.actions\r\n\r\nexport default generalSlice.reducer\r\n","import { createSlice } from '@reduxjs/toolkit'\r\n\r\nconst initialState = {\r\n    raws: [],\r\n}\r\n\r\nexport const selectedSlice = createSlice({\r\n    name: 'selected',\r\n    initialState,\r\n    reducers: {\r\n        putRaw: (state, action) => {\r\n            const { payload } = action\r\n            console.log(payload)\r\n            state.raws.push(payload)\r\n            state.raws.sort((a, b) => {\r\n                if (a.id < b.id) {\r\n                    return -1\r\n                }\r\n                if (a.id > b.id) {\r\n                    return 1\r\n                }\r\n                return 0\r\n            })\r\n        },\r\n        delRaw: (state, action) => {\r\n            const { payload } = action\r\n            const targetID = payload.id\r\n            const targetIndex = state.raws.findIndex(\r\n                (raw) => raw.id === targetID\r\n            )\r\n            state.raws.splice(targetIndex, 1)\r\n        },\r\n        clearRaw: (state) => {\r\n            state.raws = []\r\n        },\r\n    },\r\n})\r\n\r\n// Action creators are generated for each case reducer function\r\nexport const { putRaw, delRaw, clearRaw } = selectedSlice.actions\r\n\r\nexport default selectedSlice.reducer\r\n","import { configureStore } from '@reduxjs/toolkit'\r\nimport { setupListeners } from '@reduxjs/toolkit/query'\r\n\r\nimport { bibleApi, searchApi } from '../services'\r\nimport generalReducer from './states/generalSlice'\r\nimport dataReducer from './states/dataSlice'\r\nimport selectedReducer from './states/selectedSlice'\r\n\r\nexport const store = configureStore({\r\n    reducer: {\r\n        general: generalReducer,\r\n        data: dataReducer,\r\n        selected: selectedReducer,\r\n        [bibleApi.reducerPath]: bibleApi.reducer,\r\n        [searchApi.reducerPath]: searchApi.reducer,\r\n    },\r\n    middleware: (getDefaultMiddleware) =>\r\n        getDefaultMiddleware().concat([bibleApi.middleware, searchApi.middleware]),\r\n})\r\n\r\nsetupListeners(store.dispatch)","import React, { useState } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\n\r\nimport { UI_MESSAGE_MAPPING } from '@components/constants'\r\nimport {\r\n    booksSelectorBooks,\r\n    booksSelectorChapters,\r\n    booksSelectorVerses,\r\n} from '@assets/js/frontend/states/generalSlice'\r\nimport * as Layout from '@components/frontend/layouts'\r\n\r\nconst Tab = ({ isActive, onClick, children }) => {\r\n    const underlineClassNames = [\r\n        \"after:content-['']\",\r\n        'after:block',\r\n        'after:h-2px',\r\n        'after:w-full',\r\n        'after:absolute',\r\n        'after:-bottom-px',\r\n        'after:left-0',\r\n        'after:bg-red-600',\r\n    ]\r\n    const classNames = [\r\n        'relative',\r\n        'px-12px',\r\n        'py-8px',\r\n        ...(isActive ? underlineClassNames : []),\r\n        'cursor-pointer',\r\n    ].join(' ')\r\n    return (\r\n        <div className={classNames} onClick={onClick}>\r\n            {children}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst BookTab = ({ classname: extraClassName = '' }) => {\r\n    const triggerTabs = useSelector((state) => state.general.booksSelector)\r\n    const classNames = [\r\n        'border-t',\r\n        'justify-around',\r\n        ...extraClassName.split(' '),\r\n    ].join(' ')\r\n\r\n    const dispatch = useDispatch()\r\n    const onClickTabBook = () => dispatch(booksSelectorBooks())\r\n    const onClickTabChapter = () => dispatch(booksSelectorChapters())\r\n    const onClickTabVerse = () => dispatch(booksSelectorVerses())\r\n\r\n    return (\r\n        <Layout.Top.Row className={classNames}>\r\n            <Tab isActive={triggerTabs.books} onClick={onClickTabBook}>\r\n                {UI_MESSAGE_MAPPING['bible-directory/book']}\r\n            </Tab>\r\n            <Tab isActive={triggerTabs.chapters} onClick={onClickTabChapter}>\r\n                {UI_MESSAGE_MAPPING['bible-directory/chapter']}\r\n            </Tab>\r\n            <Tab isActive={triggerTabs.verses} onClick={onClickTabVerse}>\r\n                {UI_MESSAGE_MAPPING['bible-directory/verse']}\r\n            </Tab>\r\n        </Layout.Top.Row>\r\n    )\r\n}\r\n\r\nexport { BookTab }\r\n","import React, { forwardRef } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { motion } from 'framer-motion'\r\nimport { HiOutlineSearch } from 'react-icons/hi'\r\nimport { AiOutlineExpand, AiOutlineCompress } from 'react-icons/ai'\r\nimport { BsPlus } from 'react-icons/bs'\r\nimport { MdHistoryToggleOff } from 'react-icons/md'\r\nimport Ripples from 'react-ripples'\r\n\r\nimport {\r\n    toggleScreen,\r\n    toggleDrawer,\r\n    switchHeadersBooks,\r\n} from '@assets/js/frontend/states/generalSlice'\r\nimport { Form } from '@components/frontend/forms'\r\n\r\nconst Bordered = ({ children }) => {\r\n    return (\r\n        <Ripples>\r\n            <div className=\"flex items-center leading-18px md:leading-22px justify-center overflow-hidden bg-white border border-gray-300 rounded-sm w-72px md:w-80px py-5px md:py-8px\">\r\n                {children}\r\n            </div>\r\n        </Ripples>\r\n    )\r\n}\r\n\r\nconst Borderless = ({ onClick, children }) => {\r\n    return (\r\n        <Ripples>\r\n            <div\r\n                className=\"relative flex items-center justify-center overflow-hidden h-30px w-30px md:h-40px md:w-40px cursor-pointer\"\r\n                onClick={onClick}\r\n            >\r\n                {children}\r\n            </div>\r\n        </Ripples>\r\n    )\r\n}\r\n\r\nconst SearchBar = forwardRef(({ expand, onSubmit, ...otherprops }, ref) => {\r\n    const inputClassNames = [\r\n        'w-0',\r\n        'h-24px',\r\n        'outline-0',\r\n        'group-hover:w-auto',\r\n        ...(expand ? ['w-auto'] : []),\r\n    ].join(' ')\r\n    return (\r\n        <Ripples>\r\n            <Form onSubmit={onSubmit}>\r\n                <div className=\"relative flex items-center justify-center overflow-hidden bg-white border border-gray-300 rounded-sm py-2px pl-5px pr-23px md:pl-9px md:pr-29px md:py-7px group\">\r\n                    <input\r\n                        placeholder=\"輸入關鍵字進行搜尋\"\r\n                        type=\"text\"\r\n                        autoComplete=\"off\"\r\n                        className={inputClassNames}\r\n                        {...(!!ref ? { ref } : {})}\r\n                        {...(!!otherprops ? otherprops : {})}\r\n                    />\r\n                    <HiOutlineSearch className=\"absolute h-20px w-20px right-4px md:right-10px text-neutral-600\" />\r\n                </div>\r\n            </Form>\r\n        </Ripples>\r\n    )\r\n})\r\n\r\nconst FullScreenToggle = () => {\r\n    const fullscreen = useSelector((state) => state.general.fullscreen)\r\n    const Icon = fullscreen ? (\r\n        <AiOutlineCompress className=\"h-20px w-20px right-4px md:right-10px text-neutral-700\" />\r\n    ) : (\r\n        <AiOutlineExpand className=\"h-20px w-20px right-4px md:right-10px text-neutral-700\" />\r\n    )\r\n    const dispatch = useDispatch()\r\n    return (\r\n        <Ripples>\r\n            <Borderless onClick={() => dispatch(toggleScreen())}>\r\n                {Icon}\r\n            </Borderless>\r\n        </Ripples>\r\n    )\r\n}\r\n\r\nconst BooksSelectorButton = ({ range = [] }) => {\r\n    const toggleRange =\r\n        Array.isArray(range) && range.length === 2 ? (\r\n            <>\r\n                <div className=\"h-px mx-1 bg-gray-400 w-8px\"></div>\r\n                <div className=\"text-center leading-18px md:leading-22px w-96px md:w-144px py-5px md:py-8px\">\r\n                    <span>{range.pop()}</span>\r\n                </div>\r\n            </>\r\n        ) : null\r\n    const dispatch = useDispatch()\r\n    console.log(range)\r\n    return (\r\n        <div\r\n            className=\"flex items-center overflow-hidden bg-white border border-dashed border-gray-300 rounded-sm cursor-pointer\"\r\n            onClick={() => dispatch(switchHeadersBooks())}\r\n        >\r\n            <div className=\"text-center leading-18px md:leading-22px min-w-96px md:min-w-144px p-5px md:p-8px\">\r\n                <span>{range.shift()}</span>\r\n            </div>\r\n            {toggleRange}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst AddNewPostButton = ({\r\n    showOn = false,\r\n    className: extraClassname = '',\r\n}) => {\r\n    const classNames = [\r\n        'absolute',\r\n        'right-18px',\r\n        'bottom-18px',\r\n        'rounded-full',\r\n        'overflow-hidden',\r\n        'bg-gray-100',\r\n        'drop-shadow-md',\r\n        ...extraClassname.split(' '),\r\n    ].join(' ')\r\n    const dispatch = useDispatch()\r\n    return (\r\n        <motion.div\r\n            animate={{\r\n                y: showOn ? '0%' : '200%',\r\n            }}\r\n            transition={{ ease: 'easeOut' }}\r\n            initial={false}\r\n            className={classNames}\r\n        >\r\n            <Ripples>\r\n                <button\r\n                    className=\"w-full p-5px\"\r\n                    onClick={() => {\r\n                        dispatch(toggleDrawer({ name: 'new-post' }))\r\n                    }}\r\n                >\r\n                    <BsPlus className=\"h-40px w-40px text-neutral-700\" />\r\n                </button>\r\n            </Ripples>\r\n        </motion.div>\r\n    )\r\n}\r\n\r\nconst CurrentRawsSelected = () => {\r\n    const selectedRaws = useSelector((state) => state.selected.raws)\r\n    const booksDataSelector = useSelector((state) => [\r\n        ...state.data.books.old,\r\n        ...state.data.books.new,\r\n    ])\r\n    const displayCurrentSelected = selectedRaws.reduce(\r\n        (acc, raw, index, raws) => {\r\n            const bookIndex = raw.book\r\n            const bookFilterd = booksDataSelector.filter(\r\n                (book) => book.index === bookIndex\r\n            )\r\n            const abbrName = bookFilterd[0].abbr\r\n            if (index === 0) {\r\n                acc.push(`${abbrName} ${raw.chapter}:${raw.verse}`)\r\n                return acc\r\n            }\r\n            if (Math.abs(raw.id - raws[index - 1].id) === 1) {\r\n                acc[acc.length - 1] = acc[acc.length - 1].replace(\r\n                    /\\-\\d{0,3}/,\r\n                    ''\r\n                )\r\n                acc[acc.length - 1] += `-${raw.verse}`\r\n                return acc\r\n            }\r\n            acc.push(`${raw.chapter}:${raw.verse}`)\r\n            return acc\r\n        },\r\n        []\r\n    )\r\n    const dispatch = useDispatch()\r\n    return (\r\n        <Ripples>\r\n            <div\r\n                className=\"flex items-center overflow-hidden bg-white border border-dashed border-gray-300 rounded-sm cursor-pointer\"\r\n                onClick={() =>\r\n                    dispatch(toggleDrawer({ name: 'selected-raws' }))\r\n                }\r\n            >\r\n                {displayCurrentSelected.length > 0 &&\r\n                !!displayCurrentSelected[0] ? (\r\n                    <div className=\"text-center leading-18px md:leading-22px p-5px md:p-8px\">\r\n                        <span>{displayCurrentSelected.join(', ')}</span>\r\n                    </div>\r\n                ) : null}\r\n                <div className=\"p-5px\">\r\n                    <MdHistoryToggleOff className=\"h-20px w-20px text-neutral-700\" />\r\n                </div>\r\n            </div>\r\n        </Ripples>\r\n    )\r\n}\r\n\r\nexport {\r\n    AddNewPostButton,\r\n    BooksSelectorButton,\r\n    CurrentRawsSelected,\r\n    Bordered,\r\n    Borderless,\r\n    FullScreenToggle,\r\n    SearchBar,\r\n}\r\n","import isempty from 'lodash/isEmpty'\r\nimport { generatePath } from 'react-router-dom'\r\nimport { max } from 'lodash'\r\n\r\nimport { store } from '@assets/js/frontend/store'\r\nimport { clickBookSelector } from '@assets/js/frontend/states/generalSlice'\r\nimport { updateReadingQuerys } from '@assets/js/frontend/states/dataSlice'\r\n\r\n/**\r\n * 將相同的書、章的字串縮短\r\n * @param array queryString\r\n * @returns string\r\n */\r\nexport const queryStringModifier = (queryString = []) => {\r\n    if (isempty(queryString)) {\r\n        return ['聖經目錄']\r\n    }\r\n    if (queryString.length < 2) {\r\n        return ['']\r\n    }\r\n    const rangeFrom = queryString[0]\r\n    const rangeTo = queryString[1] ? queryString[1] : queryString[0]\r\n    const isSameBook = rangeFrom.book.name === rangeTo.book.name\r\n    const isSameChapter = rangeFrom.chapter === rangeTo.chapter\r\n    let returnQueryString = [\r\n        `${rangeFrom.book.name} ${rangeFrom.chapter}:${rangeFrom.verse}`,\r\n    ]\r\n    if (!!rangeTo && !!rangeTo.book && rangeTo.chapter && rangeTo.verse) {\r\n        returnQueryString[0] += `-${isSameBook ? '' : rangeTo.book.name + ' '}${isSameChapter ? '' : rangeTo.chapter + ':'\r\n            }${rangeTo.verse}`\r\n    }\r\n    return returnQueryString\r\n}\r\n\r\nexport const generateVerseUrl = (bookAbbr, chapter, number) => {\r\n    return generatePath('/bible/:books/:verse', {\r\n        books: bookAbbr,\r\n        verse: `${chapter}:${number}`,\r\n    })\r\n}\r\n\r\nexport const generateRestRangeParam = ({ books1, verse1, books2, verse2 }) => {\r\n    const range =\r\n        books2 && verse2\r\n            ? [`${books1}${verse1}`, `${books2}${verse2}`]\r\n            : [`${books1}${verse1}`]\r\n    return range\r\n}\r\n\r\nexport const retrieveChapterByParamString = (paramString) => {\r\n    const matched = paramString.match(/[0-9]?[a-z]+(\\d{0,3}):?(\\d{0,3})/i)\r\n    return Number(matched[1])\r\n}\r\n\r\nexport const retrieveBookIndexBySlug = (slug) => {\r\n    const { getState } = store\r\n    const { data } = getState()\r\n    const bookData = [...data.books.old, ...data.books.new]\r\n    const bookFiltered = bookData.filter((book) => book.slug === slug)\r\n    if (bookFiltered.length === 0) {\r\n        return new Error(`Can not find book by slug: ${slug}`)\r\n    }\r\n    const bookIndex = bookFiltered[0].index\r\n    return bookIndex\r\n}\r\n\r\nexport const validIsQueryWholeChapter = (querys, chapterVerseInfo) => {\r\n    if (!chapterVerseInfo) {\r\n        return new Error(`Parma chapterVerseInfo is must needed.`)\r\n    }\r\n    if (!Array.isArray(querys) || querys.length === 0) {\r\n        return new Error(`Parma querys length equal 0.`)\r\n    }\r\n    if (querys.length > 2) {\r\n        return new Error(`Parma querys length should be less then 2.`)\r\n    }\r\n    if (querys.length === 1) {\r\n        return true\r\n    }\r\n    if (querys[0].book.index !== querys[1].book.index) {\r\n        return false\r\n    }\r\n    if (Number(querys[0].chapter) !== Number(querys[1].chapter)) {\r\n        return false\r\n    }\r\n    if (Number(querys[0].verse) !== 1) {\r\n        return false\r\n    }\r\n    const maxVerseNumber =\r\n        chapterVerseInfo[querys[0].book.index][querys[0].chapter]\r\n    if (Number(querys[1].verse) !== maxVerseNumber) {\r\n        return false\r\n    }\r\n    return true\r\n}\r\n\r\nexport const generateRandomlyChapter = (assignSchema) => {\r\n    const { getState } = store\r\n    const { data } = getState()\r\n    let schema = assignSchema\r\n    if (!Array.isArray(schema) || schema.length === 0) {\r\n        schema = ['book', 'chapter', 'verse']\r\n    }\r\n    const bookData = [...data.books.old, ...data.books.new]\r\n    const bookIndexRandomly = Math.round(Math.random() * bookData.length)\r\n    const maxChapterNumberOfCurrentBook = bookData[bookIndexRandomly].chapters\r\n    const chapterIndexRandomly = Math.floor(Math.random() * maxChapterNumberOfCurrentBook) + 1 \r\n    console.log(bookData, bookIndexRandomly, maxChapterNumberOfCurrentBook, chapterIndexRandomly)\r\n    return {\r\n        book: bookData[bookIndexRandomly],\r\n        chapter: chapterIndexRandomly,\r\n        verse: 1,\r\n    }\r\n}\r\n\r\nexport const onClickVerse = async function ({\r\n    book: bookIndex,\r\n    chapter,\r\n    verse,\r\n    maxVerseNumberOfChapter,\r\n}) {\r\n    const { dispatch, getState } = store\r\n    const { data } = getState()\r\n    let maxVerseNumber = maxVerseNumberOfChapter\r\n    if (!maxVerseNumber) {\r\n        const { chapterVerseInfo } = data.translation.info\r\n        maxVerseNumber = chapterVerseInfo[bookIndex][chapter]\r\n    }\r\n    const bookData = [...data.books.old, ...data.books.new]\r\n    const book = bookData[bookIndex - 1]\r\n    const prepareQueryString = [\r\n        { book, chapter, verse: 1 },\r\n        { book, chapter, verse: maxVerseNumber },\r\n    ]\r\n    await dispatch(updateReadingQuerys(prepareQueryString))\r\n    await dispatch(\r\n        clickBookSelector({\r\n            verses: Number(verse),\r\n        })\r\n    )\r\n}","import Joi from 'joi'\r\n\r\nimport { IDENTITY_TYPE } from '@components/constants'\r\n\r\nconst fields = {\r\n    email: Joi.string().email({\r\n        minDomainSegments: 2,\r\n        tlds: { allow: ['com', 'net', 'tw', 'org', 'io', 'app', 'test'] },\r\n    }),\r\n    identity_type: Joi.string().valid(IDENTITY_TYPE),\r\n    product_slug: Joi.string().valid(\r\n        'donate-for-txipartners',\r\n        'wp-rhema-core-feature',\r\n        'wp-rehema-rlation-feature',\r\n        'wp-rehema-q-and-a-feature',\r\n        'wp-rehema-offline-reading'\r\n    ),\r\n    username: Joi.string().min(5).max(30),\r\n    password: Joi.string().pattern(new RegExp('^[a-zA-Z0-9!@#$%]{3,30}$')),\r\n    license: Joi.string(),\r\n    searchKeyword: Joi.string(),\r\n}\r\n\r\nexport const signinLogosFields = Joi.object({\r\n    identity_type: fields.identity_type.required(),\r\n    username: fields.username.required(),\r\n    password: fields.password.required(),\r\n})\r\n\r\nexport const verifyEmailLogosFields = Joi.object({\r\n    email: fields.email.required(),\r\n    activation_key: Joi.string().empty(''),\r\n})\r\n\r\nexport const forgotPasswordLogosFields = Joi.object({\r\n    email: fields.email.required(),\r\n    auth_code: Joi.string().empty(''),\r\n    password: fields.password.empty(''),\r\n    confirm_password: fields.password.empty(''),\r\n})\r\n\r\nexport const activateRhemeaFields = Joi.object({\r\n    email: fields.email.required(),\r\n    identity_type: fields.identity_type.required(),\r\n    product_slug: fields.product_slug.required(),\r\n    username: fields.username.required(),\r\n    password: fields.password.required(),\r\n    confirm_password: Joi.ref('password'),\r\n})\r\n\r\nexport const activateRhemeaByLicense = Joi.object({\r\n    email: fields.email.required(),\r\n    identity_type: fields.identity_type.required(),\r\n    product_slug: fields.product_slug.required(),\r\n    username: fields.username.required(),\r\n    license: fields.license.required(),\r\n})\r\n\r\nexport const searchBibleRawsByKeyword = Joi.object({\r\n    words: fields.searchKeyword,\r\n})\r\n","import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react'\r\nimport shortHash from 'shorthash2'\r\n\r\nimport RHEMA_LOCALIZE from 'RHEMA_LOCALIZE'\r\nimport { retrieveLogosSignedToken } from '@components/common'\r\nimport {\r\n    PRODUCT_SLUG_REST_NAME_MAP,\r\n    PRODUCT_SLUGS,\r\n} from '@components/constants'\r\n\r\nconst prepareHeaders = (headers) => {\r\n    const nonce =\r\n        RHEMA_LOCALIZE?.RHEMA_BACKEND?.NONCE ||\r\n        RHEMA_LOCALIZE?.RHEMA_INITAIL_DATA?.NONCE\r\n\r\n    if (nonce) {\r\n        headers.set('X-WP-Nonce', nonce)\r\n    }\r\n\r\n    return headers\r\n}\r\n\r\nexport const optionsApi = createApi({\r\n    reducerPath: 'api.options',\r\n    baseQuery: fetchBaseQuery({\r\n        baseUrl: RHEMA_LOCALIZE.RHEMA_REST_ENDPOINTS.options,\r\n        prepareHeaders,\r\n    }),\r\n    endpoints: (builder) => ({\r\n        updateOptions: builder.mutation({\r\n            query: (body) => {\r\n                return {\r\n                    method: 'POST',\r\n                    body,\r\n                }\r\n            },\r\n            transformResponse: (response) => {\r\n                return response\r\n            },\r\n            transformErrorResponse: (response) => {\r\n                return response\r\n            },\r\n        }),\r\n    }),\r\n})\r\n\r\nexport const { useUpdateOptionsMutation } = optionsApi\r\n\r\nexport const bibleApi = createApi({\r\n    reducerPath: 'api.bible',\r\n    baseQuery: fetchBaseQuery({\r\n        baseUrl: RHEMA_LOCALIZE.RHEMA_REST_ENDPOINTS.bible,\r\n        prepareHeaders,\r\n    }),\r\n    endpoints: (builder) => ({\r\n        getBibleRaw: builder.query({\r\n            query: ({ ranges = [], withPrevChapter, withNextChapter }) => {\r\n                if (typeof ranges === 'string') {\r\n                    ranges = [ranges]\r\n                }\r\n                const withPrevChapterQueryString = withPrevChapter\r\n                    ? '&with_prev_chapter=1'\r\n                    : ''\r\n                const withNextChapterQueryString = withNextChapter\r\n                    ? '&with_next_chapter=1'\r\n                    : ''\r\n                return `${ranges.reduce((acc, range, index) => {\r\n                    const joiner = index === 0 ? '?' : '&'\r\n                    return `${acc}${joiner}range[]=${range}`\r\n                }, '')}${withPrevChapterQueryString}${withNextChapterQueryString}`\r\n            },\r\n            transformErrorResponse: (response) => {\r\n                console.log(response)\r\n                return response\r\n            },\r\n        }),\r\n    }),\r\n})\r\n\r\nexport const { useGetBibleRawQuery, usePrefetch } = bibleApi\r\n\r\nexport const searchApi = createApi({\r\n    reducerPath: 'api.search',\r\n    baseQuery: fetchBaseQuery({\r\n        baseUrl: RHEMA_LOCALIZE.RHEMA_REST_ENDPOINTS.bible,\r\n        prepareHeaders,\r\n    }),\r\n    endpoints: (builder) => ({\r\n        searchBibleRaws: builder.query({\r\n            query: ({ words, paged = 1, size = 20 }) => {\r\n                return `search?words=${words}&from=${(paged - 1) * size}`\r\n            },\r\n            serializeQueryArgs: ({ queryArgs, endpointName }) => {\r\n                const { words } = queryArgs\r\n                if (typeof words === 'undefined') {\r\n                    return endpointName\r\n                }\r\n                const shortHashString = shortHash(words)\r\n                return `${endpointName}_${shortHashString}`\r\n            },\r\n            merge: (currentCache, newItems) => {\r\n                console.log('merge')\r\n                const currentItems = currentCache.data.hits.hits\r\n                const currentIds = currentItems.map((item) => {\r\n                    return item._id\r\n                })\r\n                const newPushItems = newItems.data.hits.hits.filter((item) => {\r\n                    return !currentIds.includes(item._id)\r\n                })\r\n                currentItems.push(...newPushItems)\r\n            },\r\n            transformResponse: (response) => {\r\n                // console.log(response)\r\n                return response\r\n            },\r\n            transformErrorResponse: (response) => {\r\n                // console.log(response)\r\n                return response\r\n            },\r\n            forceRefetch({ currentArg, previousArg }) {\r\n                if (typeof previousArg === 'undefined') {\r\n                    return true\r\n                }\r\n                if (currentArg?.words !== previousArg?.words) {\r\n                    console.log(\r\n                        'forceRefetch',\r\n                        currentArg?.words !== previousArg?.words\r\n                    )\r\n                    return true\r\n                }\r\n                if (currentArg?.paged !== previousArg?.paged) {\r\n                    return true\r\n                }\r\n                return false\r\n            },\r\n        }),\r\n    }),\r\n})\r\n\r\nexport const { useSearchBibleRawsQuery } = searchApi\r\n\r\nexport const activateApi = createApi({\r\n    reducerPath: 'api.activate',\r\n    baseQuery: fetchBaseQuery({\r\n        baseUrl: RHEMA_LOCALIZE.RHEMA_REST_ENDPOINTS.activate,\r\n        prepareHeaders,\r\n    }),\r\n    endpoints: (builder) => ({\r\n        activateCore: builder.mutation({\r\n            query: (body) => {\r\n                const { product_slug: productSlug } = body\r\n                const restName = PRODUCT_SLUG_REST_NAME_MAP[productSlug]\r\n                if (typeof restName === 'undefined' || !restName) {\r\n                    throw new Error('Error in mutation.query')\r\n                }\r\n\r\n                return {\r\n                    url: PRODUCT_SLUG_REST_NAME_MAP[productSlug],\r\n                    method: 'POST',\r\n                    body,\r\n                }\r\n            },\r\n            transformResponse: (response) => {\r\n                return response\r\n            },\r\n            transformErrorResponse: (response) => {\r\n                return response\r\n            },\r\n        }),\r\n        activateByLicense: builder.mutation({\r\n            query: (body) => {\r\n                const { product_slug: productSlug } = body\r\n                if (typeof productSlug === 'undefined' || !productSlug) {\r\n                    throw new Error('Error in mutation.query')\r\n                }\r\n                if (!PRODUCT_SLUGS.includes(productSlug)) {\r\n                    throw new Error('Error in mutation.query')\r\n                }\r\n                return {\r\n                    url: 'license',\r\n                    method: 'POST',\r\n                    body,\r\n                }\r\n            },\r\n        }),\r\n    }),\r\n})\r\n\r\nexport const { useActivateCoreMutation, useActivateByLicenseMutation } =\r\n    activateApi\r\n\r\nexport const deactivateApi = createApi({\r\n    reducerPath: 'api.deactivate',\r\n    baseQuery: fetchBaseQuery({\r\n        baseUrl: RHEMA_LOCALIZE.RHEMA_REST_ENDPOINTS.deactivate,\r\n        prepareHeaders,\r\n    }),\r\n    endpoints: (builder) => ({\r\n        deactivate: builder.mutation({\r\n            query: (body) => {\r\n                const { product_slug, license } = body\r\n                if (!PRODUCT_SLUGS.includes(product_slug)) {\r\n                    throw new Error('Error in mutation.query')\r\n                }\r\n                return {\r\n                    method: 'POST',\r\n                    body: {\r\n                        product_slug,\r\n                        license,\r\n                    },\r\n                }\r\n            },\r\n            transformResponse: (response) => {\r\n                console.log(response)\r\n                return response\r\n            },\r\n            transformErrorResponse: (response) => {\r\n                console.log(response)\r\n                return response\r\n            },\r\n        }),\r\n    }),\r\n})\r\n\r\nexport const { useDeactivateMutation } = deactivateApi\r\n\r\nexport const signinApi = createApi({\r\n    reducerPath: 'api.signin',\r\n    baseQuery: fetchBaseQuery({\r\n        baseUrl: RHEMA_LOCALIZE.RHEMA_REST_ENDPOINTS.account,\r\n        prepareHeaders,\r\n    }),\r\n    endpoints: (builder) => ({\r\n        signin: builder.mutation({\r\n            query: (body) => {\r\n                return {\r\n                    url: 'signin',\r\n                    method: 'POST',\r\n                    body,\r\n                }\r\n            },\r\n            transformResponse: (response) => {\r\n                return response\r\n            },\r\n            transformErrorResponse: (response) => {\r\n                return response\r\n            },\r\n        }),\r\n    }),\r\n})\r\n\r\nexport const { useSigninMutation } = signinApi\r\n\r\nexport const sendVerifyApi = createApi({\r\n    reducerPath: 'api.sendverify',\r\n    baseQuery: fetchBaseQuery({\r\n        baseUrl: RHEMA_LOCALIZE.RHEMA_REST_ENDPOINTS.account,\r\n        prepareHeaders,\r\n    }),\r\n    endpoints: (builder) => ({\r\n        sendVerify: builder.mutation({\r\n            query: (body) => {\r\n                return {\r\n                    url: 'verify',\r\n                    method: 'POST',\r\n                    body,\r\n                }\r\n            },\r\n            transformResponse: (response) => {\r\n                return response\r\n            },\r\n            transformErrorResponse: (response) => {\r\n                return response\r\n            },\r\n        }),\r\n    }),\r\n})\r\n\r\nexport const { useSendVerifyMutation } = sendVerifyApi\r\n\r\nexport const sendForgotApi = createApi({\r\n    reducerPath: 'api.sendforgot',\r\n    baseQuery: fetchBaseQuery({\r\n        baseUrl: RHEMA_LOCALIZE.RHEMA_REST_ENDPOINTS.account,\r\n        prepareHeaders,\r\n    }),\r\n    endpoints: (builder) => ({\r\n        sendForgot: builder.mutation({\r\n            query: (body) => {\r\n                return {\r\n                    url: 'forgot',\r\n                    method: 'POST',\r\n                    body,\r\n                }\r\n            },\r\n            transformResponse: (response) => {\r\n                return response\r\n            },\r\n            transformErrorResponse: (response) => {\r\n                return response\r\n            },\r\n        }),\r\n    }),\r\n})\r\n\r\nexport const { useSendForgotMutation } = sendForgotApi\r\n\r\nexport const ordersApi = createApi({\r\n    reducerPath: 'api.orders',\r\n    baseQuery: fetchBaseQuery({\r\n        baseUrl: RHEMA_LOCALIZE.RHEMA_REST_ENDPOINTS.account,\r\n        prepareHeaders: (headers) => {\r\n            const nonce = RHEMA_LOCALIZE.RHEMA_BACKEND.NONCE\r\n\r\n            if (nonce) {\r\n                headers.set('X-WP-Nonce', nonce)\r\n            }\r\n\r\n            const token = retrieveLogosSignedToken(sessionStorage)\r\n\r\n            if (token) {\r\n                headers.set('Authorization', `Bearer ${token}`)\r\n            }\r\n\r\n            return headers\r\n        },\r\n    }),\r\n    endpoints: (builder) => ({\r\n        orders: builder.query({\r\n            query: () => ({\r\n                url: 'orders',\r\n            }),\r\n            transformResponse: (response) => {\r\n                return response\r\n            },\r\n            transformErrorResponse: (response) => {\r\n                return response\r\n            },\r\n        }),\r\n    }),\r\n})\r\n\r\nexport const { useOrdersQuery } = ordersApi\r\n","// extracted by mini-css-extract-plugin\nexport {};","module.exports = LOCALIZE_SCRIPT_VARIABLES;","module.exports = window[\"wp\"][\"i18n\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"frontend\": 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkrhema\"] = self[\"webpackChunkrhema\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [\"vendors\"], () => (__webpack_require__(\"./assets/src/js/frontend.js\")))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n",""],"names":["retrieveLogosSignedToken","sessionStorageApi","getItem","e","setLogosSignedToken","token","setItem","removeLogosSignedToken","removeItem","capitalizeFirstLetter","string","charAt","toUpperCase","slice","localDateTime","moment","value","timeZone","Object","prototype","hasOwnProperty","call","utcOffset","format","retrieveFontSize","size","sizeMap","sm","md","lg","retrieveResponseFromRTK","response","code","label","message","console","log","isJsonStr","str","JSON","parse","converterFilter","raws","chapterNumber","filter","raw","chapter","__","RHEMA_LOCALIZE","ACTIVATING_COUNT_DOWN_TIME","IDENTITY_TYPE","PRODUCT_SLUG_REST_NAME_MAP","PRODUCT_SLUGS","ERROR_MESSAGE_MAPPING","rest_cookie_invalid_nonce","RHEMA_DOMAIN_TEXT","UI_MESSAGE_MAPPING","React","createRoot","Provider","ErrorBoundary","ReactShadowRoot","App","store","Pages","container","document","getElementById","HTMLElement","root","render","Error","BrowserRouter","Routes","Route","Navigate","style","pluginFrontendCssUrl","RHEMA_FRONTEND_CSS_URL","RHEMA_INITAIL_DATA","ERROR","RHEMA_SITE_ROOT","PropTypes","useSelector","useDispatch","LinkVerse","clickBookSelector","onClickVerse","Block","onClick","className","extraClassName","title","desc","selected","children","hasTitle","length","hasDesc","sizeIsVaild","some","correctlySize","Title","Desc","classNames","split","join","propTypes","func","bool","oneOfType","element","arrayOf","BlockWrap","extraClassname","Container","toggle","List","showBooksSelector","state","general","headersSwitch","books","booksDataSelector","data","booksData","Books","dispatch","toggleBooks","booksSelector","old","new","currentQueryString","readingQuerys","currentSelectionSelector","currentSelection","onClickBlock","bookIndex","book","index","map","idx","abbr","name","isSomeInCurrentQuery","query","isCurrentSelection","bind","object","Chapters","toggleChapters","chapters","chapterVerseInfo","translation","info","currentSelectionBookIndex","currentSelectionChapter","currentQueryBookIndexs","keys","Number","currentQueryChapters","currentSelectionChapters","displayChapters","number","push","toString","Verses","toggleVerses","verses","currentSelectionBooks","isSameQueryBookChapter","every","arr","arrQuery","currentQueryChapterVerseInfo","reduce","accumulator","currentIndex","currentArray","currentQueryBook","currentQueryChapter","chapterMaxVerse","displayBooksIndex","displayChapterVerseInfo","isQueryAndSelectionSame","arrData","maxVerse","Array","fill","ele","isArray","literalIntegral","fromIntegral","verse","toIntegral","maxVerseNumberOfChapter","Link","Ripples","Highlighter","generateVerseUrl","Button","KeywordLabel","StringLabel","DrawerTitle","slug","Line","bookAbbr","chapterNum","verseNum","currentKeywords","search","keywords","current","bookAbbrString","useState","useForm","useSelect","useMultipleSelection","toggleDrawer","Form","onSubmit","FieldRow","CategorySelector","options","isOpen","setIsOpen","highlightedIndex","setHighlightedIndex","initialSelectedItems","getSelectedItemProps","getDropdownProps","addSelectedItem","removeSelectedItem","selectedItems","getFilteredItems","items","item","indexOf","preventDefault","selectedItem","stopPropagation","preventKeyAction","backgroundColor","Footer","Posts","register","handleSubmit","errors","formState","required","joiResolver","BiChevronLeft","BiFontSize","FieldSchama","switchHeadersMain","changeFontSize","switchHeadersSearch","changeSearchPaged","inputSearchKeywords","queryStringModifier","Layout","Tools","Tabs","Main","showMainHeader","main","showSearchHeader","queryString","searchFormMethods","defaultValues","words","resolver","searchBibleRawsByKeyword","isSearching","isSubmitting","onClickFontSize","showBooksHeader","Selection","showSelectionHeader","selection","useCallback","useEffect","useRef","useMemo","max","isEqual","clamp","useParams","useNavigate","motion","FiMinusSquare","Swipe","Skeleton","Paragraph","usePrefetch","updateReadingQuerys","updatePageSwipper","retrieveBookIndexBySlug","AppContainer","showSelection","showSomeDrawer","someDrawerOpend","drawer","key","fullscreen","fullscreenStyle","Top","Bottom","Body","showScroll","classnames","PageWrapper","movePercentage","pagePos","onTransitionEnd","elementRef","handlerOnTransitionEnd","addEventListener","removeEventListener","transform","Content","pagePosition","currentBookMaxChapter","currentChapter","onMoveFirstPage","onMoveLastPage","onCompletedMove","changePageMovePercentageThreshold","maxChapterNumberOfCurrentBook","parseInt","currentChapterNumber","initialPos","showMain","pageSwipper","onTransition","setMovePercentage","onSwipeMove","position","event","movePercentageX","x","screen","width","toFixed","onSwipeEnd","moveAbsPercentage","Math","abs","nextPagePos","offsetNext","pagePosNext","pageClassNames","child","onMoveStartPage","onMoveEndPage","BbileRaws","bookRaws","selectedRaws","navigate","chapterPaged","currentBookIndex","bookSlugOfParam","books1","prefetchRaw","num","prepareChaptersSlot","slotIdx","slotChapterNumber","fetchedChapterRaws","maxVerseNumber","renderChapters","returnChapters","chapterPageNumber","pagesCount","middleChapterIndex","findIndex","sort","a","newChapterPaged","ranges","withPrevChapter","withNextChapter","offest","newReadingQuerys","pageIdx","isWaitingLoading","selectedRaw","id","text","RawsContent","memo","prev","next","Page","Drawer","showDrawer","display","transitionEnd","ease","LeftSide","MiddleSide","RightSide","Row","SelectedRaw","bookData","Headers","Search","useGetBibleRawQuery","switchHeadersBooks","generateRestRangeParam","retrieveChapterByParamString","validIsQueryWholeChapter","loadRaws","stateData","isAfterReload","isQueryWholeChapter","urlParams","error","isFetching","resetErrorBoundary","displayMsg","generateRandomlyChapter","MemoContainer","Home","RandomlyChapter","randomlyChapter","Forms","params","useLongPress","switchHeadersSelection","putRaw","delRaw","RelateContent","active","block","isSelectionMode","displaySetting","fontSize","rawIndex","threshold","cancelOnMovement","selectedRawIndex","isSelectedRaw","generateBeforeContentClassName","beforeIsWider","useSearchBibleRawsQuery","Results","paged","history","showSearchResults","skip","currentData","isLoading","isUninitialized","results","total","hits","loadingLine","hasMore","hasError","keyword","createSlice","initialQuery","QUERYS","initialState","RAW","BOOKS","TRANSLATION","ABBR","INFO","dataSlice","reducers","action","payload","newDiffRaws","newFetchedRaw","fetchedRaw","prepareRaws","b","insertRaw","actions","reducer","disableAllHeader","forEach","generalSlice","toggleScreen","drawerName","booksSelectorToggle","booksSelectorBooks","booksSelectorChapters","booksSelectorVerses","payloadKeys","currentClickBookChapterVerses","includes","sizes","currentSizeIndex","nextfontSize","selectedSlice","targetID","targetIndex","splice","clearRaw","configureStore","setupListeners","bibleApi","searchApi","generalReducer","dataReducer","selectedReducer","reducerPath","middleware","getDefaultMiddleware","concat","Tab","isActive","underlineClassNames","BookTab","classname","triggerTabs","onClickTabBook","onClickTabChapter","onClickTabVerse","forwardRef","HiOutlineSearch","AiOutlineExpand","AiOutlineCompress","BsPlus","MdHistoryToggleOff","Bordered","Borderless","SearchBar","ref","expand","otherprops","inputClassNames","FullScreenToggle","Icon","BooksSelectorButton","range","toggleRange","pop","shift","AddNewPostButton","showOn","y","CurrentRawsSelected","displayCurrentSelected","acc","bookFilterd","abbrName","replace","isempty","generatePath","rangeFrom","rangeTo","isSameBook","isSameChapter","returnQueryString","verse1","books2","verse2","paramString","matched","match","getState","bookFiltered","querys","assignSchema","schema","bookIndexRandomly","round","random","chapterIndexRandomly","floor","prepareQueryString","Joi","fields","email","minDomainSegments","tlds","allow","identity_type","valid","product_slug","username","min","password","pattern","RegExp","license","searchKeyword","signinLogosFields","verifyEmailLogosFields","activation_key","empty","forgotPasswordLogosFields","auth_code","confirm_password","activateRhemeaFields","activateRhemeaByLicense","createApi","fetchBaseQuery","shortHash","prepareHeaders","headers","nonce","RHEMA_BACKEND","NONCE","set","optionsApi","baseQuery","baseUrl","RHEMA_REST_ENDPOINTS","endpoints","builder","updateOptions","mutation","body","method","transformResponse","transformErrorResponse","useUpdateOptionsMutation","bible","getBibleRaw","withPrevChapterQueryString","withNextChapterQueryString","joiner","searchBibleRaws","serializeQueryArgs","queryArgs","endpointName","shortHashString","merge","currentCache","newItems","currentItems","currentIds","_id","newPushItems","forceRefetch","currentArg","previousArg","activateApi","activate","activateCore","productSlug","restName","url","activateByLicense","useActivateCoreMutation","useActivateByLicenseMutation","deactivateApi","deactivate","useDeactivateMutation","signinApi","account","signin","useSigninMutation","sendVerifyApi","sendVerify","useSendVerifyMutation","sendForgotApi","sendForgot","useSendForgotMutation","ordersApi","sessionStorage","orders","useOrdersQuery"],"sourceRoot":""}